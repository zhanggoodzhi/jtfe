{"version":3,"sources":["webpack:///./components/corpusUpdateSideBar/index.ts?3637**","webpack:///./pages/knowledge/corpusManage/index/index.ts","webpack:///./pages/knowledge/corpusManage/index/index.less"],"names":[],"mappings":"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","file":"26.js","sourcesContent":["import { addLoadingBg, SideBar, cleanObject, alertMessage } from 'utils';\r\ninterface ICorpusUpdateSideBar {\r\n\t/**\r\n\t * 侧栏标题\r\n\t *\r\n\t * @type {string}\r\n\t * @memberof ICorpusUpdateSideBar\r\n\t */\r\n\ttitle: string;\r\n\t/**\r\n\t * 是否是复述添加那边的\r\n\t *\r\n\t * @type {boolean}\r\n\t * @memberof ICorpusUpdateSideBar\r\n\t */\r\n\tifReview?: boolean;\r\n\thideFn?: Function;\r\n}\r\n\r\nexport default class CorpusUpdateSideBar {\r\n\tprivate op;\r\n\tprivate sideBar;\r\n\tconstructor(o) {\r\n\t\tconst _default = {\r\n\t\t\tifReview: false,\r\n\t\t\ttitle: '添加语料'\r\n\t\t};\r\n\t\tthis.op = { ..._default, ...o };\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.initSideBar();\r\n\t}\r\n\r\n\tprivate initSideBar() {\r\n\t\tthis.sideBar = new SideBar({\r\n\t\t\ttitle: 'xxx',\r\n\t\t\tcontent: '',\r\n\t\t\tonHide: () => {\r\n\t\t\t\tthis.sideBar.elements.wrap.find('iframe').remove();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tpublic open(id, title, src?) {\r\n\t\tconst sideBarEl = this.sideBar.elements.wrap;\r\n\t\tsideBarEl.find('.sidebar-title').text(title);\r\n\t\tconst iframeEl = document.createElement('iframe');\r\n\t\tif (src) {\r\n\t\t\tiframeEl.src = src;\r\n\t\t} else {\r\n\t\t\tconst str = $.param(cleanObject({\r\n\t\t\t\ttype: this.op.ifReview ? 'review' : '',\r\n\t\t\t\tpairId: id ? id : ''\r\n\t\t\t}));\r\n\t\t\tiframeEl.src = `knowledge/corpusManage/update?${str}`;\r\n\t\t}\r\n\t\tsideBarEl.find('.sidebar-content').append($(iframeEl));\r\n\t\tconst endLoading = addLoadingBg(sideBarEl.find('.sidebar-content'));\r\n\t\tiframeEl.onload = () => {\r\n\t\t\tif (endLoading) {\r\n\t\t\t\tendLoading();\r\n\t\t\t}\r\n\t\t\tiframeEl.contentWindow.jump = s => {\r\n\t\t\t\twindow.open(s);\r\n\t\t\t};\r\n\t\t\tiframeEl.contentWindow.hideFn = (res) => {\r\n\t\t\t\talertMessage(res.msg, !res.error);\r\n\t\t\t\tif (!res.error) {\r\n\t\t\t\t\tthis.sideBar.hide();\r\n\t\t\t\t\tthis.op.hideFn();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t};\r\n\t\tthis.sideBar.show();\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/corpusUpdateSideBar/index.ts","import {\r\n\tIconState, alertMessage, ClassifyTree, bindEnter, loadingBtn, endLoadingBtn, cleanObject, CommonDate, formatClassify, renderSimpleTime, confirmModal\r\n\t, formatText, throttle, SideBar, addLoadingBg\r\n} from 'utils';\r\nimport CorpusUpdateSideBar from 'corpusUpdateSideBar';\r\nimport { Table, extendsData } from 'new-table';\r\nimport { VARIABLES, createAddTitle, getTableHeight, bindPageChange, checkLength, commonConfig, simpleConfig } from 'tables';\r\nimport 'tree';\r\nimport 'daterangepicker';\r\nimport './index.less';\r\nimport { DelayUpload } from 'upload';\r\n\r\ndeclare const selectData;\r\ndeclare const isreturn: boolean;\r\ndeclare const kbRestUrl;\r\ndeclare const appid;\r\nnamespace KnowledgeEditbyAIndex {\r\n\tlet actionTable: Table, pairId;\r\n\tlet request;\r\n\tlet endLoading;\r\n\tlet sideBar;\r\n\tlet currentResourceData;\r\n\tconst classify = fillSelectData(); // 填充下拉框菜单信息\r\n\tconst date = initDate(); // 初始化时间表单\r\n\tclearSession();\r\n\t// initDataTables(); // 初始化主表格\r\n\tconst table = new Table({\r\n\t\tel: $('#table'),\r\n\t\tcheckbox: {\r\n\t\t\tdata: 'pairId'\r\n\t\t},\r\n\t\toptions: {\r\n\t\t\tajax: {\r\n\t\t\t\ttype: 'GET',\r\n\t\t\t\turl: 'knowledge/corpusManage/corpus/list',\r\n\t\t\t\tdataSrc: function (data) {\r\n\t\t\t\t\tconst d = data.rows;\r\n\t\t\t\t\treturn d;\r\n\t\t\t\t},\r\n\t\t\t\tdata: function (d: any) {\r\n\t\t\t\t\tconst order = d.order[0],\r\n\t\t\t\t\t\tfield = d.columns[order.column].data,\r\n\t\t\t\t\t\tdata = Object.assign(getFormData(), {\r\n\t\t\t\t\t\t\tpage: Math.floor((d.start + d.length) / d.length),\r\n\t\t\t\t\t\t\trows: d.length,\r\n\t\t\t\t\t\t\tsortType: order.dir,\r\n\t\t\t\t\t\t\tsortField: field\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\treturn cleanObject(data);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tserverSide: true,\r\n\t\t\tpaging: true,\r\n\t\t\tordering: true,\r\n\t\t\t// order: [[8, 'desc']],\r\n\t\t\torder: [[3, 'desc']],\r\n\t\t\tcolumns: [\r\n\t\t\t\t// {\r\n\t\t\t\t// \tdata: 'countSubQ',\r\n\t\t\t\t// \ttitle: '',\r\n\t\t\t\t// \torderable: false,\r\n\t\t\t\t// \twidth: '12px',\r\n\t\t\t\t// \tclassName: 'show-q-corpus force-width prevent',\r\n\t\t\t\t// \tcreatedCell: createShowCorpus\r\n\t\t\t\t// },\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'question',\r\n\t\t\t\t\tdata: 'literal',\r\n\t\t\t\t\ttitle: '问题',\r\n\t\t\t\t\torderable: false,\r\n\t\t\t\t\trender: renderQuestion\r\n\t\t\t\t},\r\n\t\t\t\t// {\r\n\t\t\t\t// \tdata: 'countSubA',\r\n\t\t\t\t// \ttitle: '',\r\n\t\t\t\t// \torderable: false,\r\n\t\t\t\t// \twidth: '12px',\r\n\t\t\t\t// \tclassName: 'show-a-corpus force-width prevent',\r\n\t\t\t\t// \tcreatedCell: createShowCorpus\r\n\t\t\t\t// },\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'plainText',\r\n\t\t\t\t\tdata: 'digest',\r\n\t\t\t\t\ttitle: '回复',\r\n\t\t\t\t\torderable: false,\r\n\t\t\t\t\trender: renderAnswer\r\n\t\t\t\t},\r\n\t\t\t\t// {\r\n\t\t\t\t// \tdata: 'locked',\r\n\t\t\t\t// \ttitle: '对话模型',\r\n\t\t\t\t// \torderable: false,\r\n\t\t\t\t// \twidth: '58px',\r\n\t\t\t\t// \tclassName: 'prevent',\r\n\t\t\t\t// \trender: renderDialog\r\n\t\t\t\t// },\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'updateTime',\r\n\t\t\t\t\tdata: 'qupdateTime',\r\n\t\t\t\t\twidth: '70px',\r\n\t\t\t\t\ttitle: '更新时间',\r\n\t\t\t\t\trender: renderSimpleTime\r\n\t\t\t\t}, {\r\n\t\t\t\t\tdata: 'questionId',\r\n\t\t\t\t\ttitle: '操作',\r\n\t\t\t\t\twidth: '220px',\r\n\t\t\t\t\trender: renderOperation,\r\n\t\t\t\t\torderable: false\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tinitComplete: initComplete\r\n\t\t}\r\n\t});\r\n\tfunction renderOperation(text, status, rowData, a) {\r\n\t\tlet talk = `<a data-id=\"${rowData.pairId}\" data-q=\"${rowData.literal}\" class=\"operate talk\">对话模型</a>`;\r\n\t\tif (!rowData.locked) {\r\n\t\t\ttalk = '';\r\n\t\t}\r\n\t\treturn `<a data-id=\"${rowData.pairId}\" class=\"operate edit\">编辑</a><a data-id=\"${rowData.pairId}\" class=\"operate check\">查看操作记录</a><a data-id=\"${rowData.pairId}\" class=\"operate delete\">删除</a>${talk}`;\r\n\t}\r\n\tfunction initSideBar() {\r\n\t\tsideBar = new CorpusUpdateSideBar({\r\n\t\t\thideFn: () => {\r\n\t\t\t\ttable.reload();\r\n\t\t\t}\r\n\t\t});\r\n\t\t// sideBar = new SideBar({\r\n\t\t// \tid: 'language',\r\n\t\t// \ttitle: '添加语料',\r\n\t\t// \tcontent: '',\r\n\t\t// \tonHide: () => {\r\n\t\t// \t\t$('#language').find('iframe').remove();\r\n\t\t// \t}\r\n\t\t// });\r\n\t}\r\n\tfunction renderType(type) {\r\n\t\tfor (let v of selectData.type) {\r\n\t\t\tif (v.id === type) {\r\n\t\t\t\treturn v.name;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn '未知';\r\n\t}\r\n\tfunction renderQuestion(text, status, rowData) {\r\n\t\tconst classifyName = renderClassify(rowData.classifyId);\r\n\t\tlet numberEl = `<a class=\"qmore\" data-id=\"${rowData.pairId}\">${rowData.countSubQ}</a>`;\r\n\t\tif (rowData.countSubQ <= 0) {\r\n\t\t\tnumberEl = `<a class=\"zero\" data-id=\"${rowData.pairId}\">${rowData.countSubQ}</a>`;\r\n\t\t}\r\n\t\tlet recommend = `<span class=\"small-item small repeat\">推荐问题:<a class=\"rmore\" data-id=\"${rowData.questionId}\">${rowData.recommendNum}</a></span>`;\r\n\t\tif (!rowData.recommendNum) {\r\n\t\t\trecommend = '';\r\n\t\t}\r\n\t\treturn `\r\n\t\t<p class=\"info ellipsis\" title=\"${text}\"><span>${text}<span></p>\r\n\t\t<p class=\"small info\"><span class=\"small-item big\">类型:${classifyName}</span><span class=\"small-item small repeat\">复述问法:${numberEl}</span>${recommend}</p>\r\n\t\t`;\r\n\t}\r\n\tfunction renderAnswer(text, status, rowData) {\r\n\t\tconst pushway = renderPushway(rowData.pushway);\r\n\t\tconst character = renderCharacter(rowData.characterId);\r\n\t\tconst type = renderType(rowData.type);\r\n\t\tconst enType = getTypeName(rowData.type);\r\n\t\tlet numberEl = `<a class=\"amore\" data-id=\"${rowData.pairId}\">${rowData.countSubA}</a>`;\r\n\t\tif (rowData.countSubA <= 0) {\r\n\t\t\tnumberEl = `<a class=\"zero\" data-id=\"${rowData.pairId}\">${rowData.countSubA}</a>`;\r\n\t\t}\r\n\t\treturn `\r\n\t\t<p class=\"info\"><span class=\"small\">${type}:</span><span class=\"ellipsis a-hover\" data-type=\"${enType}\" data-id=\"${rowData.resourceId}\" data-toggle=\"popover\" data-trigger=\"manual\">${formatText(text)}</span></p>\r\n\t\t<p class=\"small info\"><span class=\"small-item\">渠道:${pushway}</span><span class=\"small-item\">角色:${character}</span><span class=\"small-item repeat\">其他回复:${numberEl}</span></p>\r\n\t\t`;\r\n\t}\r\n\tfunction initDate() {\r\n\t\treturn new CommonDate({\r\n\t\t\tel: $('#form-date')\r\n\t\t});\r\n\t}\r\n\r\n\t// 填充下拉框数据\r\n\tfunction fillSelectData() {\r\n\t\treturn new ClassifyTree({\r\n\t\t\tel: $('#classify'),\r\n\t\t\tdata: formatClassify(selectData.classify, true),\r\n\t\t\tselected: true,\r\n\t\t\tmultiple: true\r\n\t\t});\r\n\t}\r\n\r\n\tfunction initComplete() {\r\n\t\tconst dt = table.dt;\r\n\t\tconst delBtn = $('#delete-submit-btn');\r\n\t\tconst uploadBtn = $('#upload-submit-btn');\r\n\t\tconst upload = new DelayUpload({\r\n\t\t\taccept: '.xls,.xlsx',\r\n\t\t\turl: 'knowledge/corpusManage/uploadCorpusSubmit',\r\n\t\t\tsaveBtn: $('#upload-wrap'),\r\n\t\t\tsubmitBtn: uploadBtn,\r\n\t\t\tname: 'attach',\r\n\t\t\tsave: (id, name) => {\r\n\t\t\t\t$('#info-wrap').show();\r\n\t\t\t\t$('#info-name').text(name);\r\n\t\t\t},\r\n\t\t\tsuccess: res => {\r\n\t\t\t\tif (!res.error) {\r\n\t\t\t\t\t$('#upload').modal('hide');\r\n\t\t\t\t\ttable.reload();\r\n\t\t\t\t\t$('#info-wrap').hide();\r\n\t\t\t\t\t$('#info-name').text('');\r\n\t\t\t\t\t// isOver();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcancel: () => {\r\n\t\t\t\t$('#info-wrap').hide();\r\n\t\t\t\t$('#info-name').text('');\r\n\t\t\t}\r\n\t\t});\r\n\t\t// table.addChildRows($('#table tbody tr:first'), [{ _all: 'sb' }, { qupdateTime: '123' }], 'q');\r\n\t\t$('#upload').on('hide.bs.modal', () => {\r\n\t\t\tupload.cancel();\r\n\t\t});\r\n\t\tlet /*ids: string[] = [],*/ actionInit: boolean = false;\r\n\t\t// renderForm();\r\n\t\tinitSideBar();\r\n\t\tbindPageChange(dt, $('#page-change'));\r\n\r\n\t\t$('#add-corpus-btn').on('click', () => {\r\n\t\t\tsideBar.open(null, '添加语料');\r\n\t\t\t// changeIframeSideBar('添加语料', 'knowledge/corpusManage/update');\r\n\t\t});\r\n\r\n\t\t// $('#language').on('save', function () {\r\n\t\t// \tsideBar.hide();\r\n\t\t// \ttable.reload();\r\n\t\t// });\r\n\r\n\t\t$('#search-btn').on('click', () => {\r\n\t\t\ttable.reload(true);\r\n\t\t});\r\n\t\t// $('#edit-btn').on('click', () => {\r\n\t\t// \tconst data = dt.rows({ selected: true }).data().toArray();\r\n\t\t// \tif (data.length < 1) {\r\n\t\t// \t\talertMessage('请选择要操作的问题！');\r\n\t\t// \t}\r\n\t\t// \telse if (data.length > 1) {\r\n\t\t// \t\talertMessage('只能编辑一个问题！');\r\n\t\t// \t}`\r\n\t\t// \telse {\r\n\t\t// \t\tconst id = data[0].pairId;\r\n\t\t// \t\twindow.location.href = `${ctx}/knowledge/corpusManage/update?pairId=${id}`;\r\n\t\t// \t}\r\n\t\t// });\r\n\r\n\t\t$('#del-btn').on('click', () => {\r\n\t\t\tconst d: any = dt.rows({ selected: true }).data();\r\n\t\t\t// let num=0;\r\n\t\t\tif (d.length <= 0) {\r\n\t\t\t\talertMessage('请选择要操作的问题！');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst ids = d.map(v => v.pairId);\r\n\t\t\t// for (let v of d) {\r\n\t\t\t// \t// if (v.dialog === 0) {\r\n\t\t\t// \tids.push(v.id);\r\n\t\t\t// \t// }\r\n\t\t\t//     /* if(v.classifyId===1056){\r\n\t\t\t//          ++num;\r\n\t\t\t//      }*/\r\n\t\t\t// }\r\n\t\t\t// if (ids.length <= 0) {\r\n\t\t\t// \talertMessage('语料在对话模型中被使用,请先修改对话模型后再尝试删除语料');\r\n\t\t\t// \treturn;\r\n\t\t\t// }\r\n\t\t\t/*if(num){\r\n\t\t\t\talertMessage('无法删除类型为”对话模型“的语料，请重新选择不包含该类型的语料');\r\n\t\t\t\treturn;\r\n\t\t\t}*/\r\n\r\n\t\t\tconfirmModal({\r\n\t\t\t\tmsg: '确认删除选中的语料吗？',\r\n\t\t\t\tcb: (modal, btn) => {\r\n\t\t\t\t\tconst end = loadingBtn(btn);\r\n\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\turl: `knowledge/corpusManage/corpus/delete?${$.param({\r\n\t\t\t\t\t\t\tpairIds: ids.join(',')\r\n\t\t\t\t\t\t})}`,\r\n\t\t\t\t\t\ttype: 'DELETE',\r\n\t\t\t\t\t\tsuccess: (msg) => {\r\n\t\t\t\t\t\t\tif (!msg.error) {\r\n\t\t\t\t\t\t\t\ttable.reload();\r\n\t\t\t\t\t\t\t\tmodal.modal('hide');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\talertMessage(msg.msg, !msg.error);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\t\tend();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// $('#confirm').modal('show');\r\n\t\t});\r\n\r\n\t\t// delBtn.on('click', () => {\r\n\t\t// \tif (ids.length <= 0) {\r\n\t\t// \t\treturn;\r\n\t\t// \t}\r\n\t\t// \tloadingBtn(delBtn);\r\n\t\t// \t$.ajax({\r\n\t\t// \t\turl: 'knowledge/editByA/delete',\r\n\t\t// \t\tdata: {\r\n\t\t// \t\t\tpairIds: ids.join(',')\r\n\t\t// \t\t},\r\n\t\t// \t\ttype: 'POST',\r\n\t\t// \t\tsuccess: (msg) => {\r\n\t\t// \t\t\tif (!msg.error) {\r\n\t\t// \t\t\t\tt.refresh();\r\n\t\t// \t\t\t\t$('#confirm').modal('hide');\r\n\t\t// \t\t\t}\r\n\t\t// \t\t\talertMessage(msg.msg, msg.code);\r\n\t\t// \t\t},\r\n\t\t// \t\tcomplete: () => {\r\n\t\t// \t\t\tendLoadingBtn(delBtn);\r\n\t\t// \t\t}\r\n\t\t// \t});\r\n\t\t// });\r\n\r\n\t\t$('#reset-btn').on('click', () => {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tdate.resetDate();\r\n\t\t\t\tclassify.reset();\r\n\t\t\t\tdt.page.len($('#page-change').val());\r\n\t\t\t}, 0);\r\n\t\t});\r\n\r\n\t\t// $('#confirm').on('hidden.bs.modal', () => {\r\n\t\t// \tids = [];\r\n\t\t// });\r\n\r\n\t\t$upBtn.on('click', () => {\r\n\t\t\t$('#upload').modal('show');\r\n\t\t});\r\n\r\n\t\tbindEnter($('#form-answer,#form-question'), () => table.reload(true));\r\n\r\n\t\t// $('m ').on('click', () => t.refresh(true)); // 查询问题\r\n\r\n\t\t$('#export-btn').on('click', (e) => {\r\n\t\t\texportCorpus('export/export', $(e.currentTarget));\r\n\t\t});\r\n\r\n\t\t/* $('#nolimit-export-btn').on('click', () => {\r\n\t\t\texportCorpus('corpus/exportExcel_nolimit');\r\n\t\t}); */\r\n\r\n\t\t$('#table').on('mouseenter', '.a-hover', (e) => {\r\n\t\t\tconst el = $(e.currentTarget);\r\n\t\t\tconst data = el.data();\r\n\t\t\tif (data['bs.popover']) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst type = data.type;\r\n\t\t\tconst id = data.id;\r\n\t\t\tconst config = {\r\n\t\t\t\thtml: true,\r\n\t\t\t\tcontainer: el,\r\n\t\t\t\ttrigger: 'hover',\r\n\t\t\t\tplacement: 'top',\r\n\t\t\t\tdelay: { 'show': 300, 'hide': 300 }\r\n\t\t\t} as any;\r\n\r\n\r\n\t\t\tconst show = () => {\r\n\t\t\t\tif (el.is(':hover')) {\r\n\t\t\t\t\tel.popover('show');\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tif (type === 'html' || type === 'text' || type === 'intent') {\r\n\t\t\t\tconst rowData = (table.dt.row(el.closest('tr')).data() as any);\r\n\t\t\t\tconst text = rowData ? rowData.digest : el.data().digest;\r\n\t\t\t\tel.popover({\r\n\t\t\t\t\t...config,\r\n\t\t\t\t\ttemplate: '<div class=\"popover\" role=\"tooltip\"><div class=\"arrow\"></div><div class=\"popover-content\"></div></div>',\r\n\t\t\t\t\tcontent: `<div class=\"resource-content\">${text}</div>`\r\n\t\t\t\t});\r\n\t\t\t\tshow();\r\n\t\t\t}\r\n\t\t\telse if (type === 'attach') {\r\n\t\t\t\trequest = $.ajax({\r\n\t\t\t\t\turl: `${kbRestUrl}/attachment/detail/${id}`,\r\n\t\t\t\t\tmethod: 'GET'\r\n\t\t\t\t}).done((msg) => {\r\n\t\t\t\t\tconst resourceItem = getResourceItem(el.data().type, msg);\r\n\t\t\t\t\tel.popover({\r\n\t\t\t\t\t\t...config,\r\n\t\t\t\t\t\ttemplate: '<div class=\"popover\" role=\"tooltip\"><div class=\"arrow\"></div><div class=\"popover-content\"></div></div>',\r\n\t\t\t\t\t\tcontent: `<div class=\"resource-content\">${resourceItem}</div>`\r\n\t\t\t\t\t});\r\n\t\t\t\t\tshow();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\trequest = $.ajax({\r\n\t\t\t\t\turl: `${kbRestUrl}/resource/detail`,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tappid: appid,\r\n\t\t\t\t\t\ttype,\r\n\t\t\t\t\t\tmaterialId: id\r\n\t\t\t\t\t}\r\n\t\t\t\t}).done((msg) => {\r\n\t\t\t\t\tcurrentResourceData = msg;\r\n\t\t\t\t\tconst resourceItem = getResourceItem(el.data().type, msg);\r\n\t\t\t\t\tel.popover({\r\n\t\t\t\t\t\t...config,\r\n\t\t\t\t\t\ttemplate: '<div class=\"popover\" role=\"tooltip\"><div class=\"arrow\"></div><div class=\"popover-content\"></div></div>',\r\n\t\t\t\t\t\tcontent: `<div class=\"resource-content\">${resourceItem}</div>`\r\n\t\t\t\t\t});\r\n\t\t\t\t\tshow();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t\t// .on('mouseleave', '.a-hover', (e) => {\r\n\t\t// \tconst el = $(e.currentTarget);\r\n\t\t// \tconst popover = el.data('bs.popover');\r\n\t\t// \tsetTimeout(() => {\r\n\r\n\t\t// \t}, 300);\r\n\t\t// \tif (popover) {\r\n\t\t// \t\tel.popover('hide');\r\n\t\t// \t}\r\n\t\t// });\r\n\r\n\t\t// 处理表格hover事件\r\n\t\t// $('#table').on('mouseenter', '.a-hover', throttle(\r\n\t\t// \t(e) => {\r\n\t\t// \t\tconst el = $(e.currentTarget);\r\n\t\t// \t\tconst type = el.data().type;\r\n\t\t// \t\tconst id = el.data().id;\r\n\t\t// \t\tif (el.siblings('.popover').length) {\r\n\t\t// \t\t\treturn;\r\n\t\t// \t\t}\r\n\t\t// \t\tif ($('[data-toggle=\"popover\"]').length) {\r\n\t\t// \t\t\t$('[data-toggle=\"popover\"]').popover('destroy');\r\n\t\t// \t\t}\r\n\t\t// \t\tif (request) {\r\n\t\t// \t\t\trequest.abort();\r\n\t\t// \t\t\trequest = null;\r\n\t\t// \t\t}\r\n\t\t// \t\tconst text = (table.dt.row(el.closest('tr')).data() as any).digest;\r\n\r\n\t\t// \t\tif (type === 'html' || type === 'text' || type === 'intent') {\r\n\t\t// \t\t\tel.popover({\r\n\t\t// \t\t\t\ttemplate: '<div class=\"popover\" role=\"tooltip\"><div class=\"arrow\"></div><div class=\"popover-content\"></div></div>',\r\n\t\t// \t\t\t\thtml: true,\r\n\t\t// \t\t\t\tcontent: `<div class=\"resource-content\">${text}</div>`,\r\n\t\t// \t\t\t\tcontainer: 'body'\r\n\t\t// \t\t\t}).popover('show');\r\n\t\t// \t\t}\r\n\t\t// \t\telse if (type === 'attach') {\r\n\t\t// \t\t\trequest = $.ajax({\r\n\t\t// \t\t\t\turl: `${kbRestUrl}/attachment/detail/${id}`,\r\n\t\t// \t\t\t\tmethod: 'GET'\r\n\t\t// \t\t\t}).done((msg) => {\r\n\t\t// \t\t\t\tconst resourceItem = getResourceItem(el.data().type, msg);\r\n\t\t// \t\t\t\tel.popover({\r\n\t\t// \t\t\t\t\ttemplate: '<div class=\"popover\" role=\"tooltip\"><div class=\"arrow\"></div><div class=\"popover-content\"></div></div>',\r\n\t\t// \t\t\t\t\thtml: true,\r\n\t\t// \t\t\t\t\tcontent: `<div class=\"resource-content\">${resourceItem}</div>`,\r\n\t\t// \t\t\t\t\tcontainer: 'body'\r\n\t\t// \t\t\t\t}).popover('show');\r\n\t\t// \t\t\t});\r\n\t\t// \t\t}\r\n\t\t// \t\telse {\r\n\t\t// \t\t\trequest = $.ajax({\r\n\t\t// \t\t\t\turl: `${kbRestUrl}/resource/detail`,\r\n\t\t// \t\t\t\tdata: {\r\n\t\t// \t\t\t\t\tappid: appid,\r\n\t\t// \t\t\t\t\ttype,\r\n\t\t// \t\t\t\t\tmaterialId: id\r\n\t\t// \t\t\t\t}\r\n\t\t// \t\t\t}).done((msg) => {\r\n\t\t// \t\t\t\tcurrentResourceData = msg;\r\n\t\t// \t\t\t\tconst resourceItem = getResourceItem(el.data().type, msg);\r\n\t\t// \t\t\t\tel.popover({\r\n\t\t// \t\t\t\t\ttemplate: '<div class=\"popover\" role=\"tooltip\"><div class=\"arrow\"></div><div class=\"popover-content\"></div></div>',\r\n\t\t// \t\t\t\t\thtml: true,\r\n\t\t// \t\t\t\t\tcontent: `<div class=\"resource-content\">${resourceItem}</div>`,\r\n\t\t// \t\t\t\t\tcontainer: 'body'\r\n\t\t// \t\t\t\t}).popover('show');\r\n\t\t// \t\t\t});\r\n\t\t// \t\t}\r\n\t\t// \t},\r\n\t\t// \t200));\r\n\r\n\t\t// $('body').on('click', function (e) {\r\n\t\t// \tif ($(e.target).closest('.popover').length) {\r\n\t\t// \t\treturn;\r\n\t\t// \t}\r\n\t\t// \tif ($(e.target).closest('#preview-modal').length) {\r\n\t\t// \t\treturn;\r\n\t\t// \t}\r\n\t\t// \t$('[data-toggle=\"popover\"]').popover('hide');\r\n\t\t// });\r\n\r\n\t\t$('#table').on('click', '.cover', function () {\r\n\t\t\tconst detail = currentResourceData.articles[0];\r\n\t\t\tconst modalEl = $('#preview-modal');\r\n\t\t\tmodalEl.find('.title').text(detail.title);\r\n\t\t\tmodalEl.find('.image-wrap img').attr('src', detail.picUrl);\r\n\t\t\tmodalEl.find('.content').html(detail.content);\r\n\t\t\tmodalEl.find('.desc').text(detail.desc);\r\n\t\t\tmodalEl.modal('show');\r\n\t\t});\r\n\r\n\t\t$('#table').on('click', '.child', function () {\r\n\t\t\tconst modalEl = $('#preview-modal');\r\n\t\t\tconst index = $('.popover:visible').find('.cover,.child').index($(this));\r\n\t\t\tconst detail = currentResourceData.articles[index];\r\n\t\t\tmodalEl.find('.title').text(detail.title);\r\n\t\t\tmodalEl.find('.image-wrap img').attr('src', detail.picUrl);\r\n\t\t\tmodalEl.find('.content').html(detail.content);\r\n\t\t\tmodalEl.find('.desc').text(detail.desc);\r\n\t\t\tmodalEl.modal('show');\r\n\t\t\t$('#preview-modal').modal('show');\r\n\t\t});\r\n\r\n\t\t$('#table').on('click', '.qmore', function () {\r\n\t\t\tconst el = $(this);\r\n\t\t\tconst tr = el.closest('tr');\r\n\t\t\tif (el.hasClass('open')) {\r\n\t\t\t\ttable.hideChildRows(tr, 'question');\r\n\t\t\t\tel.removeClass('open');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\thideAllChildRows();\r\n\t\t\tif (table.hasChild(tr, 'question')) {\r\n\t\t\t\tel.addClass('open');\r\n\t\t\t\ttable.showChildRows(tr, 'question');\r\n\t\t\t} else {\r\n\t\t\t\t$.ajax({\r\n\t\t\t\t\turl: 'knowledge/corpusManage/listSunQuestion',\r\n\t\t\t\t\ttype: 'GET',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tpairId: el.data('id')\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (!res.error) {\r\n\t\t\t\t\t\t\tlet data;\r\n\t\t\t\t\t\t\tif (res.data && res.data.length > 0) {\r\n\t\t\t\t\t\t\t\tdata = res.data.map(v => {\r\n\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\tquestion: v.literal,\r\n\t\t\t\t\t\t\t\t\t\tupdateTime: renderSimpleTime(v.updateTime)\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tdata = [{ _all: '无数据' }];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ttable.addChildRows(tr, data, 'question');\r\n\t\t\t\t\t\t\tel.addClass('open');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$('#table').on('click', '.rmore', function () {\r\n\t\t\tconst el = $(this);\r\n\t\t\tconst tr = el.closest('tr');\r\n\t\t\tif (el.hasClass('open')) {\r\n\t\t\t\ttable.hideChildRows(tr, 'question');\r\n\t\t\t\tel.removeClass('open');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\thideAllChildRows();\r\n\t\t\tif (table.hasChild(tr, 'question')) {\r\n\t\t\t\tel.addClass('open');\r\n\t\t\t\ttable.showChildRows(tr, 'question');\r\n\t\t\t} else {\r\n\t\t\t\t$.ajax({\r\n\t\t\t\t\turl: 'knowledge/corpusManage/findByQuestionId',\r\n\t\t\t\t\ttype: 'GET',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tquestionId: el.data('id')\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (!res.error) {\r\n\t\t\t\t\t\t\tlet data;\r\n\t\t\t\t\t\t\tif (res.data && res.data.length > 0) {\r\n\t\t\t\t\t\t\t\tdata = res.data.map(v => {\r\n\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\tquestion: v.recommendQuestion,\r\n\t\t\t\t\t\t\t\t\t\tupdateTime: renderSimpleTime(v.updateTime)\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tdata = [{ _all: '无数据' }];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ttable.addChildRows(tr, data, 'question');\r\n\t\t\t\t\t\t\tel.addClass('open');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$('#table').on('click', '.amore', function () {\r\n\t\t\tconst el = $(this);\r\n\t\t\tconst tr = el.closest('tr');\r\n\t\t\tif (el.hasClass('open')) {\r\n\t\t\t\ttable.hideChildRows(tr, 'plainText');\r\n\t\t\t\tel.removeClass('open');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\thideAllChildRows();\r\n\r\n\t\t\tif (table.hasChild(tr, 'plainText')) {\r\n\t\t\t\tel.addClass('open');\r\n\t\t\t\ttable.showChildRows(tr, 'plainText');\r\n\t\t\t} else {\r\n\t\t\t\t$.ajax({\r\n\t\t\t\t\turl: 'knowledge/corpusManage/listAnswer',\r\n\t\t\t\t\ttype: 'GET',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tpairId: el.data('id')\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (!res.error) {\r\n\t\t\t\t\t\t\tlet data;\r\n\t\t\t\t\t\t\tif (res.data && res.data.length > 0) {\r\n\t\t\t\t\t\t\t\tdata = res.data.map(v => {\r\n\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\tplainText: renderChildAnswer(v),\r\n\t\t\t\t\t\t\t\t\t\tupdateTime: renderSimpleTime(v.updateTime)\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tdata = [{ _all: '无数据' }];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ttable.addChildRows(tr, data, 'plainText');\r\n\t\t\t\t\t\t\tel.addClass('open');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// $('#table').on('click', '.show-corpus-td.show-a-corpus', (e) => {\r\n\t\t// showCorpus(e, 'knowledge/corpusManage/listAnswer', 'plainText');\r\n\t\t// });\r\n\r\n\t\t// $('#table').on('click', '.show-corpus-td.show-q-corpus', (e) => {\r\n\t\t// \tshowCorpus(e, 'knowledge/corpusManage/listSunQuestion', 'question');\r\n\t\t// });\r\n\r\n\t\t$('#table').on('click', '.talk', function () {\r\n\t\t\tconst btn = $(this),\r\n\t\t\t\tid = btn.attr('data-id'),\r\n\t\t\t\tq = btn.attr('data-q');\r\n\t\t\tloadingBtn(btn);\r\n\t\t\t$.ajax({\r\n\t\t\t\turl: 'knowledge/corpusManage/listDialogByPairId',\r\n\t\t\t\ttype: 'GET',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tpairId: id\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: (msg) => {\r\n\t\t\t\t\tif (!msg.error) {\r\n\t\t\t\t\t\t$('#dialog-modal').modal('show');\r\n\t\t\t\t\t\tinitDialogTree(msg.msg, q);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tcomplete: () => {\r\n\t\t\t\t\tendLoadingBtn(btn);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\t$('#table').on('click', '.edit', function () {\r\n\t\t\tconst btn = $(this),\r\n\t\t\t\tid = btn.attr('data-id');\r\n\t\t\tsideBar.open(id, '编辑语料');\r\n\t\t\t// changeIframeSideBar('编辑语料', `knowledge/corpusManage/update?pairId=${id}`);\r\n\t\t});\r\n\t\t$('#table').on('click', '.delete', function () {\r\n\t\t\tconst id = $(this).attr('data-id');\r\n\t\t\tconfirmModal({\r\n\t\t\t\tmsg: '确认删除选中的语料吗？',\r\n\t\t\t\tcb: (modal, btn) => {\r\n\t\t\t\t\tconst end = loadingBtn(btn);\r\n\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\turl: `knowledge/corpusManage/corpus/delete?${$.param({\r\n\t\t\t\t\t\t\tpairIds: id\r\n\t\t\t\t\t\t})}`,\r\n\t\t\t\t\t\ttype: 'DELETE',\r\n\t\t\t\t\t\tsuccess: (msg) => {\r\n\t\t\t\t\t\t\tif (!msg.error) {\r\n\t\t\t\t\t\t\t\ttable.reload();\r\n\t\t\t\t\t\t\t\tmodal.modal('hide');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\talertMessage(msg.msg, !msg.error);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\t\tend();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\t$('#table').on('click', '.check', function () {\r\n\t\t\tconst btn = $(this),\r\n\t\t\t\tid = btn.attr('data-id');\r\n\t\t\tpairId = id;\r\n\t\t\tif (!actionTable) {\r\n\t\t\t\tinitActionTable();\r\n\t\t\t} else {\r\n\t\t\t\tactionTable.reload();\r\n\t\t\t}\r\n\t\t\t$('#action-modal').modal('show');\r\n\t\t});\r\n\t\t$('#action-btn').on('click', () => {\r\n\t\t\tcheckLength({\r\n\t\t\t\taction: '查看',\r\n\t\t\t\tname: '语料',\r\n\t\t\t\ttable: dt,\r\n\t\t\t\tcb: (data) => {\r\n\t\t\t\t\tpairId = data.pairId;\r\n\r\n\t\t\t\t\tif (!actionTable) {\r\n\t\t\t\t\t\tinitActionTable();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tactionTable.reload();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t$('#action-modal').modal('show');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t$('#dialog-edit-btn').on('click', function () {\r\n\t\t\tconst selected = $('#dialog').jstree(true).get_selected(true);\r\n\t\t\tif (selected.length > 0) {\r\n\t\t\t\tconst d = selected[0].original;\r\n\t\t\t\twindow.open(`${ctx}/knowledge/dialog/update?id=${d.dialog}`);\r\n\t\t\t} else {\r\n\t\t\t\talertMessage('请选择对话模型');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$('#dialog-modal').on('hidden.bs.modal', () => {\r\n\t\t\t$('#dialog-question').val('');\r\n\t\t\t$('#dialog-answer').html('');\r\n\t\t});\r\n\r\n\t\t// if (!isreturn && init === false) {\r\n\t\t// \tinit = true;\r\n\t\t// }\r\n\t\t// 合并语料\r\n\t\t$('#merge-btn').on('click', () => {\r\n\t\t\tcheckLength({\r\n\t\t\t\taction: '合并',\r\n\t\t\t\tname: '语料',\r\n\t\t\t\ttable: dt,\r\n\t\t\t\tunique: false,\r\n\t\t\t\tcb: (data) => {\r\n\t\t\t\t\tconst ids = data.map(v => 'pairId=' + v.pairId);\r\n\t\t\t\t\tif (data.length === 1) {\r\n\t\t\t\t\t\talertMessage('请至少选择两条或两条以上的语料合并！');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsideBar.open(null, '合并语料', `${ctx}/knowledge/corpusManage/update?${ids.join('&')}`);\r\n\t\t\t\t\t\t// changeIframeSideBar('合并语料', `${ctx}/knowledge/corpusManage/update?${ids.join('&')}`);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t// function changeIframeSideBar(text, src) {\r\n\t// \tconst sideBarEl = $('#language');\r\n\t// \tsideBarEl.find('.sidebar-title').text(text);\r\n\t// \tconst iframeEl = document.createElement('iframe');\r\n\t// \tiframeEl.src = src;\r\n\t// \tiframeEl.onload = function () {\r\n\t// \t\tif (endLoading) {\r\n\t// \t\t\tendLoading();\r\n\t// \t\t}\r\n\t// \t};\r\n\t// \t$('#language .sidebar-content').append($(iframeEl));\r\n\t// \tendLoading = addLoadingBg(sideBarEl.find('.sidebar-content'));\r\n\t// \tsideBar.show();\r\n\t// }\r\n\r\n\tfunction renderChildAnswer(rowData) {\r\n\t\tconst pushway = renderPushway(rowData.pushway);\r\n\t\tconst character = rowData.character.vname;\r\n\t\tconst type = renderType(rowData.type);\r\n\t\tconst enType = getTypeName(rowData.type);\r\n\t\treturn `\r\n\t\t<p class=\"info\"><span class=\"small\">${type}:</span><span class=\"ellipsis a-hover\" data-type=\"${enType}\" data-digest=\"${rowData.digest}\" data-id=\"${rowData.resourceId}\" data-toggle=\"popover\" data-trigger=\"manual\">${formatText(rowData.plainText)}</span></p>\r\n\t\t<p class=\"small info\"><span class=\"small-item\">渠道:${pushway}</span><span class=\"small-item\">角色:${character}</span></p>\r\n\t\t`;\r\n\t}\r\n\r\n\tfunction getResourceItem(type, data) {\r\n\t\tswitch (type) {\r\n\t\t\tcase 'text':\r\n\t\t\t\treturn data.nonShared.content;\r\n\t\t\tcase 'link':\r\n\t\t\t\treturn `\r\n\t\t\t<a target=\"view_window\" href=\"${data.nonShared.linkUrl}\">${data.title}</a>\r\n\t\t\t<p>${data.desc}<p>\r\n\t\t\t`;\r\n\t\t\tcase 'image': return `\r\n\t\t\t<div class=\"image-wrap\"><img src=\"${data.nonShared.mediaUrl}\"/></div>\r\n\t\t\t<p class=\"tcenter\">${data.title}</p>\r\n\t\t\t`;\r\n\t\t\tcase 'music': return `\r\n\t\t\t<div><audio controls src=\"${data.nonShared.mediaUrl}\"></audio></div>\r\n\t\t\t<p class=\"tcenter\">${data.title}</p>\r\n\t\t\t`;\r\n\t\t\tcase 'voice': return `\r\n\t\t\t<div><audio controls src=\"${data.nonShared.mediaUrl}\"></audio></div>\r\n\t\t\t<p class=\"tcenter\">${data.title}</p>\r\n\t\t\t`;\r\n\t\t\tcase 'video': return `\r\n\t\t\t<p class=\"tcenter\">${data.title}</p>\r\n\t\t\t<div><video controls src=\"${data.nonShared.mediaUrl}\"></video></div>\r\n\t\t\t<p class=\"tcenter\">${data.desc}</p>\r\n\t\t\t`;\r\n\t\t\tcase 'news':\r\n\t\t\t\tconst cover = data.articles[0];\r\n\t\t\t\tlet children = '';\r\n\t\t\t\tdata.articles.forEach((v, i) => {\r\n\t\t\t\t\tif (i === 0) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tchildren += `<div class=\"child clearfix\"><span>${v.title}</span><img src=\"${v.picUrl}\"/></div>`;\r\n\t\t\t\t});\r\n\t\t\t\treturn `\r\n\t\t\t<div class=\"tcenter cover\" style=\"background-image:url(${cover.picUrl})\"><p class=\"big-title\">${cover.title}</p></div>\r\n\t\t\t${children}\r\n\t\t\t`;\r\n\t\t\tcase 'attach':\r\n\t\t\t\tconst src = getSrc(data);\r\n\t\t\t\treturn `\r\n\t\t\t<p class=\"file-wrap\"><img src=\"${src}\"/><a target=\"view_window\" href=\"http://localhost:8080/cloud/knowledge/corpusManage/attach/download?id=${data.id}\">${data.filename}</a></p>\r\n\t\t\t`;\r\n\t\t\tdefault:\r\n\t\t\t\treturn '无此类型';\r\n\t\t}\r\n\t}\r\n\tfunction getSrc(msg) {\r\n\t\tlet imgSrc = 'images/types/';\r\n\t\tswitch (msg.type) {\r\n\t\t\tcase 1:\r\n\t\t\t\tlet docImg;\r\n\t\t\t\tconst extension = msg.fileext.substring(1);\r\n\t\t\t\tif (extension === 'doc' || 'docm' || 'dotx' || 'dotm' || 'docx') {\r\n\t\t\t\t\tdocImg = imgSrc + 'doc.png';\r\n\t\t\t\t} else if (extension === 'xls' || 'xlsx' || 'xlsm' || 'xltx' || 'xltm' || 'xlsb' || 'xlam') {\r\n\t\t\t\t\tdocImg = imgSrc + 'xls.png';\r\n\t\t\t\t} else if (extension === 'ppt' || 'pptx' || 'pptm' || 'ppsm' || 'potx' || 'potm') {\r\n\t\t\t\t\tdocImg = imgSrc + 'ppt.png';\r\n\t\t\t\t} else if (extension === 'pdf') {\r\n\t\t\t\t\tdocImg = imgSrc + 'pdf.png';\r\n\t\t\t\t} else if (extension === 'txt') {\r\n\t\t\t\t\tdocImg = imgSrc + 'txt.png';\r\n\t\t\t\t}\r\n\t\t\t\treturn docImg;\r\n\t\t\tcase 2:\r\n\t\t\t\treturn imgSrc + 'audio.png';\r\n\t\t\tcase 3:\r\n\t\t\t\treturn imgSrc + 'video.png';\r\n\t\t\tcase 4:\r\n\t\t\t\treturn imgSrc + 'image.png';\r\n\t\t\tdefault:\r\n\t\t\t\treturn '';\r\n\t\t}\r\n\t}\r\n\r\n\tfunction hideAllChildRows() {\r\n\t\tconst trs = table.table.find('.open').removeClass('open').closest('tr').toArray();\r\n\r\n\t\ttrs.forEach(v => {\r\n\t\t\tconst tr = $(v);\r\n\t\t\tif (table.isShownChild(tr, 'question')) {\r\n\t\t\t\ttable.hideChildRows(tr, 'question');\r\n\t\t\t} else if (table.isShownChild(tr, 'plainText')) {\r\n\t\t\t\ttable.hideChildRows(tr, 'plainText');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\tfunction initActionTable() {\r\n\t\tactionTable = new Table({\r\n\t\t\tel: $('#action-table'),\r\n\t\t\toptions: {\r\n\t\t\t\tscrollY: '300px',\r\n\t\t\t\tscrollCollapse: true,\r\n\t\t\t\tajax: {\r\n\t\t\t\t\turl: 'knowledge/corpusManage/history',\r\n\t\t\t\t\tdataSrc: data => data.rows,\r\n\t\t\t\t\tdata: data => {\r\n\t\t\t\t\t\treturn extendsData(data, {\r\n\t\t\t\t\t\t\tpairId: pairId\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tselect: false,\r\n\t\t\t\tserverSide: true,\r\n\t\t\t\tpaging: true,\r\n\t\t\t\tcolumns: [\r\n\t\t\t\t\t{ title: '', data: 'id', width: '12px', createdCell: createShowAction },\r\n\t\t\t\t\t{ title: '操作', data: 'content' },\r\n\t\t\t\t\t{ title: '操作时间', data: 'createTime', render: renderSimpleTime, width: '70px' }\r\n\t\t\t\t],\r\n\t\t\t\tinitComplete: () => {\r\n\t\t\t\t\tconst dt = actionTable.dt;\r\n\t\t\t\t\tactionTable.adjustHeader();\r\n\t\t\t\t\t$('#action-table').on('click', '.show-action-td', (e) => {\r\n\t\t\t\t\t\tconst el = $(e.currentTarget),\r\n\t\t\t\t\t\t\trow = dt.row(el.closest('tr')),\r\n\t\t\t\t\t\t\ticon = el.icon();\r\n\t\t\t\t\t\tswitch (icon.state) {\r\n\t\t\t\t\t\t\tcase IconState.loading:\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\tcase IconState.plus:\r\n\t\t\t\t\t\t\t\tif (row.child()) {\r\n\t\t\t\t\t\t\t\t\trow.child.show();\r\n\t\t\t\t\t\t\t\t\ticon.state = IconState.minus;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\ticon.state = IconState.loading;\r\n\t\t\t\t\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\t\t\t\t\turl: 'knowledge/corpusManage/historyDetail',\r\n\t\t\t\t\t\t\t\t\t\ttype: 'GET',\r\n\t\t\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\t\t\thistoryId: el.data('id')\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (!res.error) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (res.data && res.data.length > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet html = '';\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tres.data.forEach(v => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thtml += `\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"action-detial-title\">${v.field}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"text-danger\">${formatText(v.oldValue)}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t=>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"text-danger\">${formatText(v.newValue)}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>`;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trow.child(html).show();\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon.state = IconState.plus;\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\talertMessage(res.msg, !res.error);\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon.state = IconState.minus;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\t\t\t\t\t\ticon.state = IconState.minus;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase IconState.minus:\r\n\t\t\t\t\t\t\t\trow.child.hide();\r\n\t\t\t\t\t\t\t\ticon.state = IconState.plus;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tactionTable.adjustHeader();\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// $('#action-table').DataTable(\r\n\t\t// \tObject.assign(\r\n\t\t// \t\tsimpleConfig(),\r\n\t\t// \t\t{\r\n\t\t// \t\t\tajax: {\r\n\t\t// \t\t\t\turl: 'knowledge/corpusManage/history',\r\n\t\t// \t\t\t\tdataSrc: data => data.rows,\r\n\t\t// \t\t\t\tdata: () => {\r\n\t\t// \t\t\t\t\treturn actionData;\r\n\t\t// \t\t\t\t}\r\n\t\t// \t\t\t},\r\n\t\t// \t\t\tcolumns: [\r\n\t\t// \t\t\t\t{ title: '', data: 'id', width: '12px', createdCell: createShowAction },\r\n\t\t// \t\t\t\t{ title: '操作', data: 'content' },\r\n\t\t// \t\t\t\t{ title: '操作时间', data: 'createTime', render: renderSimpleTime, width: VARIABLES.width.simpleTime }\r\n\t\t// \t\t\t],\r\n\t\t// \t\t\tselect: false,\r\n\t\t// \t\t\tinitComplete: ActionTableInitComplete\r\n\t\t// \t\t}));\r\n\t}\r\n\r\n\t/*function ActionTableInitComplete() {\r\n\t\tconst dt = table.dt;\r\n\t\t$('#action-table').on('click', '.show-action-td', (e) => {\r\n\t\t\tconst el = $(e.currentTarget),\r\n\t\t\t\ticon = el.icon();\r\n\t\t\tswitch (icon.state) {\r\n\t\t\t\tcase IconState.loading:\r\n\t\t\t\t\treturn;\r\n\t\t\t\tcase IconState.plus:\r\n\t\t\t\t\ticon.state = IconState.loading;\r\n\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\turl: 'knowledge/historyDetail/historyDetail',\r\n\t\t\t\t\t\ttype: 'GET',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\thistoryId: el.data('id')\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: (msg) => {\r\n\t\t\t\t\t\t\tif (!msg.error) {\r\n\t\t\t\t\t\t\t\taddActionDetial(msg.data, el.parents('tr'), dt.columns().indexes().length);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\talertMessage(msg.msg, !msg.error);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\t\ticon.state = IconState.minus;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase IconState.minus:\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tclearActionTable();\r\n\t\t});\r\n\t\t$('#action-modal').on('show.bs.modal', () => {\r\n\t\t\ttable.reload();\r\n\t\t});\r\n\t}*/\r\n\r\n\t// function addActionDetial(data, el: JQuery, len: number) {\r\n\t// \tlet html = '';\r\n\t// \tdata.forEach(v => {\r\n\t// \t\thtml += `\r\n\t//             <li>\r\n\t//                 <span class=\"action-detial-title\">${v.field}</span>\r\n\t//                 :\r\n\t//                 <span class=\"text-danger\">${v.oldValue}</span>\r\n\t//                 =>\r\n\t//                 <span class=\"text-danger\">${v.newValue}</span>\r\n\t//             </li>`;\r\n\t// \t});\r\n\t// \tif (html === '') {\r\n\t// \t\thtml = '<div class=\"text-center\">无数据</div>';\r\n\t// \t}\r\n\t// \telse {\r\n\t// \t\thtml = '<ol>' + html + '</ol>';\r\n\t// \t}\r\n\t// \tel.after(`<tr class=\"action-details\">\r\n\t//                 <td colspan=${len}>\r\n\t//                     ${html}\r\n\t//                 </td>\r\n\t//             </tr>`);\r\n\t// }\r\n\r\n\t// function clearActionTable() {\r\n\t// \t$('.action-details').remove();\r\n\t// \tresetIcon($('#action-table tbody .show-action-td'));\r\n\t// }\r\n\r\n\t// function showCorpus(e: JQueryEventObject, url: string, name: string) {\r\n\t// \tconst el = $(e.currentTarget),\r\n\t// \t\ttr = el.closest('tr'),\r\n\t// \t\ticon = el.icon();\r\n\t// \tswitch (icon.state) {\r\n\t// \t\tcase IconState.loading:\r\n\t// \t\t\treturn;\r\n\t// \t\tcase IconState.plus:\r\n\t// \t\t\t$('#table .fa-minus-square').trigger('click');\r\n\t// \t\t\tif (table.hasChild(tr, name)) {\r\n\t// \t\t\t\ttable.showChildRows(tr, name);\r\n\t// \t\t\t\ticon.state = IconState.minus;\r\n\t// \t\t\t\treturn;\r\n\t// \t\t\t}\r\n\t// \t\t\ticon.state = IconState.loading;\r\n\t// \t\t\t$.ajax({\r\n\t// \t\t\t\turl: url,\r\n\t// \t\t\t\ttype: 'GET',\r\n\t// \t\t\t\tdata: {\r\n\t// \t\t\t\t\tpairId: el.data('id')\r\n\t// \t\t\t\t},\r\n\t// \t\t\t\tsuccess: (res) => {\r\n\t// \t\t\t\t\tif (!res.error) {\r\n\t// \t\t\t\t\t\tlet data;\r\n\t// \t\t\t\t\t\tif (res.data && res.data.length > 0) {\r\n\t// \t\t\t\t\t\t\tif (name === 'question') {\r\n\t// \t\t\t\t\t\t\t\tdata = res.data.map(v => {\r\n\t// \t\t\t\t\t\t\t\t\treturn {\r\n\t// \t\t\t\t\t\t\t\t\t\tquestion: v.literal,\r\n\t// \t\t\t\t\t\t\t\t\t\tclassifyId: v.classify.value,\r\n\t// \t\t\t\t\t\t\t\t\t\tupdateTime: renderSimpleTime(v.updateTime)\r\n\t// \t\t\t\t\t\t\t\t\t};\r\n\t// \t\t\t\t\t\t\t\t});\r\n\t// \t\t\t\t\t\t\t} else {\r\n\t// \t\t\t\t\t\t\t\tdata = res.data.map(v => {\r\n\t// \t\t\t\t\t\t\t\t\treturn {\r\n\t// \t\t\t\t\t\t\t\t\t\tplainText: v.digest,\r\n\t// \t\t\t\t\t\t\t\t\t\t// classifyId: v.classify.vname,\r\n\t// \t\t\t\t\t\t\t\t\t\tupdateTime: renderSimpleTime(v.updateTime),\r\n\t// \t\t\t\t\t\t\t\t\t\tpushway: renderPushway(v.pushway),\r\n\t// \t\t\t\t\t\t\t\t\t\tcharacterId: v.character.vname\r\n\t// \t\t\t\t\t\t\t\t\t};\r\n\t// \t\t\t\t\t\t\t\t});\r\n\t// \t\t\t\t\t\t\t}\r\n\t// \t\t\t\t\t\t} else {\r\n\t// \t\t\t\t\t\t\tdata = [{ _all: '无数据' }];\r\n\t// \t\t\t\t\t\t}\r\n\r\n\t// \t\t\t\t\t\ttable.addChildRows(tr, data, name);\r\n\t// \t\t\t\t\t}\r\n\t// \t\t\t\t},\r\n\t// \t\t\t\tcomplete: () => {\r\n\t// \t\t\t\t\ticon.state = IconState.minus;\r\n\t// \t\t\t\t}\r\n\t// \t\t\t});\r\n\t// \t\t\tbreak;\r\n\t// \t\tcase IconState.minus:\r\n\t// \t\t\ttable.hideChildRows(tr, name);\r\n\t// \t\t\ticon.state = IconState.plus;\r\n\t// \t\t\tbreak;\r\n\t// \t\tdefault:\r\n\t// \t\t\treturn;\r\n\t// \t}\r\n\t// \t// clearTable();\r\n\t// }\r\n\r\n\t// function clearTable() {\r\n\t// \t$('.cps-details').remove();\r\n\t// \tresetIcon($('#table tbody .show-corpus-td'));\r\n\t// }\r\n\r\n\r\n\t// function resetIcon(element?: JQuery) {\r\n\t// \tArray.prototype.forEach.call(element, v => {\r\n\t// \t\tconst icon = $(v).icon();\r\n\t// \t\tif (icon.state === IconState.minus) {\r\n\t// \t\t\ticon.state = IconState.plus;\r\n\t// \t\t}\r\n\t// \t});\r\n\t// }\r\n\r\n\t// /**\r\n\t//  * 千万不要改字段名,不然就雪崩\r\n\t//  *\r\n\t//  * @param {any} data\r\n\t//  * @param {any} name\r\n\t//  * @returns\r\n\t//  */\r\n\t// function getTrs(data, name: string) {\r\n\t// \tlet html = '';\r\n\t// \tconst dt = table.dt,\r\n\t// \t\tlen = dt.columns().indexes().length,\r\n\t// \t\tindexMap = {\r\n\t// \t\t\tquestion: dt.column('question:name').index(),\r\n\t// \t\t\tplainText: dt.column('plainText:name').index(),\r\n\t// \t\t\tclassifyId: dt.column('classifyId:name').index(),\r\n\t// \t\t\tcharacterId: dt.column('characterId:name').index(),\r\n\t// \t\t\t// status: dt.column(\"status:name\").index(),\r\n\t// \t\t\tupdateTime: dt.column('updateTime:name').index(),\r\n\t// \t\t\tpushway: dt.column('pushway:name').index()\r\n\t// \t\t};\r\n\r\n\t// \tif (!data || data.length <= 0) {\r\n\t// \t\treturn `\r\n\t//             <tr class=\"cps-details\">\r\n\t//                 <td colspan=\"${len}\" class=\"text-center\">无数据</td>\r\n\t//             </tr>`;\r\n\t// \t}\r\n\t// \tfor (let v of data) {\r\n\t// \t\tconst d = new Array(len);\r\n\t// \t\t// 拿q或者a内容\r\n\t// \t\tconst qaMap = {\r\n\t// \t\t\tquestion: v.literal,\r\n\t// \t\t\tplainText: v.plainText\r\n\t// \t\t},\r\n\t// \t\t\t// 通用部分\r\n\t// \t\t\tlist = [{\r\n\t// \t\t\t\tname: 'classifyId',\r\n\t// \t\t\t\tvalue: v.question.classify.csfValue\r\n\t// \t\t\t},\r\n\t// \t\t\t{\r\n\t// \t\t\t\tname: 'characterId',\r\n\t// \t\t\t\tvalue: name === 'question' ? '' : v.character.vname\r\n\t// \t\t\t},\r\n\t// \t\t\t{\r\n\t// \t\t\t\tname: 'pushway',\r\n\t// \t\t\t\tvalue: name === 'question' ? '' : renderPushway(v.pushway)\r\n\t// \t\t\t},\r\n\t// \t\t\t{\r\n\t// \t\t\t\tname: 'updateTime',\r\n\t// \t\t\t\tvalue: renderSimpleTime(v.updateTime)\r\n\t// \t\t\t}];\r\n\r\n\t// \t\thtml += ` <tr class=\"cps-details\">`;\r\n\t// \t\tfor (let l of list) {\r\n\t// \t\t\td[indexMap[l.name]] = l.value;\r\n\t// \t\t}\r\n\r\n\t// \t\td[indexMap[name]] = qaMap[name];\r\n\t// \t\tfor (let h of d) {\r\n\t// \t\t\tif (!h) {\r\n\t// \t\t\t\thtml += `<td></td>`;\r\n\t// \t\t\t}\r\n\t// \t\t\telse {\r\n\t// \t\t\t\thtml += `<td class=\"force-width\">${h}</td>`;\r\n\t// \t\t\t}\r\n\t// \t\t}\r\n\t// \t\thtml += `</tr>`;\r\n\t// \t}\r\n\t// \treturn html;\r\n\t// }\r\n\tfunction getTypeName(id) {\r\n\t\tfor (let v of selectData.type) {\r\n\t\t\tif (id === v.id) {\r\n\t\t\t\treturn v.enname;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tfunction renderClassify(id) {\r\n\t\tfor (let i of selectData.classify) {\r\n\t\t\tif (i.id === id) {\r\n\t\t\t\treturn i.name;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn '';\r\n\t}\r\n\r\n\tfunction renderCharacter(id) {\r\n\t\tfor (let i of selectData.character) {\r\n\t\t\tif (i.id === id) {\r\n\t\t\t\treturn i.name;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn '';\r\n\t}\r\n\r\n\t/* function renderStatus(status) {\r\n\t\t for (let i of selectData.status) {\r\n\t\t\t if (i.id === status) {\r\n\t\t\t\t return i.name;\r\n\t\t\t }\r\n\t\t }\r\n\t\t return \"\";\r\n\t }*/\r\n\r\n\r\n\tfunction exportCorpus(name: string, btn: JQuery) {\r\n\t\t// alertMessage('正在生成文件', '');\r\n\t\tconst data = getFormData();\r\n\t\tconst end = loadingBtn(btn);\r\n\t\t$.ajax({\r\n\t\t\turl: `${ctx}/knowledge/corpus/${name}`,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tdata: data,\r\n\t\t\tsuccess: (res) => {\r\n\t\t\t\tif (res.success) {\r\n\t\t\t\t\tconst $point1 = $('<span class=\"point1\"></span>');\r\n\t\t\t\t\tconst $point2 = $('<span class=\"point2\"></span>');\r\n\t\t\t\t\tif ($('.export-main-sign .point1').length === 0) {\r\n\t\t\t\t\t\t$('.export-main-sign').append($point1);\r\n\t\t\t\t\t\t$('.export-sign').prepend($point2);\r\n\t\t\t\t\t}\r\n\t\t\t\t\talertMessage('任务创建成功，请至页面右上角用户名中的导出记录中查看相关文件！', true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\talertMessage(res.msg, res.success);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcomplete: () => {\r\n\t\t\t\tend();\r\n\t\t\t}\r\n\t\t});\r\n\t\t// location.href = `${ctx}/knowledge/corpus/${name}?${$.param(data)}`;\r\n\t}\r\n\r\n\t// function cacheForm() {\r\n\t// \tif (window.sessionStorage) {\r\n\t// \t\tconst table = $('#table').DataTable();\r\n\t// \t\tconst order = table.order();\r\n\t// \t\tconst data = {\r\n\t// \t\t\tkeyword: $.trim($('#form-question').val()),\r\n\t// \t\t\tanswerkeyword: $.trim($('#form-answer').val()),\r\n\t// \t\t\tclassifys: classify.selected.join(','),\r\n\t// \t\t\t// corpusStatus: $(\"#select-status\").val(),\r\n\t// \t\t\tcharacter: $('#select-character').val(),\r\n\t// \t\t\tpage: table.page(),\r\n\t// \t\t\trows: table.page.len(),\r\n\t// \t\t\tbeginTime: date.getDate('start'),\r\n\t// \t\t\tendTime: date.getDate('end'),\r\n\t// \t\t\torder: order[0].join(','),\r\n\t// \t\t\tpushway: $('#select-pushway').val()\r\n\t// \t\t};\r\n\r\n\t// \t\tfor (let i in data) {\r\n\t// \t\t\twindow.sessionStorage.setItem(i, data[i]);\r\n\t// \t\t}\r\n\t// \t}\r\n\t// }\r\n\r\n\r\n\t// function getCacheItem(key) {\r\n\t// \tif (window.sessionStorage && window.sessionStorage.getItem(key)) {\r\n\t// \t\treturn window.sessionStorage.getItem(key);\r\n\t// \t}\r\n\t// \telse {\r\n\t// \t\treturn '';\r\n\t// \t}\r\n\t// }\r\n\r\n\t// function getCacheForm() {\r\n\t// \tconst list = [\r\n\t// \t\t'keyword',\r\n\t// \t\t'answerkeyword',\r\n\t// \t\t'classifys',\r\n\t// \t\t// \"corpusStatus\",\r\n\t// \t\t'character',\r\n\t// \t\t'page',\r\n\t// \t\t'rows',\r\n\t// \t\t'beginTime',\r\n\t// \t\t'endTime',\r\n\t// \t\t'pushway',\r\n\t// \t\t'order'\r\n\t// \t];\r\n\r\n\t// \tconst data: any = {};\r\n\t// \tfor (let v of list) {\r\n\t// \t\tdata[v] = getCacheItem(v);\r\n\t// \t}\r\n\t// \treturn cleanObject(data);\r\n\t// }\r\n\r\n\t// function renderForm() {\r\n\t// \tif (window.sessionStorage) {\r\n\t// \t\tif (!init && isreturn === true) {\r\n\t// \t\t\tconst cacheData: any = getCacheForm();\r\n\t// \t\t\tconst formList = {\r\n\t// \t\t\t\tkeyword: '#form-question',\r\n\t// \t\t\t\tanswerkeyword: '#form-answer',\r\n\t// \t\t\t\t// corpusStatus: \"#select-status\",\r\n\t// \t\t\t\tcharacter: '#select-character',\r\n\t// \t\t\t\trows: '#page-change',\r\n\t// \t\t\t\tpushway: '#select-pushway'\r\n\t// \t\t\t};\r\n\t// \t\t\tfor (let i in formList) {\r\n\t// \t\t\t\tif (cacheData[i]) {\r\n\t// \t\t\t\t\t$(formList[i]).val(cacheData[i]);\r\n\t// \t\t\t\t}\r\n\t// \t\t\t}\r\n\t// \t\t\tif (cacheData.beginTime && cacheData.endTime) {\r\n\t// \t\t\t\tdate.setDate(cacheData.beginTime, cacheData.endTime);\r\n\t// \t\t\t}\r\n\r\n\t// \t\t\tif (cacheData.classifys) {\r\n\t// \t\t\t\tconst classifys = cacheData.classifys.split(',');\r\n\t// \t\t\t\tclassify.tree.jstree(true).select_node(classifys);\r\n\t// \t\t\t}\r\n\t// \t\t\tinit = true;\r\n\t// \t\t}\r\n\t// \t}\r\n\t// }\r\n\r\n\t// function renderShowCorpus(cellData) {\r\n\t//     return '';\r\n\t// }\r\n\r\n\tfunction createShowCorpus(td: HTMLElement, cellDatA: number, row) {\r\n\t\tconst el = $(td);\r\n\t\tif (cellDatA > 0) {\r\n\t\t\tel\r\n\t\t\t\t.addClass('show-corpus-td')\r\n\t\t\t\t.data('id', row.pairId)\r\n\t\t\t\t.icon();\r\n\t\t}\r\n\t\telse {\r\n\t\t\tel.addClass('disabled')\r\n\t\t\t\t.icon();\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tfunction createShowAction(td, cell, row) {\r\n\t\tconst el = $(td);\r\n\t\tif (!row.history) {\r\n\t\t\tel.empty();\r\n\t\t}\r\n\t\telse {\r\n\t\t\tel\r\n\t\t\t\t.addClass('show-action-td')\r\n\t\t\t\t.data('id', cell)\r\n\t\t\t\t.icon();\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tfunction renderDialog(locked, type, row, meta) {\r\n\t\tif (!locked) {\r\n\t\t\treturn '无';\r\n\t\t}\r\n\t\treturn `<button type=\"button\" class=\"btn btn-xs btn-primary show-dialog\" data-id=\"${row.pairId}\">显示</button>`;\r\n\t}\r\n\r\n\t// dialog tree\r\n\tfunction initDialogTree(data, q) {\r\n\t\t$('#dialog').html('<div id=\"dialog-tree\"></div>');\r\n\t\tlet d = [],\r\n\t\t\t$tree = $('#dialog-tree');\r\n\t\tObject.keys(data).forEach((v, i) => {\r\n\t\t\tconst rootId = `root-${i}`,\r\n\t\t\t\tdialog = data[v][0].id;\r\n\t\t\td.push({\r\n\t\t\t\tparent: '#',\r\n\t\t\t\ttext: v,\r\n\t\t\t\tid: rootId,\r\n\t\t\t\tisDialog: true\r\n\t\t\t});\r\n\t\t\tfor (let j of data[v]) {\r\n\t\t\t\td.push({\r\n\t\t\t\t\ttext: j.expectWord.literal,\r\n\t\t\t\t\tid: j.id,\r\n\t\t\t\t\tparent: j.parent ? j.parent : rootId,\r\n\t\t\t\t\tanswer: j.content.digest,\r\n\t\t\t\t\tquestion: j.expectWord.literal,\r\n\t\t\t\t\tdialog: dialog\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t\tlet selectedID = d.filter((item) => item.question === q)[0].id;\r\n\r\n\t\t$tree.jstree({\r\n\t\t\tcore: {\r\n\t\t\t\tdata: d,\r\n\t\t\t\tanimation: 100,\r\n\t\t\t\tthemes: {\r\n\t\t\t\t\ticons: false\r\n\t\t\t\t},\r\n\t\t\t\tmultiple: false\r\n\t\t\t},\r\n\t\t\t'conditionalselect': function (node, event) {\r\n\t\t\t\tif (node.id.match(/root/)) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\tplugins: ['conditionalselect']\r\n\t\t});\r\n\r\n\t\tlet tree: any = $tree.jstree(true);\r\n\r\n\t\t$tree.on('refresh.jstree', () => {\r\n\t\t\ttree.open_all();\r\n\t\t\ttree.select_node(selectedID);\r\n\t\t});\r\n\r\n\t\t$tree.on('select_node.jstree', (e, action) => {\r\n\t\t\tconst _data = action.node.original;\r\n\t\t\t$('#dialog-question').val(_data.question);\r\n\t\t\t$('#dialog-answer').html(_data.answer);\r\n\t\t});\r\n\r\n\t\ttree.refresh();\r\n\t}\r\n\r\n\tfunction clearSession() {\r\n\t\tif (window.sessionStorage) {\r\n\t\t\tif (!isreturn) {\r\n\t\t\t\twindow.sessionStorage.clear();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction renderPushway(id) {\r\n\t\tfor (let i of selectData.pushway) {\r\n\t\t\tif (id === i.id) {\r\n\t\t\t\treturn i.name;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn '';\r\n\t}\r\n\r\n\tfunction getFormData() {\r\n\t\treturn cleanObject({\r\n\t\t\tquestionkeyword: $.trim($('#form-question').val()),\r\n\t\t\tanswerkeyword: $.trim($('#form-answer').val()),\r\n\t\t\tclassifys: classify.selected.join(','),\r\n\t\t\tpushway: $('#select-pushway').val(),\r\n\t\t\t// corpusStatus: $(\"#select-status\").val(),\r\n\t\t\tcharacter: $('#select-character').val(),\r\n\t\t\tbeginTime: date.getDate('start'),\r\n\t\t\tendTime: date.getDate('end')\r\n\t\t});\r\n\t}\r\n\r\n\t// 对于批量上传进行轮循判断\r\n\tconst $upBtn = $('#batch-upload-btn');\r\n\t// isOver();\r\n\t// function isOver() {\r\n\t// \tconst endBtn = loadingBtn($upBtn);\r\n\t// \t$.ajax({\r\n\t// \t\turl: 'knowledge/corpusManage/uploadCorpusSubmit/finish',\r\n\t// \t\ttype: 'GET',\r\n\t// \t\tsuccess: (msg) => {\r\n\t// \t\t\tif (!msg.error) {\r\n\t// \t\t\t\tendBtn();\r\n\t// \t\t\t} else {\r\n\t// \t\t\t\tsetTimeout(isOver, 2000);\r\n\t// \t\t\t\talertMessage(msg.msg, !msg.error, false);\r\n\t// \t\t\t}\r\n\t// \t\t}\r\n\t// \t});\r\n\t// }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./pages/knowledge/corpusManage/index/index.ts","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./pages/knowledge/corpusManage/index/index.less\n// module id = 911\n// module chunks = 26"],"sourceRoot":""}