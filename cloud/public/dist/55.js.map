{"version":3,"sources":["webpack:///./pages/knowledge/editByA/merge/index.ts","webpack:///./pages/knowledge/editByA/merge/index.less"],"names":[],"mappings":"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","file":"55.js","sourcesContent":["import 'tree';\r\nimport { SimpleDate } from 'daterangepicker';\r\nimport 'new-table';\r\nimport 'select';\r\nimport 'editor';\r\nimport { Tree, cleanObject, alertMessage, Editor, Pagination, addLoadingBg, formatClassify } from 'utils';\r\nimport 'tables';\r\nimport './index.less';\r\nnamespace KnwoledgeEditbyMerge {\r\n\tdeclare const selectQ;\r\n\tdeclare const selectData;\r\n\tdeclare const ids;\r\n\tconst newAText = '新建回复', newQText = '新建问题', checkQList = [];\r\n\tlet originQuestions,\r\n\t\ttableQuestions,\r\n\t\tpaging: Pagination,\r\n\t\ttree: Tree,\r\n\t\teditor,\r\n\t\tdelA = [],\r\n\t\tdelQ = [],\r\n\t\taction: Edit,\r\n\t\turl: string = `${ctx}/knowledge/editByA/index?isreturn=true`,\r\n\t\tloadingEl,\r\n\t\tqTable,\r\n\t\ttable,\r\n\t\tnewQFlag: boolean = true;\r\n\tconst newQRow = () => {\r\n\t\treturn { literal: newQText };\r\n\t},\r\n\t\tnewARow = () => {\r\n\t\t\treturn {\r\n\t\t\t\tanswer: {\r\n\t\t\t\t\tplainText: newAText,\r\n\t\t\t\t\tcontentHtml: `<p>${newAText}</p>`\r\n\t\t\t\t},\r\n\t\t\t\tcharacter: {\r\n\t\t\t\t\tid: selectData.character[0].id\r\n\t\t\t\t},\r\n\t\t\t\tbeginTime: moment().format('YYYY-MM-DD'),\r\n\t\t\t\tendTime: moment().add(5, 'year').format('YYYY-MM-DD'),\r\n\t\t\t\tpushway: selectData.pushway[0].id\r\n\t\t\t};\r\n\t\t},\r\n\t\tDELAY = 100;\r\n\tconst btnStr = '<button class=\"btn btn-default btn-xs newBtn\" type=\"button\">自建问题</button>';\r\n\t// 主句的id\r\n\t// const ids = location.search.substr(1).split('=')[1];\r\n\r\n\t$(initGlobal);\r\n\r\n\tfunction init() {\r\n\t\taction = new Edit();\r\n\t\t$('#back-btn').on('click', () => {\r\n\t\t\tlocation.href = url;\r\n\t\t});\r\n\t}\r\n\r\n    /**\r\n     *\r\n     * 编辑类\r\n     * @class Edit\r\n     */\r\n\tclass Edit {\r\n\t\tprivate qId: number;\r\n\t\tprivate lastData: any;\r\n\t\tconstructor() {\r\n\t\t\tthis.getData();\r\n\t\t}\r\n\t\t// 获取数据\r\n\t\tprivate getData() {\r\n\t\t\t$.ajax({\r\n\t\t\t\turl: 'knowledge/editByA/merge/getQuestionsAndPairs',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tids: ids\r\n\t\t\t\t},\r\n\t\t\t\ttype: 'POST',\r\n\t\t\t\tsuccess: (msg) => {\r\n\t\t\t\t\tif (!msg.error) {\r\n\t\t\t\t\t\tthis.fillData(msg.msg);\r\n\t\t\t\t\t\tthis.initSave();\r\n\t\t\t\t\t\toriginQuestions = msg.msg.questions;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\talertMessage('未知错误');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\t// 填充数据\r\n\t\tprivate fillData(data) {\r\n\t\t\ttry {\r\n\t\t\t\t// ===\r\n\t\t\t\tconst q = data.pairs[0].question;\r\n\t\t\t\tthis.qId = q.id;\r\n\t\t\t\t// 初始化的时候 显示所有问题\r\n\t\t\t\tshowRepeat();\r\n\t\t\t\ttableQuestions = data.questions;\r\n\t\t\t\tinitQTable();\r\n\t\t\t\tinitATable(data.pairs);\r\n\t\t\t\ttree.selected = [q.classify.id < 0 ? selectData.classify[0].id : q.classify.id];\r\n\t\t\t}\r\n\t\t\tcatch (e) {\r\n\t\t\t\tconsole.error(e);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// 保存\r\n\t\tprivate initSave() {\r\n\t\t\t$('#save-btn').on('click', () => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tlet data = {\r\n\t\t\t\t\t\tquestionId: this.qId\r\n\t\t\t\t\t};\r\n\t\t\t\t\tconst val = $('#questionSelect').val() || $('#questionSelect').data('val');\r\n\t\t\t\t\tif (val === '' || val === undefined) {\r\n\t\t\t\t\t\tif (!val) {// 选择问题或者在输入框内自建问题\r\n\t\t\t\t\t\t\talertMessage('问题不能为空');\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst standards = getStandards(),\r\n\t\t\t\t\t\tpms = getPms(),\r\n\t\t\t\t\t\tlistLen = checkQList.length;\r\n\t\t\t\t\tif (standards === false) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (pms === false) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdata = Object.assign(data, {\r\n\t\t\t\t\t\tqids: ids,\r\n\t\t\t\t\t\tdelPmsId: JSON.stringify(delQ),\r\n\t\t\t\t\t\tstandards: standards,\r\n\t\t\t\t\t\tpms: pms\r\n\t\t\t\t\t});\r\n\t\t\t\t\tshowLoading();\r\n\t\t\t\t\tif (listLen > 0 && checkQList[listLen - 1].loading) {\r\n\t\t\t\t\t\tthis.lastData = data;\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.save(data);\r\n\t\t\t\t}, DELAY);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tprivate save(data) {\r\n\t\t\t$.ajax({\r\n\t\t\t\turl: 'knowledge/editByA/merge/save',\r\n\t\t\t\ttype: 'POST',\r\n\t\t\t\tdata: data,\r\n\t\t\t\tsuccess: (msg) => {\r\n\t\t\t\t\talertMessage(msg.msg, msg.code);\r\n\t\t\t\t\tif (!msg.error) {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\twindow.location.assign(`${ctx}/knowledge/editByA/index?isreturn=true`);\r\n\t\t\t\t\t\t}, 300);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tcomplete: () => {\r\n\t\t\t\t\tclearLoading();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\t// 保存最后数据\r\n\t\tpublic saveByLastData() {\r\n\t\t\tthis.save(this.lastData);\r\n\t\t}\r\n\t}\r\n    /**\r\n     *\r\n     * 初始化编辑主句时的问题表格\r\n     * @param {any} data\r\n     */\r\n\tfunction initQTable() {\r\n\t\tqTable = $('#q-table').DataTable({\r\n\t\t\tdata: tableQuestions,\r\n\t\t\tselect: {\r\n\t\t\t\tstyle: 'single',\r\n\t\t\t\tblurable: false,\r\n\t\t\t\tinfo: false\r\n\t\t\t},\r\n\t\t\tinitComplete: qTableInitComplete,\r\n\t\t\tcolumns: [\r\n\t\t\t\t{ data: 'literal', title: '问题' }\r\n\t\t\t]\r\n\t\t});\r\n\r\n\t}\r\n\r\n    /**\r\n     * 问题表格初始化回调\r\n     */\r\n\tfunction qTableInitComplete() {\r\n\t\ttable = $('#q-table').DataTable();\r\n\t\ttable.row(0).select();\r\n\r\n\t\t$('#edit-q-btn').on('click', () => {\r\n\t\t\tconst data: any = table.row('.selected').data();\r\n\t\t\tif (!data) {\r\n\t\t\t\talertMessage('请选择要编辑的复述问法');\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t$('#edit-q-modal').modal('show').find('.modal-title').text('编辑复述问法');\r\n\t\t\t\t$('#q-input').val(data.literal).focus();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$('#q-edit-confirm-btn').on('click', () => {\r\n\t\t\tconst val = $.trim($('#q-input').val());\r\n\t\t\tconst qVal = $('#questionSelect').val() || $('#questionSelect').data('val');\r\n\t\t\t// qVal = $.trim($('#question').val());\r\n            /* const displayVal = $('.select2-selection__rendered').text();\r\n                     if (val === '' || val === undefined) {\r\n                         if (!displayVal) {\r\n                             alertMessage('问题不能为空');\r\n                             return false;\r\n                         }\r\n                     }*/\r\n\r\n\t\t\tif (val === '') {\r\n\t\t\t\talertMessage('请输入复述问法');\r\n\t\t\t}\r\n\t\t\telse if (val === qVal) {\r\n\t\t\t\talertMessage('与标准问法一致');\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t$.ajax({\r\n\t\t\t\t\turl: 'knowledge/editByA/checkQuestion',\r\n\t\t\t\t\ttype: 'POST',\r\n\t\t\t\t\tdata: cleanObject({ literal: val }),\r\n\t\t\t\t\tsuccess: (data) => {\r\n\t\t\t\t\t\tconst nmsg = data.msg;\r\n\t\t\t\t\t\tif (!nmsg) {\r\n\t\t\t\t\t\t\tconst cell = table.cell('.selected td:first');\r\n\t\t\t\t\t\t\tcell.data(val).draw();\r\n\t\t\t\t\t\t\t$('#edit-q-modal').modal('hide');\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (nmsg.status === 1) {\r\n\t\t\t\t\t\t\t\talertMessage('该问题已经存在，将前往审核页面进行审核');\r\n\t\t\t\t\t\t\t\tlocation.href = `${ctx}/knowledge/review/index?from=update&id=${nmsg.question.id}`;\r\n\t\t\t\t\t\t\t} else if (nmsg.status === 8) {\r\n\t\t\t\t\t\t\t\talertMessage('该问题已经存在，将前往编辑页面进行编辑！');\r\n\t\t\t\t\t\t\t\tlocation.href = `${ctx}/knowledge/editByA/update?pairId=${nmsg.id}`;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$('#add-q-btn').on('click', () => {\r\n\t\t\ttable.row.add(newQRow()).draw().row('#q-table tbody tr:last').select();\r\n\t\t\t$('#edit-q-modal').modal('show').find('.modal-title').text('添加复述问法');\r\n\t\t\t$('#q-input').val(newQText).select();\r\n\t\t});\r\n\r\n\t\t$('#del-q-btn').on('click', () => {\r\n\t\t\tconst el = table.row('.selected');\r\n\t\t\tconst data: any = el.data();\r\n\t\t\tif (!data) {\r\n\t\t\t\talertMessage('请选择要删除的复述问法');\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif (data.id) {\r\n\t\t\t\t\tdelQ.push(data.id);\r\n\t\t\t\t}\r\n\t\t\t\tel.remove();\r\n\t\t\t\ttable.draw().row(0).select();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction getLinkList(value: string, index: number = 1) {\r\n\t\t$('#link-loading').addClass('show');\r\n\t\t$.ajax({\r\n\t\t\turl: 'depart/doclist',\r\n\t\t\ttype: 'POST',\r\n\t\t\tdata: cleanObject({\r\n\t\t\t\tkeyword: $.trim(value),\r\n\t\t\t\tclassifyid: tree.selected[0],\r\n\t\t\t\tisparent: true,\r\n\t\t\t\tsize: 10,\r\n\t\t\t\tpage: index\r\n\t\t\t}),\r\n\t\t\tsuccess: (msg) => {\r\n\t\t\t\tif (!paging) {\r\n\t\t\t\t\tinitPagin(msg.recordsTotal);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tpaging.index = index;\r\n\t\t\t\t\tpaging.total = msg.recordsTotal;\r\n\t\t\t\t}\r\n\t\t\t\trenderlinkList(msg.rows);\r\n\t\t\t\t$('#link-loading').removeClass('show');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\r\n\tfunction renderlinkList(data) {\r\n\t\tif (data && data.length > 0) {\r\n\t\t\tlet html = '';\r\n\t\t\tdata.forEach(v => {\r\n\t\t\t\thtml += `\r\n                <li class=\"radio\">\r\n                    <label>\r\n                        <input type=\"radio\" name=\"link\" data-id=\"${v.id}\" data-title=\"${v.title}\"/>\r\n                        ${v.title}\r\n                    </label>\r\n                </li>`;\r\n\t\t\t});\r\n\r\n\t\t\t$('#result-wrap').html(html);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction initPagin(total) {\r\n\t\tpaging = new Pagination($('#link-paging'), {\r\n\t\t\tsize: 10,\r\n\t\t\ttotal: total,\r\n\t\t\tonChange: (data) => {\r\n\t\t\t\tgetLinkList($.trim($('#link-input').val()), data.index);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\r\n\r\n    /**\r\n     *\r\n     * 初始化编辑主句时的回复表格\r\n     * @param {any} data 表格数据\r\n     */\r\n\tfunction initATable(aData) {\r\n\t\tconst currentData = aData.map(v => {\r\n\t\t\tv.beginTime = moment(v.beginTime).format('YYYY-MM-DD');\r\n\t\t\tv.endTime = moment(v.endTime).format('YYYY-MM-DD');\r\n\t\t\treturn v;\r\n\t\t});\r\n\r\n\t\t$('#a-table').DataTable({\r\n\t\t\tdata: currentData,\r\n\t\t\tselect: {\r\n\t\t\t\tstyle: 'single',\r\n\t\t\t\tblurable: false,\r\n\t\t\t\tinfo: false,\r\n\t\t\t\tselector: 'td:first-child'\r\n\t\t\t},\r\n\t\t\tinitComplete: aTableInitComplete,\r\n\t\t\tcolumns: [\r\n\t\t\t\t{ data: 'answer.plainText', title: '回复', width: '40%' },\r\n\t\t\t\t{ data: 'character', title: '角色', render: renderCharacter },\r\n\t\t\t\t{ data: 'pushway', title: '渠道', render: renderPushway },\r\n\t\t\t\t{ data: 'beginTime', title: '生效时间', render: function (data) { return renderTime(data, 'begin-date'); }, createdCell: createTime },\r\n\t\t\t\t{ data: 'endTime', title: '失效时间', render: function (data) { return renderTime(data, 'end-date'); }, createdCell: createTime }\r\n\t\t\t\t// { data: \"status\", title: \"审核状态\", render: renderStatus, width: \"80px\", createdCell: createStatus }\r\n\t\t\t],\r\n\t\t\tserverSide: false\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tfunction renderCharacter(character) {\r\n\t\tlet str = `<div class=\"cloud-input-content cloud-sm\"><select class=\"character form-control input-sm\">`;\r\n\t\tselectData.character.forEach(v => {\r\n\t\t\tstr += `<option value=\"${v.id}\" ${v.id === character.id ? 'selected=\"true\"' : ''}>${v.name}</option>`;\r\n\t\t});\r\n\r\n\t\treturn str + '</select></div>';\r\n\t}\r\n\r\n\tfunction renderTime(time, className: string) {\r\n\t\treturn `<div class=\"cloud-input-content cloud-sm\"><input type=\"text\" class=\"form-control ${className} input-sm date\" value=${time}></div>`;\r\n\t}\r\n\r\n    /**\r\n     *\r\n     * 渲染时间选择控件\r\n     * @param {any} el\r\n     */\r\n\tfunction createTime(el) {\r\n\t\tconst input = $(el).find('input');\r\n\t\tnew SimpleDate({\r\n\t\t\tel: input,\r\n\t\t\tdate: input.val()\r\n\t\t});\r\n\t}\r\n\r\n    /**\r\n     * 回复表格初始化回调\r\n     */\r\n\tfunction aTableInitComplete() {\r\n\t\tconst dt = $('#a-table').DataTable();\r\n\t\teditor = new Editor({\r\n\t\t\tel: $('#editor'),\r\n\t\t\tonChange: editorOnChange\r\n\t\t}).editorElement;\r\n\t\teditor.$txt.blur();\r\n\t\tdt.on('select', changeEditorContent);\r\n\t\tdt.on('deselect', clearEditorContent);\r\n\r\n\t\t$('#add-a-btn').on('click', () => {\r\n\t\t\tdt.row.add(newARow()).draw();\r\n\t\t\tdt.row('tr:last').select();\r\n\t\t});\r\n\r\n\t\t$('#del-a-btn').on('click', () => {\r\n\t\t\tconst el = dt.row({ selected: true });\r\n\t\t\tconst data: any = el.data();\r\n\t\t\tif (!data) {\r\n\t\t\t\talertMessage('请选择要删除的回复');\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif (data.id) {\r\n\t\t\t\t\tdelA.push(data.id);\r\n\t\t\t\t}\r\n\t\t\t\tel.remove();\r\n\t\t\t\tdt.draw().row(0).select();\r\n\t\t\t}\r\n\t\t\tif (dt.rows().data().toArray().length < 1) {\r\n\t\t\t\tclearEditorContent();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$('#a-table').on('change', '.begin-date', function () {\r\n\t\t\tconst el = $(this);\r\n\t\t\t(dt.row(el.parents('tr')).data() as any).beginTime = el.val();\r\n\t\t});\r\n\r\n\t\t$('#a-table').on('change', '.end-date', function () {\r\n\t\t\tconst el = $(this);\r\n\t\t\t(dt.row(el.parents('tr')).data() as any).endTime = el.val();\r\n\t\t});\r\n\r\n\t\t$('#a-table').on('change', '.character', function () {\r\n\t\t\tconst el = $(this);\r\n\t\t\t(dt.row(el.parents('tr')).data() as any).character.id = parseInt(el.val());\r\n\t\t});\r\n\r\n\t\t$('#a-table').on('change', '.pushway', function () {\r\n\t\t\tconst el = $(this);\r\n\t\t\t(dt.row(el.parents('tr')).data() as any).pushway = parseInt(el.val());\r\n\t\t});\r\n\r\n\t\tdt.row(0).select();\r\n\t}\r\n\r\n\r\n    /**\r\n     *\r\n     * 回复表格切换选中是修改编辑器内容\r\n     * @param {any} e\r\n     * @param {any} dt\r\n     * @param {any} type\r\n     * @param {any} indexes\r\n     */\r\n\tfunction changeEditorContent(e, dt, type, indexes) {\r\n\t\tconst data = dt.row(indexes).data();\r\n\t\t// const p = editor.$txt.find(\"p:last\");\r\n\t\teditor.enable();\r\n\t\teditor.$txt.html(data.answer.contentHtml);\r\n\t}\r\n\r\n    /**\r\n     *\r\n     * 禁用编辑器\r\n     * @param {any} e\r\n     * @param {any} dt\r\n     */\r\n\tfunction clearEditorContent(e?, dt?) {\r\n\t\teditor.disable();\r\n\t\teditor.$txt.html('<h4 class=\"text-center\">请选择回复</h4>');\r\n\t}\r\n\r\n    /**\r\n     *\r\n     * 编辑器修改回调\r\n     * @returns\r\n     */\r\n\tfunction editorOnChange() {\r\n\t\tconst dt = $('#a-table').DataTable();\r\n\t\tconst data: any = dt.row({ selected: true }).data();\r\n\t\tif (!data) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconst clone: JQuery = editor.$txt.clone();\r\n\t\t\tclone.find('img').replaceWith('[图片]');\r\n\t\t\tclone.find('video').replaceWith('[视频]');\r\n\t\t\tdt.cell('.selected td:first').data(clone.text()).draw();\r\n\t\t\tdata.answer.contentHtml = editor.$txt.html();\r\n\t\t}\r\n\t}\r\n\r\n    /**\r\n     * 初始化全局配置（不论新建或编辑）\r\n     */\r\n\tfunction initGlobal() {\r\n\t\t// const q = $('#question');\r\n\t\tshowLoading();\r\n\t\ttree = new Tree({\r\n\t\t\tel: $('#classify'),\r\n\t\t\tdata: formatClassify(selectData.classify),\r\n\t\t\tinitComplete: init\r\n\t\t});\r\n\r\n\t\t$.extend(true, $.fn.dataTable.defaults, {\r\n\t\t\tinfo: false\r\n\t\t});\r\n\t\tconst $qs = $('#questionSelect');\r\n\t\t$qs.select2({\r\n\t\t\tdata: selectQ,// data: selectQ\r\n\t\t\tplaceholder: '请在输入框内自建问题'\r\n\t\t});\r\n\t\t$qs.val(null).trigger('change');\r\n\t\t// 问题被change 即更改对应表格数据\r\n\t\t$qs.on('select2:select', function () {\r\n\t\t\tconst selectedQuestionId = $('#questionSelect').val();\r\n\t\t\tconst filterQuestions = originQuestions.filter((item) => {\r\n\t\t\t\treturn item.literal !== selectedQuestionId;\r\n\t\t\t});\r\n\t\t\tlet ls = [];\r\n\t\t\tfilterQuestions.forEach(v => {\r\n\t\t\t\tls.push(v);\r\n\t\t\t});\r\n\t\t\t$qs.data('val', null);\r\n\t\t\tqTable.clear().rows.add(ls).draw().row(0).select();\r\n\t\t});\r\n\t\t// 未选择的时候，则复述问法的表格里展示所有问题\r\n\t\t// $qs.on('select2:unselect', function () {\r\n\t\t// \tlet ls = [];\r\n\t\t// \toriginQuestions.forEach(v => {\r\n\t\t// \t\tls.push(v);\r\n\t\t// \t});\r\n\t\t// \tqTable.clear().rows.add(ls).draw().row(0).select();\r\n\t\t// });\r\n\t\t// 下拉菜单点开后，修改输入框长度，并添加 新建问题按钮\r\n\t\t$qs.on('select2:open', () => {\r\n\t\t\tconst btn = $(btnStr);\r\n\t\t\tif (newQFlag) {\r\n\t\t\t\t$('.select2-search__field').css('width', '240px');\r\n\t\t\t\t$('.select2-search.select2-search--dropdown').append(btn);\r\n\t\t\t\tnewQFlag = false;\r\n\t\t\t}\r\n\t\t\t// 点击新建按钮，校验问题，通过则把输入框中的问题放到显示栏\r\n\t\t\tconst createInput = $('.select2-search__field');\r\n\t\t\tconst errorInform = $('.exist');\r\n\t\t\tbtn.on('click', () => {\r\n\t\t\t\tconst inputVal = $.trim($('.select2-search__field').val());\r\n\t\t\t\tif (!inputVal) {\r\n\t\t\t\t\tcreateInput.css('border', '1px solid #a94442');\r\n\t\t\t\t\terrorInform.css('display', 'block');\r\n\t\t\t\t\t$('#exist-link').prop('href', 'javascript:;');\r\n\t\t\t\t\t$('#exist-text').text('问题不能为空');\r\n\t\t\t\t\talertMessage('自建问题不能为空！');\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\turl: 'knowledge/editByA/checkQuestion',\r\n\t\t\t\t\t\ttype: 'POST',\r\n\t\t\t\t\t\tdata: cleanObject({ literal: inputVal }),\r\n\t\t\t\t\t\tsuccess: (data) => {\r\n\t\t\t\t\t\t\tconst nmsg = data.msg;\r\n\t\t\t\t\t\t\tconst ncode = parseInt(data.code);\r\n\r\n\t\t\t\t\t\t\tif (ncode === 200) {\r\n\t\t\t\t\t\t\t\tif (nmsg !== null) {\r\n\t\t\t\t\t\t\t\t\tcreateInput.css('border', '1px solid #a94442');\r\n\t\t\t\t\t\t\t\t\terrorInform.css('display', 'block');\r\n\t\t\t\t\t\t\t\t\tlet href: string;\r\n\t\t\t\t\t\t\t\t\tlet text: string;\r\n\t\t\t\t\t\t\t\t\tswitch (nmsg.status) {\r\n\t\t\t\t\t\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\t\t\t\t\t\thref = `${ctx}/knowledge/review/index?from=update&id=${nmsg.question.id}`;\r\n\t\t\t\t\t\t\t\t\t\t\ttext = '该问题已经存在,点击前往审核该问题';\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\tcase 8:\r\n\t\t\t\t\t\t\t\t\t\t\thref = `${ctx}/knowledge/editByA/update?pairId=${nmsg.id}`;\r\n\t\t\t\t\t\t\t\t\t\t\ttext = '该问题已经存在,点击前往编辑该问题';\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t$('#exist-link').prop('href', href);\r\n\t\t\t\t\t\t\t\t\t$('#exist-text').text(text);\r\n\t\t\t\t\t\t\t\t\talertMessage('问题已经存在!');\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tcreateInput.css('border', '1px solid #aaa');\r\n\t\t\t\t\t\t\t\t\terrorInform.css('display', 'none');\r\n\t\t\t\t\t\t\t\t\tconst $display = $('.select2-selection__rendered');\r\n\t\t\t\t\t\t\t\t\t$display.text(inputVal);\r\n\t\t\t\t\t\t\t\t\t$display.attr('title', inputVal);\r\n\t\t\t\t\t\t\t\t\t$('#questionSelect').data('val', inputVal).val(null);\r\n\t\t\t\t\t\t\t\t\tqTable.clear().rows.add(originQuestions).draw().row(0).select();\r\n\t\t\t\t\t\t\t\t\talertMessage('自建问题合格！', true);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (ncode === 10004) {\r\n\t\t\t\t\t\t\t\tcreateInput.css('border', '1px solid #a94442');\r\n\t\t\t\t\t\t\t\terrorInform.css('display', 'block');\r\n\t\t\t\t\t\t\t\t$('#exist-link').prop('href', 'javascript:;');\r\n\t\t\t\t\t\t\t\t$('#exist-text').text(nmsg);\r\n\t\t\t\t\t\t\t\talertMessage(nmsg);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t// 下拉菜单被收起时，如果option中没有匹配的值，则复述问法的表格里展示所有问题\r\n\t\t$qs.on('select2:closing', () => {\r\n\t\t\tconst ifresult = $.trim($('.select2-results__message').text()) === 'No results found';\r\n\t\t\tif (ifresult) {\r\n\t\t\t\tlet ls = [];\r\n\t\t\t\toriginQuestions.forEach(v => {\r\n\t\t\t\t\tls.push(v);\r\n\t\t\t\t});\r\n\t\t\t\tqTable.clear().rows.add(ls).draw().row(0).select();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t}\r\n\r\n    /**\r\n     *\r\n     * 获取standards\r\n     * @param {any} aId\r\n     * @returns\r\n     */\r\n\tfunction getStandards(): any {\r\n\t\t// let error = false;\r\n\t\tconst aData = $('#a-table').DataTable().data().toArray();\r\n\t\tconst standards = [];\r\n\t\tconst propList = [\r\n\t\t\t'htmlContent',\r\n\t\t\t'pushway',\r\n\t\t\t'characterId'\r\n\t\t];\r\n\r\n\t\tfor (let v of aData) {\r\n\t\t\tconst text = v.answer.plainText;\r\n\t\t\tif (text === '' || text === newAText) {\r\n\t\t\t\talertMessage(`请不要提交空回复或${newAText}`);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tconst val = $('#questionSelect').val() || $('#questionSelect').data('val');\r\n\r\n\t\t\tconst d = {\r\n\t\t\t\tanswerId: v.answer.id,\r\n\t\t\t\tbeginTime: v.beginTime,\r\n\t\t\t\tcharacterId: v.character.id,\r\n\t\t\t\tclassifyId: tree.selected[0],\r\n\t\t\t\tendTime: v.endTime,\r\n\t\t\t\thtmlContent: v.answer.contentHtml,\r\n\t\t\t\tid: v.id ? v.id : null,\r\n\t\t\t\tplainText: text,\r\n\t\t\t\tquestion: val,\r\n\t\t\t\t// questionId: $('#questionSelect option:selected').val(),\r\n\t\t\t\tpushway: v.pushway\r\n\t\t\t};\r\n\t\t\tif (standards.length > 0) {\r\n\t\t\t\tfor (let j of standards) {\r\n\t\t\t\t\tlet same = true;\r\n\t\t\t\t\tfor (let k of propList) {\r\n\t\t\t\t\t\tif (j[k] !== d[k]) {\r\n\t\t\t\t\t\t\tsame = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (same) {\r\n\t\t\t\t\t\talertMessage('存在内容完全一致的回复');\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tstandards.push(cleanObject(d));\r\n\t\t}\r\n\r\n\t\tif (aData.length < 1) {\r\n\t\t\talertMessage('必须创建一条回复');\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn JSON.stringify(standards);\r\n\t}\r\n\r\n    /**\r\n     *\r\n     * 获取pms\r\n     * @returns\r\n     */\r\n\tfunction getPms(): any {\r\n\t\tconst qData = $('#q-table').DataTable().data().toArray();\r\n\t\tconst pms = [];\r\n\t\tconst val = $('#questionSelect').val() || $('#questionSelect').data('val');\r\n\r\n\t\t// const val = $.trim($('#question').val());\r\n\t\tfor (let v of qData) {\r\n\t\t\tconst text = v.literal;\r\n\t\t\tif (text === newQText || text === '') {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (text === val) {\r\n\t\t\t\talertMessage('存在与标准问法一致的问题');\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tconst d = {\r\n\t\t\t\tclassifyId: tree.selected[0],\r\n\t\t\t\tquestion: text,\r\n\t\t\t\tquestionId: v.id,\r\n\t\t\t\tid: v.id ? v.id : null\r\n\t\t\t};\r\n\t\t\tif (pms.length > 0) {\r\n\t\t\t\tfor (let j of pms) {\r\n\t\t\t\t\tif (j.question === d.question) {\r\n\t\t\t\t\t\talertMessage('存在内容完全一致的问题');\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tpms.push(cleanObject(d));\r\n\t\t}\r\n\r\n\t\treturn JSON.stringify(pms);\r\n\t}\r\n\r\n\tfunction showRepeat() {\r\n\t\t$('#repeat-wrap .hidden').removeClass('hidden');\r\n\t\tclearLoading();\r\n\t}\r\n\r\n\tfunction renderPushway(id) {\r\n\t\tlet str = `<div class=\"cloud-input-content cloud-sm\"><select class=\"form-control input-sm pushway\">`;\r\n\t\tselectData.pushway.forEach(v => {\r\n\t\t\tstr += `<option value=\"${v.id}\" ${v.id === id ? 'selected' : ''}>${v.name}</option>`;\r\n\t\t});\r\n\t\treturn str + '</select></div>';\r\n\t}\r\n\r\n\tfunction showLoading() {\r\n\t\tclearLoading();\r\n\t\tloadingEl = addLoadingBg($('.x_panel'), $('.x_content'));\r\n\t}\r\n\r\n\tfunction clearLoading() {\r\n\t\tif (loadingEl) {\r\n\t\t\tloadingEl();\r\n\t\t\tloadingEl = null;\r\n\t\t}\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./pages/knowledge/editByA/merge/index.ts","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./pages/knowledge/editByA/merge/index.less\n// module id = 922\n// module chunks = 55"],"sourceRoot":""}