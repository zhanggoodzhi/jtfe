{"version":3,"sources":["webpack:///./pages/paraphrase/index/index.ts","webpack:///./pages/paraphrase/index/index.less"],"names":[],"mappings":"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","file":"49.js","sourcesContent":["import { alertMessage, ClassifyTree, loadingBtn, endLoadingBtn, bindEnter, Editor } from 'utils';\r\nimport { Table } from 'new-table';\r\nimport { bindPageChange, getTableHeight, createAddTitle, getPage } from 'tables';\r\nimport 'tree';\r\nimport { SimpleDate } from 'daterangepicker';\r\nimport 'editor';\r\nimport './index.less';\r\nnamespace ParaphraseIndex {\r\n\tconst table = new Table({\r\n\t\tel: $('#table'),\r\n\t\tcheckbox: {\r\n\t\t\tdata: 'id'\r\n\t\t},\r\n\t\toptions: {\r\n\t\t\tajax: {\r\n\t\t\t\turl: 'paraphrase/list',\r\n\t\t\t\ttype: 'POST',\r\n\t\t\t\tdata: (data: any) => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tkeyword: $.trim($('#keyword').val()),\r\n\t\t\t\t\t\tpage: getPage(data),\r\n\t\t\t\t\t\tsize: data.length\r\n\t\t\t\t\t};\r\n\t\t\t\t},\r\n\t\t\t\tdataSrc: function (data) {\r\n\t\t\t\t\treturn data.rows;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tserverSide: true,\r\n\t\t\tpaging: true,\r\n\t\t\tcolumns: [\r\n\t\t\t\t{ data: 'paraphraseType.typeName', title: '规则名称' },\r\n\t\t\t\t{ data: 'paraphraseRules', title: '规则内容', width: '70%', createdCell: (td, data) => { createAddTitle(td, getContent(data)); }, render: getContent },\r\n\t\t\t\t{ data: 'paraphraseType.tsp', title: '更新时间', render: renderTime }\r\n\t\t\t],\r\n\t\t\tinitComplete: initComplete\r\n\t\t}\r\n\t});\r\n\r\n\tfunction getContent(data) {\r\n\t\tlet str = data.map((v) => {\r\n\t\t\treturn v.ptext;\r\n\t\t}).join(' | ');\r\n\t\treturn str;\r\n\t}\r\n\r\n\tfunction renderTime(time: number) {\r\n\t\treturn moment(time).format('YYYY-MM-DD');\r\n\t}\r\n\r\n\tfunction initComplete() {\r\n\t\tconst dt = table.dt;\r\n\t\tconst classifyData = selectData.classify.map((v) => {\r\n\t\t\tconst d = {\r\n\t\t\t\tid: v.id,\r\n\t\t\t\ttext: v.name,\r\n\t\t\t\tparent: v.parent\r\n\t\t\t};\r\n\t\t\tif (d.parent === 0) {\r\n\t\t\t\td.parent = '#';\r\n\t\t\t}\r\n\t\t\treturn d;\r\n\t\t});\r\n\t\tconst classify = new ClassifyTree({\r\n\t\t\tel: $('#set-classify'),\r\n\t\t\tdata: classifyData,\r\n\t\t\tselected: true\r\n\t\t});\r\n\r\n\t\tlet typeId = null;\r\n\r\n\t\tconst editor = new Editor({ el: $('#editor') });\r\n\r\n\t\tnew SimpleDate({ el: $('#start-date'), date: moment() });\r\n\t\tnew SimpleDate({ el: $('#end-date'), date: moment().add(5, 'year') });\r\n\r\n\t\tbindPageChange($('#table').DataTable(), $('#page-change'));\r\n\t\tbindEnter($('#lable-area'), () => {\r\n\t\t\t$('#preview-btn').click();\r\n\r\n\t\t});\r\n\r\n\t\tbindEnter($('#keyword'), () => {\r\n\t\t\ttable.reload(true);\r\n\t\t\t// table.draw();\r\n\t\t});\r\n\t\t$('#add-repeat-btn').on('click', function () {\r\n\t\t\twindow.location.href = 'knowledge/rehearsalReview/index';\r\n\t\t});\r\n\t\t$('#search-btn').on('click', () => {\r\n\t\t\ttable.reload(true);\r\n\t\t\t// table.draw();\r\n\t\t});\r\n\r\n\t\t$('#del-btn').on('click', () => {\r\n\t\t\tconst data = table.selected;\r\n\t\t\tif (!data || data.length <= 0) {\r\n\t\t\t\talertMessage('请选择要删除的规则');\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t$('#del-modal').modal('show');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$('#confirm-del-btn').on('click', () => {\r\n\t\t\tconst data = table.selected;\r\n\t\t\tconst ids = data.map((v) => {\r\n\t\t\t\treturn v.paraphraseType.id;\r\n\t\t\t});\r\n\t\t\t$.ajax({\r\n\t\t\t\turl: 'paraphrase/delete',\r\n\t\t\t\ttype: 'GET',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tids: ids.join(',')\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: (msg) => {\r\n\t\t\t\t\talertMessage(msg.msg, msg.code);\r\n\t\t\t\t\tif (!msg.error) {\r\n\t\t\t\t\t\ttable.reload();\r\n\t\t\t\t\t\t// table.draw();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t$('#add-btn').on('click', () => {\r\n\t\t\tlocation.href = ctx + '/paraphrase/update/index';\r\n\t\t});\r\n\r\n\t\t$('#update-btn').on('click', () => {\r\n\t\t\tconst data = table.selected;\r\n\t\t\tif (data.length <= 0) {\r\n\t\t\t\talertMessage('请选择要编辑的规则');\r\n\t\t\t}\r\n\t\t\telse if (data.length > 1) {\r\n\t\t\t\talertMessage('只能选择一条规则');\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tlocation.href = `${ctx}/paraphrase/update/index?id=${data[0].paraphraseType.id}`;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$('#produce-btn').on('click', () => {\r\n\t\t\tconst data = table.selected;\r\n\t\t\tif (data.length <= 0) {\r\n\t\t\t\talertMessage('请选择要生成复述的规则');\r\n\t\t\t}\r\n\t\t\telse if (data.length > 1) {\r\n\t\t\t\talertMessage('只能选择一条规则');\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tconst type = data[0].paraphraseType;\r\n\t\t\t\tlet str = '';\r\n\t\t\t\t$('#produce-modal').modal('show');\r\n\t\t\t\t$('#rule-title').text(type.typeName);\r\n\t\t\t\ttypeId = type.id;\r\n\t\t\t\ttype.content.split(',').forEach(v => {\r\n\t\t\t\t\tstr += `\r\n                    <div class=\"form-group cloud-group\">\r\n                        <label class=\"cloud-input-title\">${v}</label>\r\n                        <div class=\"cloud-input-content\">\r\n                            <input type=\"text\" class=\"form-control input-sm label-item\" data-name=\"${v}\">\r\n                        </div>\r\n                    </div>`;\r\n\t\t\t\t});\r\n\t\t\t\t$('#lable-area').html(str);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$('#produce-modal').one('shown.bs.modal', () => {\r\n\t\t\tclassify.adjustWidth();\r\n\t\t});\r\n\r\n\t\t$('#produce-modal').on('hidden.bs.modal', () => {\r\n\t\t\ttypeId = null;\r\n\t\t\t$('#preview-area').empty();\r\n\t\t\tclassify.selected = [classify.data[0].id];\r\n\t\t\teditor.editorElement.$txt.html('<p>无回复</p>');\r\n\t\t});\r\n\r\n\t\t$('#preview-btn').on('click', () => {\r\n\t\t\tif (typeId === null) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tconst d = getTag();\r\n\t\t\t\tconst btn = $('#preview-btn');\r\n\t\t\t\tif (d) {\r\n\t\t\t\t\tloadingBtn(btn);\r\n\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\turl: 'paraphrase/preview',\r\n\t\t\t\t\t\ttype: 'POST',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\ttypeid: typeId,\r\n\t\t\t\t\t\t\ttags: JSON.stringify(d)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: msg => {\r\n\t\t\t\t\t\t\tif (msg.error) {\r\n\t\t\t\t\t\t\t\talertMessage(msg.msg, !msg.error);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t$('#preview-area').html(msg.msg.join('\\r\\n'));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\t\tendLoadingBtn(btn);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$('#produce-save-btn').on('click', () => {\r\n\t\t\tconst btn = $('#produce-save-btn'),\r\n\t\t\t\ttags = getTag(),\r\n\t\t\t\teditEl = editor.editorElement.$txt,\r\n\t\t\t\ttext = $.trim(editEl.formatText()),\r\n\t\t\t\thtml = editEl.html(),\r\n\t\t\t\tbeginTime = $('#start-date').val(),\r\n\t\t\t\tendTime = $('#end-date').val(),\r\n\t\t\t\tdata = {\r\n\t\t\t\t\tclassifyid: classify.selected.join(','),\r\n\t\t\t\t\tstatus: 8,\r\n\t\t\t\t\tcharacterid: $('#character').val(),\r\n\t\t\t\t\tpushway: $('#pushway').val(),\r\n\t\t\t\t\tbeginTime: beginTime,\r\n\t\t\t\t\tendTime: endTime,\r\n\t\t\t\t\ttypeid: typeId\r\n\t\t\t\t};\r\n\t\t\tif (moment(beginTime).valueOf() >= moment(endTime).valueOf()) {\r\n\t\t\t\talertMessage('失效时间不可早于生效时间');\r\n\t\t\t}\r\n\t\t\telse if (!tags) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\telse if (!text) {\r\n\t\t\t\talertMessage('请填写回复内容');\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tloadingBtn(btn);\r\n\t\t\t\tObject.assign(data, {\r\n\t\t\t\t\ttags: JSON.stringify(tags),\r\n\t\t\t\t\tplain_text: text,\r\n\t\t\t\t\thtml_content: html\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$.ajax({\r\n\t\t\t\t\turl: 'paraphrase/save2db',\r\n\t\t\t\t\ttype: 'POST',\r\n\t\t\t\t\tdata: data,\r\n\t\t\t\t\tsuccess: (msg) => {\r\n\t\t\t\t\t\talertMessage(msg.msg, !msg.error);\r\n\t\t\t\t\t\tif (!msg.error) {\r\n\t\t\t\t\t\t\t$('#produce-modal').modal('hide');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\tendLoadingBtn(btn);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\n\r\n\t}\r\n\r\n\tfunction getTag() {\r\n\t\tconst data = $('#produce-modal .label-item').toArray();\r\n\t\tconst d = {};\r\n\t\tlet check = true;\r\n\t\tif (data.length <= 0) {\r\n\t\t\tcheck = false;\r\n\t\t}\r\n\t\tfor (let i of data) {\r\n\t\t\tconst el = $(i);\r\n\t\t\tconst val = $.trim(el.val());\r\n\t\t\tif (val === '' || val === undefined) {\r\n\t\t\t\talertMessage('请填写标签内容');\r\n\t\t\t\tcheck = false;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\td[el.attr('data-name')] = val;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!check) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn d;\r\n\t\t}\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./pages/paraphrase/index/index.ts","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./pages/paraphrase/index/index.less\n// module id = 936\n// module chunks = 49"],"sourceRoot":""}