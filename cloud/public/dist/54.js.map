{"version":3,"sources":["webpack:///./pages/knowledge/editByA/update/index.ts","webpack:///./pages/knowledge/editByA/update/index.less"],"names":[],"mappings":"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","file":"54.js","sourcesContent":["// tslint:disable-next-line:no-unused-variable\r\nimport { bindEnter, Tree, cleanObject, alertMessage, Editor, bindInput, Pagination, confirmModal, addLoadingBg, formatClassify, loadingBtn, formatText } from 'utils';\r\nimport 'new-table';\r\nimport { renderEditAndDeleteIcon, getCheckboxColumnObj, bindCheckBoxEvent } from 'tables';\r\nimport 'editor';\r\nimport { SimpleDate } from 'daterangepicker';\r\nimport 'tree';\r\nimport './index.less';\r\nnamespace KnwoledgeEditbyAUpdate {\r\n\tdeclare const hrefType;\r\n\tdeclare const reviewId;\r\n\tdeclare const pairId: string;\r\n\tconst newAText = '新建回复', checkQList = [];\r\n\tlet reviewData;\r\n\tlet qsTableData;\r\n\tlet originQuestion, // 用于判断是否查重\r\n\t\tpaging: Pagination,\r\n\t\t// linkId: string,\r\n\t\ttree: Tree,\r\n\t\teditor,\r\n\t\tdelA = [],\r\n\t\tdelQ = [],\r\n\t\taction: Edit | Create,\r\n\t\turl: string = `${ctx}/knowledge/editByA/index?isreturn=true`,\r\n\t\tloadingEl,\r\n\t\tqsTable = null;\r\n\tconst newQRow = (val) => {\r\n\t\treturn {\r\n\t\t\tquestion: {\r\n\t\t\t\tliteral: val\r\n\t\t\t}\r\n\t\t};\r\n\t},\r\n\t\tnewQAutoRepeatRow = (rowData) => {\r\n\t\t\treturn {\r\n\t\t\t\tquestion: {\r\n\t\t\t\t\tliteral: rowData.name,\r\n\t\t\t\t\tgroup: rowData.group\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\t\tnewARow = (text: string = newAText, extra?) => {\r\n\t\t\tconst data = {\r\n\t\t\t\tanswer: {\r\n\t\t\t\t\tplainText: text,\r\n\t\t\t\t\tcontentHtml: `<p>${text}</p>`\r\n\t\t\t\t},\r\n\t\t\t\tcharacter: {\r\n\t\t\t\t\tid: selectData.character[0].id\r\n\t\t\t\t},\r\n\t\t\t\tbeginTime: moment().format('YYYY-MM-DD HH:mm:ss'),\r\n\t\t\t\tendTime: moment().add(5, 'year').format('YYYY-MM-DD HH:mm:ss'),\r\n\t\t\t\tpushway: selectData.pushway[0].id\r\n\t\t\t};\r\n\r\n\t\t\tif (extra) {\r\n\t\t\t\tObject.assign(data, extra);\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\t\t},\r\n\t\tDELAY = 100,\r\n\t\tanswerTypes = {\r\n\t\t\tcommon: '1',\r\n\t\t\tpicture: '2',\r\n\t\t\taudio: '1',\r\n\t\t\tvideo: '1',\r\n\t\t\tpictxt: '1',\r\n\t\t\tlink: '1'\r\n\t\t};\r\n\r\n\t$(initGlobal);\r\n\r\n\tfunction init() {\r\n\t\tif (pairId !== undefined || reviewId) {\r\n\t\t\taction = new Edit();\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconst search = location.search;\r\n\t\t\tif (search !== '' && search.match(/question/g)) {\r\n\t\t\t\tconst q = search.slice(1).split('=');\r\n\t\t\t\tif (q.length > 1) {\r\n\t\t\t\t\turl = `${ctx}/knowledge/review/index`;\r\n\t\t\t\t\t$('#question').val(decodeURI(q[1]));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\taction = new Create();\r\n\t\t}\r\n\r\n\t\t$('#back-btn').on('click', () => {\r\n\t\t\tlocation.href = url;\r\n\t\t});\r\n\t}\r\n\tfunction transFormData(data) {\r\n\t\tconst pms = data.childQuestionList.map((v) => {\r\n\t\t\treturn {\r\n\t\t\t\tquestion: {\r\n\t\t\t\t\tliteral: v.content,\r\n\t\t\t\t\tid: v.id\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t});\r\n\t\tconst pairs = data.answerList.map((v) => {\r\n\t\t\treturn {\r\n\t\t\t\tanswer: {\r\n\t\t\t\t\tplainText: v.content,\r\n\t\t\t\t\tcontentHtml: v.contentHtml\r\n\t\t\t\t},\r\n\t\t\t\tcharacter: {\r\n\t\t\t\t\tid: v.character\r\n\t\t\t\t},\r\n\t\t\t\tpushway: v.pushWay,\r\n\t\t\t\tbeginTime: v.beginTime,\r\n\t\t\t\tendTime: v.endTime,\r\n\t\t\t\tid: data.id,\r\n\t\t\t\tquestion: {\r\n\t\t\t\t\tid: data.questionId,\r\n\t\t\t\t\tclassify: {\r\n\t\t\t\t\t\tid: data.classify\r\n\t\t\t\t\t},\r\n\t\t\t\t\tliteral: data.question\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t});\r\n\t\treturn {\r\n\t\t\tmsg: {\r\n\t\t\t\tpairs,\r\n\t\t\t\tpms\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n    /**\r\n     *\r\n     * 编辑类\r\n     * @class Edit\r\n     */\r\n\tclass Edit {\r\n\t\tprivate qId: number;\r\n\t\tprivate lastData: any;\r\n\t\tconstructor() {\r\n\t\t\tthis.getData();\r\n\t\t}\r\n\r\n\t\tprivate getData() {\r\n\t\t\tif (hrefType === 'review' && reviewId) {\r\n\t\t\t\t$.ajax({\r\n\t\t\t\t\turl: 'knowledge/rehearsalReview/getPair',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tid: reviewId\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (data) => {\r\n\t\t\t\t\t\treviewData = data;\r\n\t\t\t\t\t\tconst msg = transFormData(data);\r\n\t\t\t\t\t\tif (!(msg as any).error) {\r\n\t\t\t\t\t\t\tthis.fillData(msg.msg);\r\n\t\t\t\t\t\t\tthis.initSave();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\talertMessage('未知错误');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t$.ajax({\r\n\t\t\t\turl: 'knowledge/editByA/listByPairId',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tpairId: pairId\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: (msg) => {\r\n\t\t\t\t\tif (!msg.error) {\r\n\t\t\t\t\t\tthis.fillData(msg.msg);\r\n\t\t\t\t\t\tthis.initSave();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\talertMessage('未知错误');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tprivate fillData(data) {\r\n\t\t\ttry {\r\n\t\t\t\tconst q = data.pairs[0].question;\r\n\t\t\t\t$('#question').val(q.literal);\r\n\t\t\t\toriginQuestion = q;\r\n\t\t\t\tthis.qId = q.id;\r\n\t\t\t\tshowRepeat();\r\n\t\t\t\tinitQTable(data.pms);\r\n\t\t\t\tinitATable(data.pairs);\r\n\t\t\t\ttree.selected = [q.classify.id];\r\n\t\t\t}\r\n\t\t\tcatch (e) {\r\n\t\t\t\tconsole.error(e);\r\n\t\t\t}\r\n\t\t}\r\n\t\tprivate initSave() {\r\n\t\t\t$('#save-btn').on('click', () => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tlet data = {\r\n\t\t\t\t\t\tquestionId: this.qId\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tif (!checkGlobal()) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst standards = getStandards(this.qId),\r\n\t\t\t\t\t\tpms = getPms(),\r\n\t\t\t\t\t\tchildList = getAutoRepeat(),\r\n\t\t\t\t\t\tlistLen = checkQList.length;\r\n\t\t\t\t\tif (standards === false) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (pms === false) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tdata = Object.assign(data, {\r\n\t\t\t\t\t\tchildList: JSON.stringify(childList),\r\n\t\t\t\t\t\tdelPmsId: JSON.stringify(delQ),\r\n\t\t\t\t\t\tdelPairsId: JSON.stringify(delA),\r\n\t\t\t\t\t\tstandards: standards,\r\n\t\t\t\t\t\tpms: pms\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tshowLoading();\r\n\r\n\t\t\t\t\tif (listLen > 0 && checkQList[listLen - 1].loading) {\r\n\t\t\t\t\t\tthis.lastData = data;\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (hrefType === 'review' && reviewId) {\r\n\t\t\t\t\t\tconst question = JSON.parse(pms);\r\n\t\t\t\t\t\tconst answer = JSON.parse(standards);\r\n\t\t\t\t\t\tconst childQuestionList = question.map((v) => {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tcontent: v.question\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tconst answerList = answer.map((v) => {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tcontent: v.plainText,\r\n\t\t\t\t\t\t\t\tcontentHtml: v.htmlContent,\r\n\t\t\t\t\t\t\t\tcharacter: v.characterId,\r\n\t\t\t\t\t\t\t\tpushWay: v.pushway,\r\n\t\t\t\t\t\t\t\tbeginTime: v.beginTime,\r\n\t\t\t\t\t\t\t\tendTime: v.endTime\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\t\ttype: 'POST',\r\n\t\t\t\t\t\t\turl: 'knowledge/rehearsalReview/updatePair',\r\n\t\t\t\t\t\t\tcontentType: 'application/json',\r\n\t\t\t\t\t\t\tdata: JSON.stringify({\r\n\t\t\t\t\t\t\t\tautoRehearsalList: childList,\r\n\t\t\t\t\t\t\t\tchildQuestionList,\r\n\t\t\t\t\t\t\t\tanswerList,\r\n\t\t\t\t\t\t\t\tquestion: answer[0].question,\r\n\t\t\t\t\t\t\t\tclassify: answer[0].classifyId ? answer[0].classifyId : -1,\r\n\t\t\t\t\t\t\t\tid: reviewData.id,\r\n\t\t\t\t\t\t\t\tquestionId: reviewData.questionId,\r\n\t\t\t\t\t\t\t\tstatus: reviewData.status\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}).done((msg) => {\r\n\t\t\t\t\t\t\tif (!msg.error) {\r\n\t\t\t\t\t\t\t\talertMessage(msg.msg, !msg.error);\r\n\t\t\t\t\t\t\t\t(parent.window as any).reviewSave();\r\n\t\t\t\t\t\t\t\tclearLoading();\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\talertMessage(msg.msg, !msg.error);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.save(data);\r\n\t\t\t\t\t}\r\n\t\t\t\t}, DELAY);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tprivate save(data) {\r\n\t\t\t$.ajax({\r\n\t\t\t\turl: 'knowledge/editByA/updatePair',\r\n\t\t\t\ttype: 'POST',\r\n\t\t\t\tdata: data,\r\n\t\t\t\tsuccess: (msg) => {\r\n\t\t\t\t\talertMessage(msg.msg, msg.code);\r\n\t\t\t\t\tif (!msg.error) {\r\n\t\t\t\t\t\tsaveIntent();\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\twindow.location.assign(`${ctx}/knowledge/editByA/index?isreturn=true`);\r\n\t\t\t\t\t\t}, 3000);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tcomplete: () => {\r\n\t\t\t\t\tclearLoading();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tpublic saveByLastData() {\r\n\t\t\tthis.save(this.lastData);\r\n\t\t}\r\n\t}\r\n\r\n    /**\r\n     *\r\n     * 新建类\r\n     * @class Create\r\n     */\r\n\tclass Create {\r\n\t\tprivate lastData: any;\r\n\r\n\t\tpublic constructor() {\r\n\t\t\tthis.fillData();\r\n\t\t\tthis.initSave();\r\n\t\t}\r\n\r\n\t\tprivate fillData() {\r\n\t\t\tshowRepeat();\r\n\t\t\tinitQTable([]);\r\n\t\t\tinitATable([newARow()]);\r\n\t\t}\r\n\r\n\t\tprivate initSave() {\r\n\t\t\t$('#save-btn').on('click', () => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tlet data;\r\n\t\t\t\t\tif (!checkGlobal()) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst standards = getStandards(null),\r\n\t\t\t\t\t\tpms = getPms(),\r\n\t\t\t\t\t\tchildList = getAutoRepeat(),\r\n\t\t\t\t\t\tlistLen = checkQList.length;\r\n\t\t\t\t\tif (standards === false) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (pms === false) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdata = {\r\n\t\t\t\t\t\tchildList: JSON.stringify(childList),\r\n\t\t\t\t\t\tstandards: standards,\r\n\t\t\t\t\t\tpms: pms\r\n\t\t\t\t\t};\r\n\t\t\t\t\tshowLoading();\r\n\t\t\t\t\tif (listLen > 0 && checkQList[listLen - 1].loading) {\r\n\t\t\t\t\t\tthis.lastData = data;\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (hrefType === 'review' && !reviewId) {\r\n\t\t\t\t\t\tconst question = JSON.parse(pms);\r\n\t\t\t\t\t\tconst answer = JSON.parse(standards);\r\n\t\t\t\t\t\tconst childQuestionList = question.map((v) => {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tcontent: v.question\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tconst answerList = answer.map((v) => {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tcontent: v.plainText,\r\n\t\t\t\t\t\t\t\tcontentHtml: v.htmlContent,\r\n\t\t\t\t\t\t\t\tcharacter: v.characterId,\r\n\t\t\t\t\t\t\t\tpushWay: v.pushway,\r\n\t\t\t\t\t\t\t\tbeginTime: v.beginTime,\r\n\t\t\t\t\t\t\t\tendTime: v.endTime\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\t\ttype: 'POST',\r\n\t\t\t\t\t\t\turl: 'knowledge/rehearsalReview/addPair',\r\n\t\t\t\t\t\t\tcontentType: 'application/json',\r\n\t\t\t\t\t\t\tdata: JSON.stringify({\r\n\t\t\t\t\t\t\t\tautoRehearsalList: childList,\r\n\t\t\t\t\t\t\t\tchildQuestionList,\r\n\t\t\t\t\t\t\t\tanswerList,\r\n\t\t\t\t\t\t\t\tstatus: 0,\r\n\t\t\t\t\t\t\t\tquestion: answer[0].question,\r\n\t\t\t\t\t\t\t\tclassify: answer[0].classifyId\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}).done((msg) => {\r\n\t\t\t\t\t\t\tif (!msg.error) {\r\n\t\t\t\t\t\t\t\t(parent.window as any).reviewSave();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tclearLoading();\r\n\t\t\t\t\t\t\talertMessage(msg.msg, !msg.error);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.save(data);\r\n\t\t\t\t}, DELAY);\r\n\t\t\t});\r\n\t\t}\r\n\t\tprivate save(data) {\r\n\t\t\t$.ajax({\r\n\t\t\t\turl: 'knowledge/editByA/addPair',\r\n\t\t\t\ttype: 'POST',\r\n\t\t\t\tdata: data,\r\n\t\t\t\tsuccess: (msg) => {\r\n\t\t\t\t\talertMessage(msg.msg, msg.code);\r\n\t\t\t\t\tif (!msg.error) {\r\n\t\t\t\t\t\tsaveIntent();\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\twindow.location.assign(`${ctx}/knowledge/editByA/index`);\r\n\t\t\t\t\t\t}, 3000);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tcomplete: () => {\r\n\t\t\t\t\tclearLoading();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tpublic saveByLastData() {\r\n\t\t\tthis.save(this.lastData);\r\n\t\t}\r\n\r\n\t}\r\n\r\n    /**\r\n     *\r\n     * 初始化编辑主句时的问题表格\r\n     * @param {any} data\r\n     */\r\n\tfunction initQTable(data) {\r\n\t\t$('#q-table').DataTable({\r\n\t\t\tdata: data,\r\n\t\t\tselect: {\r\n\t\t\t\tstyle: 'single',\r\n\t\t\t\tblurable: false,\r\n\t\t\t\tinfo: false\r\n\t\t\t},\r\n\t\t\tinitComplete: qTableInitComplete,\r\n\t\t\tcolumns: [\r\n\t\t\t\t{ data: 'question.literal', title: '问题', width: '90%', render: renderTitle },\r\n\t\t\t\t{ data: 'question.id', title: '操作', render: renderEditAndDeleteIcon, width: '10%' }\r\n\t\t\t]\r\n\t\t});\r\n\t}\r\n\r\n    /**\r\n     * 问题表格初始化回调\r\n     */\r\n\tfunction qTableInitComplete() {\r\n\t\tconst table = $('#q-table').DataTable();\r\n\t\ttable.row(0).select();\r\n\t\t// $('#edit-q-btn').on('click', () => {\r\n\t\t//     const data: any = table.row('.selected').data();\r\n\t\t//     if (!data) {\r\n\t\t//         alertMessage('请选择要编辑的复述问法');\r\n\t\t//     }\r\n\t\t//     else {\r\n\t\t//         $('#edit-q-modal').modal('show').find('.modal-title').text('编辑复述问法');\r\n\t\t//         $('#q-input').val(data.question.literal).focus();\r\n\t\t//     }\r\n\t\t// });\r\n\r\n\t\t// $('#q-edit-confirm-btn').on('click', () => {\r\n\t\t//     const val = $.trim($('#q-input').val()),\r\n\t\t//         qVal = $.trim($('#question').val());\r\n\t\t//     if (val === '') {\r\n\t\t//         alertMessage('请输入复述问法');\r\n\t\t//     }\r\n\t\t//     else if (val === qVal) {\r\n\t\t//         alertMessage('与标准问法一致');\r\n\t\t//     }\r\n\t\t//     else {\r\n\t\t//         const cell = table.cell('.selected td:first');\r\n\t\t//         cell.data(val).draw();\r\n\t\t//         $('#edit-q-modal').modal('hide');\r\n\t\t//     }\r\n\t\t// });\r\n\t\t$('#add-question').on('click', () => {\r\n\t\t\tconst el = $('#add-question-text');\r\n\t\t\tconst val = $.trim(el.val());\r\n\t\t\tconst qVal = $.trim($('#question').val());\r\n\t\t\tif (!val) {\r\n\t\t\t\talertMessage('请输入复述问法');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (val === qVal) {\r\n\t\t\t\talertMessage('与标准问法一致');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst qData = $('#q-table').DataTable().data().toArray();\r\n\t\t\tfor (let v of qData) {\r\n\t\t\t\tconst text = v.question.literal;\r\n\t\t\t\tif (val === text) {\r\n\t\t\t\t\talertMessage('复述问法已存在！');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tel.val('');\r\n\t\t\tif (hrefType === 'review') {\r\n\t\t\t\t$.ajax({\r\n\t\t\t\t\ttype: 'POST',\r\n\t\t\t\t\turl: 'knowledge/rehearsalReview/isSimilarity',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tmasterQuestion: qVal,\r\n\t\t\t\t\t\tslaveQuestion: val\r\n\t\t\t\t\t}\r\n\t\t\t\t}).done((msg) => {\r\n\t\t\t\t\tif (!msg.error) {\r\n\t\t\t\t\t\talertMessage(msg.msg, !msg.error);\r\n\t\t\t\t\t\ttable.row.add(newQRow(val)).draw().row('#q-table tbody tr:last').select();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\talertMessage(msg.msg, !msg.error);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\ttable.row.add(newQRow(val)).draw().row('#q-table tbody tr:last').select();\r\n\t\t});\r\n\t\t$('.q-table-wrap').on('click', '.view-delete', function () {\r\n\t\t\tconfirmModal({\r\n\t\t\t\tmsg: `确认要删除吗`,\r\n\t\t\t\tcb: (modal, btn) => {\r\n\t\t\t\t\tconst el = table.row($(this).closest('tr'));\r\n\t\t\t\t\tconst data: any = el.data();\r\n\t\t\t\t\tif (data.id) {\r\n\t\t\t\t\t\tdelQ.push(data.question.id);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tel.remove();\r\n\t\t\t\t\ttable.draw().row(0).select();\r\n\t\t\t\t\tmodal.modal('hide');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\t$('.q-table-wrap').on('click', '.view-edit', function () {\r\n\t\t\tconst tr = $(this).closest('tr');\r\n\t\t\tconst title = tr.find('span');\r\n\t\t\tconst input = tr.find('input');\r\n\t\t\ttitle.hide();\r\n\t\t\tinput.val(title.text()).show().focus();\r\n\t\t});\r\n\t\t$('.q-table-wrap').on('keypress', '.q-input', function (e) {\r\n\t\t\tconst keynum = (e.keyCode ? e.keyCode : e.which);\r\n\t\t\tif (keynum === 13) {\r\n\t\t\t\t$(this).blur();\r\n\t\t\t}\r\n\t\t});\r\n\t\t$('.q-table-wrap').on('blur', '.q-input', function () {\r\n\t\t\tconst el = $(this);\r\n\t\t\tel.hide();\r\n\t\t\tel.siblings('.q-title').text(el.val()).show();\r\n\t\t\tconst cell = table.cell(el.closest('tr').find('td').eq(0));\r\n\t\t\tcell.data(el.val()).draw();\r\n\t\t});\r\n\t\t$('#auto-repeat').on('click', function () {\r\n\t\t\tif ($('#question').val().trim() === '') {\r\n\t\t\t\talertMessage('请输入标准问法');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst endLoading = loadingBtn($(this));\r\n\t\t\t$.ajax({\r\n\t\t\t\turl: '/cloud/knowledge/editByA/generateSunQuestion',\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tliteral: $('#question').val().trim()\r\n\t\t\t\t}\r\n\t\t\t}).done((data) => {\r\n\t\t\t\tif (data.data && !$.isEmptyObject(data.data)) {\r\n\t\t\t\t\t$('#edit-q-modal').modal('show');\r\n\t\t\t\t\tdrawQSTable(data.data);\r\n\t\t\t\t} else {\r\n\t\t\t\t\talertMessage('根据标准问法，未查询到符合条件的复述问法', true);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t\t.always(() => {\r\n\t\t\t\t\tendLoading();\r\n\t\t\t\t});\r\n\t\t});\r\n\t\t// $('#add-q-btn').on('click', () => {\r\n\t\t//     table.row.add(newQRow())\r\n\t\t//         .draw()\r\n\t\t//         .row('#q-table tbody tr:last')\r\n\t\t//         .select();\r\n\t\t//     $('#edit-q-modal').modal('show').find('.modal-title').text('添加复述问法');\r\n\t\t//     $('#q-input').val(newQText).select();\r\n\t\t// });\r\n\r\n\t\t// $('#del-q-btn').on('click', () => {\r\n\t\t//     const el = table.row('.selected');\r\n\t\t//     const data: any = el.data();\r\n\t\t//     if (!data) {\r\n\t\t//         alertMessage('请选择要删除的复述问法');\r\n\t\t//     }\r\n\t\t//     else {\r\n\t\t//         if (data.id) {\r\n\t\t//             delQ.push(data.question.id);\r\n\t\t//         }\r\n\t\t//         el.remove();\r\n\t\t//         table.draw().row(0).select();\r\n\t\t//     }\r\n\t\t// });\r\n\r\n\t\t// $('#link-wrap,#common-wrap').on('click', '.link-btn', () => {\r\n\t\t//     $('#link-modal').modal('show');\r\n\t\t// });\r\n\r\n\t\t// $('#link-wrap').on('click', '.unlink-btn', () => {\r\n\t\t//     confirmModal({\r\n\t\t//         msg: '确定取消关联该知识点吗?',\r\n\t\t//         cb: (modal) => {\r\n\t\t//             modal.modal('hide');\r\n\t\t//             $('#link-wrap').empty();\r\n\t\t//             linkId = undefined;\r\n\t\t//             $('#link-btn').show();\r\n\t\t//         },\r\n\t\t//         text: '确定'\r\n\t\t//     });\r\n\t\t// });\r\n\r\n\t\t// $('#link-modal').on('show.bs.modal', () => {\r\n\t\t//     getLinkList('', 1);\r\n\t\t// });\r\n\r\n\t\t// $('#link-modal').on('hidden.bs.modal', () => {\r\n\t\t//     $('#link-input').val('');\r\n\t\t//     $('#result-wrap').empty();\r\n\t\t//     paging.total = 1;\r\n\t\t// });\r\n\r\n\t\t// $('#link-submit-btn').on('click', () => {\r\n\t\t//     const el = $('#result-wrap input:checked');\r\n\t\t//     if (el.length <= 0) {\r\n\t\t//         alertMessage('请选择要关联的知识点');\r\n\t\t//     }\r\n\t\t//     else {\r\n\t\t//         linkId = el.attr('data-id');\r\n\t\t//         const html = `\r\n\t\t//         <label class=\"cloud-input-title classify-title\">\r\n\t\t//             已关联知识点：\r\n\t\t//         </label>\r\n\t\t//         <a href=\"depart/detail?id=${linkId}\" target=\"_blank\" class=\"cloud-input-title classify-title\">\r\n\t\t//             ${el.attr('data-title')}\r\n\t\t//         </a>\r\n\t\t//         <div class=\"link-btn-wrap\">\r\n\t\t//             <button type=\"button\" class=\"btn btn-sm btn-primary link-btn\">关联知识点</button>\r\n\t\t//             <button type=\"button\" class=\"btn btn-sm btn-danger unlink-btn\">取消关联</button>\r\n\t\t//         </div>`;\r\n\t\t//         $('#link-wrap').html(html);\r\n\t\t//         $('#link-modal').modal('hide');\r\n\t\t//         $('#link-btn').hide();\r\n\t\t//     }\r\n\t\t// });\r\n\r\n\t\t// bindInput($('#link-input'), 'input keypress', getLinkList, DELAY);\r\n\t}\r\n\tfunction drawQSTable(data) {\r\n\t\tqsTableData = [];\r\n\t\t// for (let i in data) {\r\n\t\t// \tif ($.isEmptyObject(data[i])) {\r\n\t\t// \t\tqsTableData.push({\r\n\t\t// \t\t\tname: i,\r\n\t\t// \t\t\tnumber: 0,\r\n\t\t// \t\t\tchildren: []\r\n\t\t// \t\t});\r\n\t\t// \t} else {\r\n\t\t// \t\tlet smallData = [];\r\n\t\t// \t\tfor (let j in data[i]) {\r\n\t\t// \t\t\tsmallData.push({\r\n\t\t// \t\t\t\tname: j,\r\n\t\t// \t\t\t\tpercent: data[i][j]\r\n\t\t// \t\t\t});\r\n\t\t// \t\t}\r\n\t\t// \t\tqsTableData.push({\r\n\t\t// \t\t\tname: i,\r\n\t\t// \t\t\tnumber: Object.getOwnPropertyNames(data[i]).length,\r\n\t\t// \t\t\tchildren: smallData\r\n\t\t// \t\t});\r\n\t\t// \t}\r\n\t\t// }\r\n\t\tfor (let v of data) {\r\n\t\t\tqsTableData.push({\r\n\t\t\t\tname: v.sentence,\r\n\t\t\t\tgroup: v.group\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (qsTable) {\r\n\t\t\tqsTable.rows().remove();\r\n\t\t\tqsTable.rows.add(qsTableData);\r\n\t\t\tqsTable.draw();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t// const tableData = data.map((v) => {\r\n\t\t//     return {\r\n\t\t//         name: v,\r\n\t\t//         number: 3\r\n\t\t//     };\r\n\t\t// });\r\n\t\t$('#edit-q-modal').on('shown.bs.modal', () => {\r\n\t\t\t$('#q-select-table .checkAll').prop('checked', true).trigger('change');\r\n\t\t});\r\n\t\tqsTable = $('#q-select-table').DataTable({\r\n\t\t\tdata: qsTableData,\r\n\t\t\tselect: false,\r\n\t\t\tinitComplete: qsComplete,\r\n\t\t\tcolumns: [\r\n\t\t\t\tgetCheckboxColumnObj('name') as any,\r\n\t\t\t\t{ data: 'name', title: '复述问法', width: '40%' }\r\n\t\t\t\t// { data: 'number', title: '混淆句', render: renderNumber }\r\n\t\t\t]\r\n\t\t});\r\n\t}\r\n\tfunction renderNumber(num, status, row) {\r\n\t\tif (num === 0) {\r\n\t\t\treturn num;\r\n\t\t} else {\r\n\t\t\treturn `<span class=\"question-number\">${num}</span>`;\r\n\t\t}\r\n\t}\r\n\tfunction qsComplete() {\r\n\t\t// const editQTModal = $('#edit-q-modal');\r\n\t\t// editQTModal.on('hidden.bs.modal', function () {\r\n\t\t//     editQTModal.find('input[name=checklist]').each((i, e) => {\r\n\t\t//         (e as any).checked = false;\r\n\t\t//     });\r\n\t\t// });\r\n\t\tbindCheckBoxEvent($('#q-select-table'));\r\n\t\t// $('#checkAll').on('click', function () {\r\n\t\t//     const val = this.checked;\r\n\t\t//     if (val) {\r\n\t\t//         $('input[name=checklist]').each((i, e) => {\r\n\t\t//             (e as any).checked = true;\r\n\t\t//         });\r\n\t\t//     } else {\r\n\t\t//         $('input[name=checklist]').each((i, e) => {\r\n\t\t//             (e as any).checked = false;\r\n\t\t//         });\r\n\t\t//     }\r\n\t\t// });\r\n\t\t// $('#q-select-table .checkAll').click();\r\n\t\t$('#q-edit-confirm-btn').on('click', function () {\r\n\t\t\tconst table = $('#q-table').DataTable();\r\n\t\t\t$('input[name=checklist]:checked').each((i, e) => {\r\n\t\t\t\tconst rowData = qsTable.row($(e).closest('tr')).data();\r\n\t\t\t\ttable.row.add(Object.assign(newQAutoRepeatRow(rowData), { ifauto: true }));\r\n\t\t\t});\r\n\t\t\ttable.draw().row('#q-table tbody tr:last').select();\r\n\t\t\t$('#edit-q-modal').modal('hide');\r\n\t\t});\r\n\t\t$('#q-select-table').on('click', '.question-number', function () {\r\n\t\t\tconst el = $(this);\r\n\t\t\tconst tr = el.closest('tr');\r\n\t\t\tif (el.is('.active')) {\r\n\t\t\t\tel.removeClass('active');\r\n\t\t\t\ttr.siblings('.child').remove();\r\n\t\t\t} else {\r\n\t\t\t\tel.addClass('active');\r\n\t\t\t\tconst data: any = $('#q-select-table').DataTable().row(el.closest('tr')).data();\r\n\t\t\t\tdata.children.forEach((v) => {\r\n\t\t\t\t\tconst newTr = $(`<tr role=\"row\" class=\"child\">y\r\n                    <td class=\"force-width\"></td>\r\n                    <td class=\"force-width\"></td>\r\n                    <td class=\"force-width\"><span class=\"question-detail\">${v.name}  (混淆率：${v.percent})</span></td>\r\n                </tr>`);\r\n\t\t\t\t\tnewTr.insertAfter(tr);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\tfunction getLinkList(value: string, index: number = 1) {\r\n\t\t$('#link-loading').addClass('show');\r\n\t\t$.ajax({\r\n\t\t\turl: 'depart/doclist',\r\n\t\t\ttype: 'POST',\r\n\t\t\tdata: cleanObject({\r\n\t\t\t\tkeyword: $.trim(value),\r\n\t\t\t\tclassifyid: tree.selected[0],\r\n\t\t\t\tisparent: true,\r\n\t\t\t\tsize: 10,\r\n\t\t\t\tpage: index\r\n\t\t\t}),\r\n\t\t\tsuccess: (msg) => {\r\n\t\t\t\tif (!paging) {\r\n\t\t\t\t\tinitPagin(msg.recordsTotal);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tpaging.index = index;\r\n\t\t\t\t\tpaging.total = msg.recordsTotal;\r\n\t\t\t\t}\r\n\t\t\t\trenderlinkList(msg.rows);\r\n\t\t\t\t$('#link-loading').removeClass('show');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\r\n\tfunction renderlinkList(data) {\r\n\t\tif (data && data.length > 0) {\r\n\t\t\tlet html = '';\r\n\t\t\tdata.forEach(v => {\r\n\t\t\t\thtml += `\r\n                <li class=\"radio\">\r\n                    <label>\r\n                        <input type=\"radio\" name=\"link\" data-id=\"${v.id}\" data-title=\"${v.title}\"/>\r\n                        ${v.title}\r\n                    </label>\r\n                </li>`;\r\n\t\t\t});\r\n\r\n\t\t\t$('#result-wrap').html(html);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction initPagin(total) {\r\n\t\tpaging = new Pagination($('#link-paging'), {\r\n\t\t\tsize: 10,\r\n\t\t\ttotal: total,\r\n\t\t\tonChange: (data) => {\r\n\t\t\t\tgetLinkList($.trim($('#link-input').val()), data.index);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\r\n\r\n    /**\r\n     *\r\n     * 初始化编辑主句时的回复表格\r\n     * @param {any} data 表格数据\r\n     */\r\n\tfunction initATable(aData) {\r\n\t\t// const currentData = aData.map(v => {\r\n\t\t// \tv.beginTime = v.beginTime;// moment(v.beginTime).format('YYYY-MM-DD HH:MM:SS');\r\n\t\t// \tv.endTime = v.endTime;// moment(v.endTime).format('YYYY-MM-DD HH:MM:SS');\r\n\t\t// \treturn v;\r\n\t\t// });\r\n\t\t$('#a-table').DataTable({\r\n\t\t\tdata: aData,\r\n\t\t\tselect: {\r\n\t\t\t\tstyle: 'single',\r\n\t\t\t\tblurable: false,\r\n\t\t\t\tinfo: false,\r\n\t\t\t\tselector: 'td:first-child'\r\n\t\t\t},\r\n\t\t\tinitComplete: aTableInitComplete,\r\n\t\t\tcolumns: [\r\n\t\t\t\t{ data: 'answer.plainText', title: '回复', width: '40%' },\r\n\t\t\t\t{ data: 'character', title: '角色', render: renderCharacter },\r\n\t\t\t\t{ data: 'pushway', title: '渠道', render: renderPushway },\r\n\t\t\t\t{ data: 'beginTime', title: '生效时间', render: function (data) { return renderTime(data, 'begin-date'); }, createdCell: createTime },\r\n\t\t\t\t{ data: 'endTime', title: '失效时间', render: function (data) { return renderTime(data, 'end-date'); }, createdCell: createTime }\r\n\t\t\t\t// { data: \"status\", title: \"审核状态\", render: renderStatus, width: \"80px\", createdCell: createStatus }\r\n\t\t\t]\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tfunction renderCharacter(character) {\r\n\t\tlet str = `<div class=\"cloud-input-content cloud-sm\"><select class=\"character form-control input-sm\">`;\r\n\t\tselectData.character.forEach(v => {\r\n\t\t\tstr += `<option value=\"${v.id}\" ${v.id === character.id ? 'selected=\"true\"' : ''}>${v.name}</option>`;\r\n\t\t});\r\n\r\n\t\treturn str + '</select></div>';\r\n\t}\r\n\r\n\tfunction renderTime(time, className: string) {\r\n\t\treturn `<div class=\"cloud-input-content cloud-sm\"><input type=\"text\" class=\"form-control ${className} input-sm date\" value=\"${time}\" data-origin=\"${time}\"></div>`;\r\n\t}\r\n\r\n    /**\r\n     *\r\n     * 渲染时间选择控件\r\n     * @param {any} el\r\n     */\r\n\tfunction createTime(el) {\r\n\t\tconst input = $(el).find('input');\r\n\t\tnew SimpleDate({\r\n\t\t\tel: input,\r\n\t\t\tdate: input.val()\r\n\t\t});\r\n\t}\r\n\r\n    /**\r\n     * 回复表格初始化回调\r\n     */\r\n\tfunction aTableInitComplete() {\r\n\t\tconst table = $('#a-table').DataTable(),\r\n\t\t\t// tslint:disable-next-line:no-unused-variable\r\n\t\t\tmodal = $('#swicth-answer-type');\r\n\t\teditor = new Editor({\r\n\t\t\tel: $('#editor'),\r\n\t\t\tonChange: editorOnChange\r\n\t\t}).editorElement;\r\n\t\teditor.$txt.blur();\r\n\t\ttable.on('select', changeEditorContent);\r\n\t\ttable.on('deselect', clearEditorContent);\r\n\r\n\t\t$('#add-a-btn').on('click', () => {\r\n\t\t\tconst type = $('input[name=\"answer-type\"]:checked').val();\r\n\t\t\tswitch (type) {\r\n\t\t\t\tcase 'common':\r\n\t\t\t\t\ttable.row.add(newARow()).draw();\r\n\t\t\t\t\ttable.row('tr:last').select();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'intent':\r\n\t\t\t\t\t$('#intent-modal').modal('show');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t// table.row.add(newARow()).draw();\r\n\t\t\t// table.row('tr:last').select();\r\n\t\t\t// modal.modal('show');\r\n\t\t});\r\n\t\t// $('#answer-type-list').on('change', 'input:radio', (e) => {\r\n\t\t//     const answerContent = $('#answer-type-content'),\r\n\t\t//         el = $(e.currentTarget),\r\n\t\t//         type = el.val();\r\n\r\n\t\t//     if (el.is(':checked')) {\r\n\t\t//         answerContent.find('.answer-content-group').hide();\r\n\r\n\t\t//         answerContent.find(`.answer-content-group[data-type=${type}]`).show();\r\n\t\t//     }\r\n\t\t// });\r\n\r\n\t\t// $('#switch-answer-btn').on('click', () => {\r\n\t\t//     const checked = $('#answer-type-list input[type=radio]:checked'),\r\n\t\t//         answerContent = $('#answer-type-content'),\r\n\t\t//         type = checked.val();\r\n\r\n\t\t//     if (checked.length <= 0) {\r\n\t\t//         return;\r\n\t\t//     }\r\n\r\n\t\t//     const group = answerContent.find(`.answer-content-group[data-type=${type}]`);\r\n\r\n\t\t//     if (group.length > 0 && !group.find('input').val()) {\r\n\t\t//         alertMessage(group.find('label').html());\r\n\t\t//         return;\r\n\t\t//     }\r\n\r\n\t\t//     switch (type) {\r\n\t\t//         case '1':\r\n\t\t//             table.row.add(newARow()).draw();\r\n\t\t//             break;\r\n\t\t//         case '5':\r\n\t\t//             table.row.add(newARow('【链接】', type)).draw();\r\n\t\t//             break;\r\n\t\t//         case '2':\r\n\t\t//             table.row.add(newARow('【图片文件】', type)).draw();\r\n\t\t//             break;\r\n\t\t//         default:\r\n\t\t//             return;\r\n\t\t//     }\r\n\r\n\t\t//     table.row('tr:last').select();\r\n\t\t//     modal.modal('hide');\r\n\t\t//     resetAnswerList();\r\n\t\t// });\r\n\r\n\t\t$('#intent-confirm-btn').on('click', (e) => {\r\n\t\t\tconst intentModal = $('#intent-modal'),\r\n\t\t\t\textras = intentModal.find('.extras-row').toArray(),\r\n\t\t\t\tcode = $('#intent-code').val().trim();\r\n\r\n\t\t\tif (code === '') {\r\n\t\t\t\talertMessage('intentKey 不能为空');\r\n\t\t\t}\r\n\t\t\telse if (extras.length <= 0) {\r\n\t\t\t\talertMessage('extras 不能为空');\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tconst end = loadingBtn($(e.currentTarget)),\r\n\t\t\t\t\tintentJson = JSON.stringify({\r\n\t\t\t\t\t\tintentKey: code,\r\n\t\t\t\t\t\textras: extras.map(v => {\r\n\t\t\t\t\t\t\tconst inputs = $(v).find('input');\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tkey: inputs.eq(0).val(),\r\n\t\t\t\t\t\t\t\tvalue: inputs.eq(1).val()\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t});\r\n\t\t\t\t$.ajax('knowledge/intent/add', {\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t// contentType: 'application/json',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tintentJson: intentJson\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t\t.done(msg => {\r\n\t\t\t\t\t\tif (!msg.error) {\r\n\t\t\t\t\t\t\ttable.row.add(newARow(`[意图: ${intentJson}]`, {\r\n\t\t\t\t\t\t\t\tintentId: msg.data.id\r\n\t\t\t\t\t\t\t})).draw();\r\n\t\t\t\t\t\t\ttable.row('tr:last').select();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.always(() => {\r\n\t\t\t\t\t\tend();\r\n\t\t\t\t\t\tintentModal.modal('hide');\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\r\n\r\n\r\n\t\t});\r\n\r\n\t\t$('#intent-modal').on('click', '.remove-this', (e) => {\r\n\t\t\t$(e.currentTarget).parent('.extras-row').remove();\r\n\t\t})\r\n\t\t\t.on('hidden.bs.modal', () => {\r\n\t\t\t\t$('#intent-code').val('');\r\n\t\t\t\t$('#intent-modal .extras-row').remove();\r\n\t\t\t\t$('#extras-add input').val('');\r\n\t\t\t});\r\n\r\n\t\t$('#extras-add').on('change', 'input', (e) => {\r\n\t\t\tconst el = $(e.currentTarget);\r\n\t\t\tlet html = '<div class=\"row extras-row\">';\r\n\t\t\tif (el.val().trim() === '') {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst inputs = $('#extras-add input').toArray();\r\n\r\n\t\t\tfor (let v of inputs) {\r\n\t\t\t\tconst vEl = $(v),\r\n\t\t\t\t\tval = vEl.val().trim();\r\n\r\n\t\t\t\tif (val === '') {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\thtml += `\r\n                    <div class=\"col-sm-6\">\r\n                        <input class=\"form-control input-sm\" readonly value=\"${val}\">\r\n                    </div>\r\n                `;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor (let v of inputs) {\r\n\t\t\t\t$(v).val('');\r\n\t\t\t}\r\n\r\n\t\t\thtml += '<div class=\"remove-this\"></div></div>';\r\n\r\n\t\t\t$('#extras-add').before(html);\r\n\t\t});\r\n\r\n\t\t$('#del-a-btn').on('click', () => {\r\n\t\t\tconfirmModal({\r\n\t\t\t\tmsg: `确认要删除吗`,\r\n\t\t\t\tcb: (modal1, btn) => {\r\n\t\t\t\t\tconst el = table.row({ selected: true });\r\n\t\t\t\t\tconst data: any = el.data();\r\n\t\t\t\t\tif (!data) {\r\n\t\t\t\t\t\talertMessage('请选择要删除的回复');\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tif (data.id) {\r\n\t\t\t\t\t\t\tdelA.push(data.id);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tel.remove();\r\n\t\t\t\t\t\ttable.draw().row(0).select();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (table.rows().data().toArray().length < 1) {\r\n\t\t\t\t\t\tclearEditorContent();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmodal1.modal('hide');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t$('#a-table').on('change', '.begin-date', function () {\r\n\t\t\tconst el = $(this);\r\n\t\t\t(table.row(el.parents('tr')).data() as any).beginTime = el.val() + ' ' + el.data('origin').split(' ')[1];\r\n\t\t});\r\n\r\n\t\t$('#a-table').on('change', '.end-date', function () {\r\n\t\t\tconst el = $(this);\r\n\t\t\t(table.row(el.parents('tr')).data() as any).endTime = el.val() + ' ' + el.data('origin').split(' ')[1];\r\n\t\t});\r\n\r\n\t\t$('#a-table').on('change', '.character', function () {\r\n\t\t\tconst el = $(this);\r\n\t\t\t(table.row(el.parents('tr')).data() as any).character.id = parseInt(el.val());\r\n\t\t});\r\n\r\n\t\t$('#a-table').on('change', '.pushway', function () {\r\n\t\t\tconst el = $(this);\r\n\t\t\t(table.row(el.parents('tr')).data() as any).pushway = parseInt(el.val());\r\n\t\t});\r\n\r\n\t\ttable.row(0).select();\r\n\t\t// resetAnswerList();\r\n\t}\r\n\r\n\t// tslint:disable-next-line:no-unused-variable\r\n\tfunction resetAnswerList() {\r\n\t\t$('#answer-type-list input:radio:first')\r\n\t\t\t.prop('checked', true)\r\n\t\t\t.trigger('change');\r\n\r\n\t\t$('#answer-type-content input').val('');\r\n\t}\r\n\r\n    /**\r\n     *\r\n     * 回复表格切换选中是修改编辑器内容\r\n     * @param {any} e\r\n     * @param {any} dt\r\n     * @param {any} type\r\n     * @param {any} indexes\r\n     */\r\n\tfunction changeEditorContent(e, dt, type, indexes) {\r\n\t\tconst data = dt.row(indexes).data();\r\n\t\t// const p = editor.$txt.find(\"p:last\");\r\n\t\teditor.enable();\r\n\t\teditor.$txt.html(data.answer.contentHtml);\r\n\t\tif (data.answer.plainText.match(/^\\[意图/)) {\r\n\t\t\t$('.wangEditor-container').hide();\r\n\t\t} else {\r\n\t\t\t$('.wangEditor-container').show();\r\n\t\t}\r\n\t}\r\n\r\n    /**\r\n     *\r\n     * 禁用编辑器\r\n     * @param {any} e\r\n     * @param {any} dt\r\n     */\r\n\tfunction clearEditorContent(e?, dt?) {\r\n\t\teditor.disable();\r\n\t\teditor.$txt.html('<h4 class=\"text-center\">请选择回复</h4>');\r\n\t}\r\n\r\n    /**\r\n     *\r\n     * 编辑器修改回调\r\n     * @returns\r\n     */\r\n\tfunction editorOnChange() {\r\n\t\tconst table = $('#a-table').DataTable();\r\n\t\tconst data: any = table.row({ selected: true }).data();\r\n\t\tif (!data) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconst html = editor.$txt.html(),\r\n\t\t\t\ttext = formatText(html);\r\n\t\t\ttable.cell('.selected td:first').data(text).draw();\r\n\t\t\tdata.answer.contentHtml = html;\r\n\t\t}\r\n\t}\r\n\tfunction checkHrefSource() {\r\n\t\tif (hrefType === 'review') {\r\n\t\t\t$('body').addClass('review-mode');\r\n\t\t\tgetDetail();\r\n\t\t}\r\n\t}\r\n\tfunction getDetail() {\r\n\t\t// $.ajax({\r\n\t\t// \ttype: 'POST',\r\n\t\t// \turl: 'knowledge/rehearsalReview/getPair',\r\n\t\t// \tdata: {\r\n\t\t// \t\tid:\r\n\t\t// \t}\r\n\t\t// }).done((msg) => {\r\n\t\t// \tif (!msg.error) {\r\n\t\t// \t\tutils.alertMessage(msg.msg, !msg.error);\r\n\t\t// \t\taddTable.reload();\r\n\t\t// \t} else {\r\n\t\t// \t\tutils.alertMessage(msg.msg, !msg.error);\r\n\t\t// \t}\r\n\t\t// });\r\n\t}\r\n    /**\r\n     * 初始化全局配置（不论新建或编辑）\r\n     */\r\n\tfunction initGlobal() {\r\n\t\tcheckHrefSource();\r\n\t\tconst q = $('#question');\r\n\t\tshowLoading();\r\n\t\ttree = new Tree({\r\n\t\t\tel: $('#classify'),\r\n\t\t\tdata: formatClassify(selectData.classify),\r\n\t\t\tinitComplete: init\r\n\t\t});\r\n\r\n\t\t$.extend(true, $.fn.dataTable.defaults, {\r\n\t\t\tinfo: false\r\n\t\t});\r\n\r\n\t\t// 绑定问题内容的事件\r\n\t\tbindInput(q, 'input keyup', checkExist);\r\n\r\n\t\t// 金立测试完成后需要删掉的\r\n\t\tq.on('change', (e) => {\r\n\t\t\tif ($(e.currentTarget).val().trim() !== '') {\r\n\t\t\t\t$('#auto-repeat').trigger('click');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tbindEnter(q, () => {\r\n\t\t\t$('#save-btn').click();\r\n\t\t});\r\n\t}\r\n\r\n\tfunction checkExist() {\r\n\t\tconst q = $('#question'),\r\n\t\t\tval = $.trim(q.val());\r\n\t\tif (val === '') {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst d = {\r\n\t\t\tloading: true,\r\n\t\t\texist: false\r\n\t\t},\r\n\t\t\t// 把每次验证的都添加\r\n\t\t\tparent = q.parent(),\r\n\t\t\tindex = checkQList.length;\r\n\t\tcheckQList.push(d);\r\n\r\n\t\tif (originQuestion && val === originQuestion.literal) {\r\n\t\t\td.loading = false;\r\n\t\t\tparent.removeClass('has-error');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t$.ajax({\r\n\t\t\turl: 'knowledge/editByA/checkQuestion',\r\n\t\t\ttype: 'POST',\r\n\t\t\tdata: {\r\n\t\t\t\tliteral: val\r\n\t\t\t},\r\n\t\t\tsuccess: (msg) => {\r\n\t\t\t\tconst isClick = !!loadingEl,\r\n\t\t\t\t\tislast = index === checkQList.length - 1,\r\n\t\t\t\t\tdata = msg.msg;\r\n\t\t\t\tlet href, text;\r\n\r\n\t\t\t\td.loading = false;\r\n\t\t\t\t// msg.msg为冲突的pair\r\n\t\t\t\tif (data !== null) {\r\n\t\t\t\t\tparent.addClass('has-error');\r\n\t\t\t\t\td.exist = true;\r\n\t\t\t\t\tswitch (data.status) {\r\n\t\t\t\t\t\tcase 8:\r\n\t\t\t\t\t\t\thref = `knowledge/editByA/update?pairId=${data.id}`;\r\n\t\t\t\t\t\t\ttext = '该问题已经存在,点击前往编辑该问题';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\t\tlet param = `?from=update&id=${data.question.id}`;\r\n\t\t\t\t\t\t\thref = `knowledge/review/index${param}`;\r\n\t\t\t\t\t\t\ttext = '该问题已经存在,点击前往审核该问题';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$('#exist-link').prop('href', href);\r\n\t\t\t\t\t$('#exist-text').text(text);\r\n\t\t\t\t\tif (isClick && islast) {\r\n\t\t\t\t\t\talertMessage('问题已经存在');\r\n\t\t\t\t\t\tclearLoading();\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (isClick && islast) {\r\n\t\t\t\t\t\taction.saveByLastData();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tparent.removeClass('has-error');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcomplete: () => {\r\n\t\t\t\td.loading = false;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction saveIntent() {\r\n\t\tconst data = $('#a-table').DataTable().data().toArray();\r\n\t\tdata.forEach(v => {\r\n\t\t\tif (v.intentId) {\r\n\t\t\t\t$.ajax('knowledge/intent/add/answerContent', {\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tplainText: v.answer.plainText,\r\n\t\t\t\t\t\tintentId: v.intentId\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: null\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n    /**\r\n     *\r\n     * 获取standards\r\n     * @param {any} aId\r\n     * @returns\r\n     */\r\n\tfunction getStandards(aId): any {\r\n\t\t// let error = false;\r\n\t\tconst aData = $('#a-table').DataTable().data().toArray();\r\n\t\tconst standards = [];\r\n\t\tconst propList = [\r\n\t\t\t'htmlContent',\r\n\t\t\t'pushway',\r\n\t\t\t'characterId'\r\n\t\t];\r\n\r\n\t\tfor (let v of aData) {\r\n\t\t\tconst text = v.answer.plainText;\r\n\t\t\tif (text === '' || text === newAText) {\r\n\t\t\t\talertMessage(`请不要提交空回复或${newAText}`);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tconst d = {\r\n\t\t\t\tanswerId: v.answer.id,\r\n\t\t\t\tbeginTime: v.beginTime,\r\n\t\t\t\tcharacterId: v.character.id,\r\n\t\t\t\tclassifyId: tree.selected[0],\r\n\t\t\t\tendTime: v.endTime,\r\n\t\t\t\thtmlContent: v.answer.contentHtml,\r\n\t\t\t\tid: v.id ? v.id : null,\r\n\t\t\t\tplainText: text,\r\n\t\t\t\tquestion: $.trim($('#question').val()),\r\n\t\t\t\tquestionId: aId,\r\n\t\t\t\t// status: v.status,\r\n\t\t\t\tpushway: v.pushway\r\n\t\t\t};\r\n\t\t\tif (standards.length > 0) {\r\n\t\t\t\tfor (let j of standards) {\r\n\t\t\t\t\tlet same = true;\r\n\t\t\t\t\tfor (let k of propList) {\r\n\t\t\t\t\t\tif (j[k] !== d[k]) {\r\n\t\t\t\t\t\t\tsame = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (same) {\r\n\t\t\t\t\t\talertMessage('存在内容完全一致的回复');\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tstandards.push(cleanObject(d));\r\n\t\t}\r\n\r\n\t\tif (aData.length < 1) {\r\n\t\t\talertMessage('必须创建一条回复');\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn JSON.stringify(standards);\r\n\t}\r\n\tfunction getAutoRepeat() {\r\n\t\tconst qData = $('#q-table').DataTable().data().toArray() as any;\r\n\t\tconst arr = [];\r\n\t\tfor (let v of qData) {\r\n\t\t\tif (v.ifauto) {\r\n\t\t\t\tarr.push({\r\n\t\t\t\t\tgroupId: v.question.group,\r\n\t\t\t\t\tcontent: v.question.literal\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\t// return JSON.stringify(arr);\r\n\t\treturn arr;\r\n\t}\r\n    /**\r\n     *\r\n     * 获取pms\r\n     * @returns\r\n     */\r\n\tfunction getPms(): any {\r\n\t\tconst qData = $('#q-table').DataTable().data().toArray();\r\n\t\tconst pms = [];\r\n\t\tconst val = $.trim($('#question').val());\r\n\t\tfor (let v of qData) {\r\n\t\t\tconst text = v.question.literal;\r\n\t\t\tif (text === '') {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (text === val) {\r\n\t\t\t\talertMessage('存在与标准问法一致的问题');\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tconst d = {\r\n\t\t\t\tclassifyId: tree.selected[0],\r\n\t\t\t\tquestion: text,\r\n\t\t\t\tquestionId: v.question.id,\r\n\t\t\t\tid: v.id ? v.id : null\r\n\t\t\t};\r\n\r\n\t\t\tif (pms.length > 0) {\r\n\t\t\t\tfor (let j of pms) {\r\n\t\t\t\t\tif (j.question === d.question) {\r\n\t\t\t\t\t\talertMessage('存在内容完全一致的问题');\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tpms.push(cleanObject(d));\r\n\t\t}\r\n\t\treturn JSON.stringify(pms);\r\n\t}\r\n\r\n    /**\r\n     * 通用全局检查\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n\tfunction checkGlobal(): boolean {\r\n\t\tconst val = $.trim($('#question').val());\r\n\t\tif (val === '' || val === undefined) {\r\n\t\t\talertMessage('问题不能为空');\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\telse if (checkQList.length > 0) {\r\n\t\t\tif (checkQList[checkQList.length - 1].exist === true) {\r\n\t\t\t\talertMessage('问题已经存在');\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction showRepeat() {\r\n\t\t$('#repeat-wrap .hidden').removeClass('hidden');\r\n\t\tclearLoading();\r\n\t}\r\n\r\n\tfunction renderPushway(id) {\r\n\t\tlet str = `<div class=\"cloud-input-content cloud-sm\"><select class=\"form-control input-sm pushway\">`;\r\n\t\tselectData.pushway.forEach(v => {\r\n\t\t\tstr += `<option value=\"${v.id}\" ${v.id === id ? 'selected' : ''}>${v.name}</option>`;\r\n\t\t});\r\n\t\treturn str + '</select></div>';\r\n\t}\r\n\r\n\tfunction showLoading() {\r\n\t\tclearLoading();\r\n\t\tloadingEl = addLoadingBg($('.x_panel'), $('.x_content'));\r\n\t}\r\n\r\n\tfunction clearLoading() {\r\n\t\tif (loadingEl) {\r\n\t\t\tloadingEl();\r\n\t\t\tloadingEl = null;\r\n\t\t}\r\n\t}\r\n\tfunction renderTitle(title) {\r\n\t\treturn `\r\n\t\t<span class=\"q-title\">${title}</span>\r\n\t\t<input class=\"input-sm form-control q-input\"/>\r\n\t`;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./pages/knowledge/editByA/update/index.ts","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./pages/knowledge/editByA/update/index.less\n// module id = 923\n// module chunks = 54"],"sourceRoot":""}