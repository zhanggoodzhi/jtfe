{"version":3,"sources":["webpack:///./pages/superadmin/app/index/index.ts","webpack:///./pages/superadmin/app/index/index.less"],"names":[],"mappings":"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","file":"42.js","sourcesContent":["import * as utils from 'utils';\r\nimport 'new-table';\r\nimport 'time';\r\nimport * as tables from 'tables';\r\nimport 'select';\r\n// import 'select2/dist/css/select2.css';\r\n// import 'script-loader!select2/dist/js/select2.full.min.js';\r\nimport './index.less';\r\nnamespace SuperadminAppIndex {\r\n\tlet state: string;\r\n\tlet allAccount: any;\r\n\t$(initTable);\r\n\tfunction initTable() {\r\n\t\tconst width = tables.VARIABLES.width;\r\n\t\t$('#table').DataTable(Object.assign(tables.commonConfig(),\r\n\t\t\t{\r\n\t\t\t\tajax: {\r\n\t\t\t\t\turl: 'superadmin/app/list',\r\n\t\t\t\t\ttype: 'POST',\r\n\t\t\t\t\tdataSrc: data => data.rows,\r\n\t\t\t\t\tdata: data => {\r\n\t\t\t\t\t\treturn utils.cleanObject({\r\n\t\t\t\t\t\t\tpage: tables.getPage(data),\r\n\t\t\t\t\t\t\trows: data.length,\r\n\t\t\t\t\t\t\tappName: $('#search-appName').val()\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tcolumns: [\r\n\t\t\t\t\t{ data: 'appName', title: '应用名称', createdCell: tables.createAddTitle },\r\n\t\t\t\t\t{ data: 'appReadme', title: '应用简介', createdCell: tables.createAddTitle },\r\n\t\t\t\t\t{ data: 'userName', title: '创建人' },\r\n\t\t\t\t\t{ data: 'appUpdateTime', width: width.commonTime, title: '编辑时间', render: utils.renderCommonTime },\r\n\t\t\t\t\t{ data: 'appAddTime', width: width.commonTime, title: '创建时间', render: utils.renderCommonTime },\r\n\t\t\t\t\t{ data: 'id', title: '操作', render: renderAction }\r\n\r\n\t\t\t\t],\r\n\t\t\t\tinitComplete: initComplete\r\n\t\t\t}\r\n\t\t));\r\n\t}\r\n\tfunction renderAction(id, type, row) {\r\n\t\treturn `<div data-id='${id}' data-appname='${row.appName}' data-appreadme='${row.appReadme}' data-power='${row.addWechatFotomore}'>\r\n\t\t\t<a href='javascript:;' class='tr-edit-btn'>编辑   </a>\r\n\t\t\t<a href='javascript:;' class='tr-train-btn'>全量训练</a>\r\n\t\t</div>`;\r\n\t}\r\n\t// 编辑\r\n\tfunction bindEditEvent() {\r\n\t\t$('#table').on('click', '.tr-edit-btn', function () {\r\n\t\t\tconst endLoading = utils.loadingBtn($(this));\r\n\t\t\tconst ndata = $(this).closest('div').data();\r\n\t\t\tconst id = ndata.id;\r\n\t\t\tconst appname = ndata.appname;\r\n\t\t\tconst appreadme = ndata.appreadme;\r\n\t\t\tconst power = ndata.power;\r\n\t\t\t$.ajax({\r\n\t\t\t\turl: 'superadmin/user/listByApp',\r\n\t\t\t\ttype: 'POST',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: id\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: function (msg) {\r\n\t\t\t\t\tif (msg.status === 'success') {\r\n\t\t\t\t\t\t$('#users').val(getArr(msg.rows)).trigger('change');\r\n\t\t\t\t\t\t$('#appName').val(appname);\r\n\t\t\t\t\t\t$('#appReadme').val(appreadme);\r\n\t\t\t\t\t\t$('#create-modal').modal('show').find('.modal-title').text('编辑应用');\r\n\t\t\t\t\t\tif (power) {\r\n\t\t\t\t\t\t\t$('.power-choose input#withPower').prop('checked', true);\r\n\t\t\t\t\t\t\t$('.power-choose input#noPower').prop('checked', false);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$('.power-choose input#noPower').prop('checked', true);\r\n\t\t\t\t\t\t\t$('.power-choose input#withPower').prop('checked', false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tstate = 'update';\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tcomplete: () => {\r\n\t\t\t\t\tendLoading();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\t// 全量训练\r\n\tfunction bindTrainEvent() {\r\n\t\t$('#table').on('click', '.tr-train-btn', function () {\r\n\t\t\tconst endLoading = utils.loadingBtn($(this));\r\n\t\t\tconst appid = $(this).closest('div').data('id');\r\n\t\t\t$.ajax({\r\n\t\t\t\turl: 'train/trainReset ',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tappid: appid\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: function (msg) {\r\n\t\t\t\t\tutils.alertMessage(msg.msg, !msg.error);\r\n\t\t\t\t},\r\n\t\t\t\tcomplete: () => {\r\n\t\t\t\t\tendLoading();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\tfunction formatData(data) {\r\n\t\treturn data.map((v) => {\r\n\t\t\treturn {\r\n\t\t\t\tid: v.id,\r\n\t\t\t\ttext: v.adminName\r\n\t\t\t};\r\n\t\t});\r\n\t}\r\n\tfunction getArr(data) {\r\n\t\tconst arr = data.map((v) => {\r\n\t\t\treturn v.id;\r\n\t\t});\r\n\t\treturn arr;\r\n\t}\r\n\tfunction initSelect2() {\r\n\t\t$.ajax({\r\n\t\t\turl: 'superadmin/user/listAll',\r\n\t\t\ttype: 'POST',\r\n\t\t\tsuccess: function (data) {\r\n\t\t\t\tif (data.status === 'success') {\r\n\t\t\t\t\t$('#users').select2({\r\n\t\t\t\t\t\tplaceholder: '请选择用户',\r\n\t\t\t\t\t\tdata: formatData(data.rows),\r\n\t\t\t\t\t\tallowClear: true\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\tfunction initComplete() {\r\n\t\tconst table = $('#table').DataTable();\r\n\t\t// 查询功能\r\n\t\tinitSelect2();\r\n\t\t$('#search-btn').on('click', () => {\r\n\t\t\ttable.draw();\r\n\t\t});\r\n\r\n\t\ttables.bindPageChange(table); // 绑定修改分页\r\n\r\n\t\tbindEditEvent();\r\n\t\tbindTrainEvent();\r\n\r\n\t\t// 删除功能\r\n\t\ttables.delBtnClick({\r\n\t\t\tel: $('#delete-btn'),\r\n\t\t\ttable: table,\r\n\t\t\tname: '应用',\r\n\t\t\turl: 'superadmin/app/delete'\r\n\t\t});\r\n\r\n\t\t// 添加功能\r\n\t\t$('#add-btn').on('click', () => {\r\n\t\t\t$('#create-modal').modal('show').find('.modal-title').text('添加应用');\r\n\t\t\tstate = 'add';\r\n\t\t});\r\n\r\n\t\t// 确定编辑\r\n\t\t$('#create-submit-btn').on('click', function () {\r\n\t\t\tlet id: any;\r\n\t\t\tconst appName = $('#appName').val();\r\n\t\t\tconst appReadme = $('#appReadme').val();\r\n\t\t\tconst isAddWechatFotomore = $('.power-choose input:checked').val();\r\n\t\t\tconst userIds = $('#users').val().join(',');\r\n\t\t\tconst el = $(this);\r\n\t\t\tif (state === 'add') {\r\n\t\t\t\tid = undefined;\r\n\t\t\t} else {\r\n\t\t\t\tconst tableData: any = tables.getSelected(table)[0];\r\n\t\t\t\tid = tableData.id;\r\n\t\t\t}\r\n\t\t\tconst data: any = {\r\n\t\t\t\tid,\r\n\t\t\t\tuserIds,\r\n\t\t\t\tappName,\r\n\t\t\t\tappReadme,\r\n\t\t\t\tisAddWechatFotomore\r\n\t\t\t};\r\n\t\t\tif (!appName) {\r\n\t\t\t\tutils.alertMessage('请填写应用名!');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\telse if (!appReadme) {\r\n\t\t\t\tutils.alertMessage('请填写应用简介!');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tutils.loadingBtn(el);\r\n\r\n\t\t\t$.ajax({\r\n\t\t\t\turl: 'superadmin/app/' + state,\r\n\t\t\t\ttype: 'POST',\r\n\t\t\t\tdata: utils.cleanObject(data),\r\n\t\t\t\tsuccess: function (msg) {\r\n\t\t\t\t\tif (!msg.error) {\r\n\t\t\t\t\t\t$('#create-modal').modal('hide');\r\n\t\t\t\t\t\ttable.draw();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tutils.alertMessage(msg.msg, !msg.error);\r\n\r\n\t\t\t\t},\r\n\t\t\t\tcomplete: function () {\r\n\t\t\t\t\tutils.endLoadingBtn(el);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t// 清空模态框\r\n\t\t$('#create-modal').on('hidden.bs.modal', function () {\r\n\t\t\t$('#users').val(null);\r\n\t\t\t$('#appName').val(null);\r\n\t\t\t$('#appReadme').val(null);\r\n\t\t\t$('#noPower').prop('checked', false);\r\n\t\t\t$('#withPower').prop('checked', false);\r\n\t\t\t$('#users').val(null).trigger('change');\r\n\t\t});\r\n\r\n\t}\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./pages/superadmin/app/index/index.ts","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./pages/superadmin/app/index/index.less\n// module id = 953\n// module chunks = 42"],"sourceRoot":""}