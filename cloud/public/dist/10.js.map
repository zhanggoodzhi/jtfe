{"version":3,"sources":["webpack:///./components/corpusUpdateSideBar/index.ts","webpack:///./components/corpus-relate/index.less","webpack:///./components/corpus-relate/index.pug","webpack:///./components/corpus-relate/index.ts","webpack:///./pages/knowledge/corpus/review/index/index.ts","webpack:///./pages/knowledge/corpus/review/index/index.less"],"names":[],"mappings":"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","file":"10.js","sourcesContent":["import { addLoadingBg, SideBar, cleanObject, alertMessage } from 'utils';\r\ninterface ICorpusUpdateSideBar {\r\n\t/**\r\n\t * 侧栏标题\r\n\t *\r\n\t * @type {string}\r\n\t * @memberof ICorpusUpdateSideBar\r\n\t */\r\n\ttitle: string;\r\n\t/**\r\n\t * 是否是复述添加那边的\r\n\t *\r\n\t * @type {boolean}\r\n\t * @memberof ICorpusUpdateSideBar\r\n\t */\r\n\tifReview?: boolean;\r\n\thideFn?: Function;\r\n}\r\n\r\nexport default class CorpusUpdateSideBar {\r\n\tprivate op;\r\n\tprivate sideBar;\r\n\tconstructor(o) {\r\n\t\tconst _default = {\r\n\t\t\tifReview: false,\r\n\t\t\ttitle: '添加语料'\r\n\t\t};\r\n\t\tthis.op = { ..._default, ...o };\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.initSideBar();\r\n\t}\r\n\r\n\tprivate initSideBar() {\r\n\t\tthis.sideBar = new SideBar({\r\n\t\t\ttitle: 'xxx',\r\n\t\t\tcontent: '',\r\n\t\t\tonHide: () => {\r\n\t\t\t\tthis.sideBar.elements.wrap.find('iframe').remove();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tpublic open(id, title, src?) {\r\n\t\tconst sideBarEl = this.sideBar.elements.wrap;\r\n\t\tsideBarEl.find('.sidebar-title').text(title);\r\n\t\tconst iframeEl = document.createElement('iframe');\r\n\t\tif (src) {\r\n\t\t\tiframeEl.src = src;\r\n\t\t} else {\r\n\t\t\tconst str = $.param(cleanObject({\r\n\t\t\t\ttype: this.op.ifReview ? 'review' : '',\r\n\t\t\t\tpairId: id ? id : ''\r\n\t\t\t}));\r\n\t\t\tiframeEl.src = `knowledge/corpusManage/update?${str}`;\r\n\t\t}\r\n\t\tsideBarEl.find('.sidebar-content').append($(iframeEl));\r\n\t\tconst endLoading = addLoadingBg(sideBarEl.find('.sidebar-content'));\r\n\t\tiframeEl.onload = () => {\r\n\t\t\tif (endLoading) {\r\n\t\t\t\tendLoading();\r\n\t\t\t}\r\n\t\t\tiframeEl.contentWindow.jump = s => {\r\n\t\t\t\twindow.open(s);\r\n\t\t\t};\r\n\t\t\tiframeEl.contentWindow.hideFn = (res) => {\r\n\t\t\t\talertMessage(res.msg, !res.error);\r\n\t\t\t\tif (!res.error) {\r\n\t\t\t\t\tthis.sideBar.hide();\r\n\t\t\t\t\tthis.op.hideFn();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t};\r\n\t\tthis.sideBar.show();\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/corpusUpdateSideBar/index.ts","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/corpus-relate/index.less\n// module id = 288\n// module chunks = 10 11","var pug = require(\"!../../node_modules/pug-runtime/index.js\");\n\nfunction template(locals) {var pug_html = \"\", pug_mixins = {}, pug_interp;;var locals_for_with = (locals || {});(function (character, pushway) {pug_html = pug_html + \"\\u003Cdiv class=\\\"modal fade\\\" id=\\\"edit-modal\\\" data-backdrop=\\\"false\\\"\\u003E\\u003Cdiv class=\\\"modal-dialog modal-lg\\\"\\u003E\\u003Cdiv class=\\\"modal-content\\\"\\u003E\\u003Cdiv class=\\\"modal-header\\\"\\u003E\\u003Cbutton class=\\\"close\\\" type=\\\"button\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"\\u003E\\u003Cspan aria-hidden=\\\"true\\\"\\u003E&times;\\u003C\\u002Fspan\\u003E\\u003C\\u002Fbutton\\u003E\\u003Ch4 class=\\\"modal-title\\\"\\u003E关联到已有语料\\u003C\\u002Fh4\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"modal-body clearfix\\\"\\u003E\\u003Cform class=\\\"form-horizontal cloud-form\\\"\\u003E\\u003Cdiv class=\\\"form-group\\\"\\u003E\\u003Clabel class=\\\"cloud-input-title\\\"\\u003E类型\\u003C\\u002Flabel\\u003E\\u003Cdiv class=\\\"cloud-input-content cloud-lg\\\"\\u003E\\u003Cdiv class=\\\"form-control input-sm\\\" id=\\\"classify\\\"\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"form-group\\\"\\u003E\\u003Clabel class=\\\"cloud-input-title\\\"\\u003E问题\\u003C\\u002Flabel\\u003E\\u003Cdiv class=\\\"cloud-input-content\\\"\\u003E\\u003Cinput class=\\\"form-control input-sm\\\" id=\\\"form-question\\\" type=\\\"text\\\" placeholder=\\\"关键词\\\" maxlength=\\\"30\\\"\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"form-group\\\"\\u003E\\u003Clabel class=\\\"cloud-input-title\\\"\\u003E回复\\u003C\\u002Flabel\\u003E\\u003Cdiv class=\\\"cloud-input-content\\\"\\u003E\\u003Cinput class=\\\"form-control input-sm\\\" id=\\\"form-answer\\\" type=\\\"text\\\" placeholder=\\\"关键词\\\" maxlength=\\\"30\\\"\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"form-group\\\"\\u003E\\u003Clabel class=\\\"cloud-input-title\\\"\\u003E渠道\\u003C\\u002Flabel\\u003E\\u003Cdiv class=\\\"cloud-input-content\\\"\\u003E\\u003Cselect class=\\\"form-control input-sm\\\" id=\\\"select-pushway\\\" name=\\\"pushway\\\"\\u003E\\u003Coption value=\\\"\\\"\\u003E全部\\u003C\\u002Foption\\u003E\";\nvar items=pushway\n// iterate items\n;(function(){\n  var $$obj = items;\n  if ('number' == typeof $$obj.length) {\n      for (var pug_index0 = 0, $$l = $$obj.length; pug_index0 < $$l; pug_index0++) {\n        var item = $$obj[pug_index0];\npug_html = pug_html + \"\\u003Coption\" + (pug.attr(\"value\", item.id, true, true)) + \"\\u003E\" + (pug.escape(null == (pug_interp = item.name) ? \"\" : pug_interp)) + \"\\u003C\\u002Foption\\u003E\";\n      }\n  } else {\n    var $$l = 0;\n    for (var pug_index0 in $$obj) {\n      $$l++;\n      var item = $$obj[pug_index0];\npug_html = pug_html + \"\\u003Coption\" + (pug.attr(\"value\", item.id, true, true)) + \"\\u003E\" + (pug.escape(null == (pug_interp = item.name) ? \"\" : pug_interp)) + \"\\u003C\\u002Foption\\u003E\";\n    }\n  }\n}).call(this);\n\npug_html = pug_html + \"\\u003C\\u002Fselect\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"form-group\\\"\\u003E\\u003Clabel class=\\\"cloud-input-title\\\"\\u003E角色\\u003C\\u002Flabel\\u003E\\u003Cdiv class=\\\"cloud-input-content\\\"\\u003E\\u003Cselect class=\\\"form-control input-sm\\\" id=\\\"select-character\\\" name=\\\"character\\\"\\u003E\\u003Coption value=\\\"\\\"\\u003E全部\\u003C\\u002Foption\\u003E\";\nvar items=character\n// iterate items\n;(function(){\n  var $$obj = items;\n  if ('number' == typeof $$obj.length) {\n      for (var pug_index1 = 0, $$l = $$obj.length; pug_index1 < $$l; pug_index1++) {\n        var item = $$obj[pug_index1];\npug_html = pug_html + \"\\u003Coption\" + (pug.attr(\"value\", item.id, true, true)) + \"\\u003E\" + (pug.escape(null == (pug_interp = item.name) ? \"\" : pug_interp)) + \"\\u003C\\u002Foption\\u003E\";\n      }\n  } else {\n    var $$l = 0;\n    for (var pug_index1 in $$obj) {\n      $$l++;\n      var item = $$obj[pug_index1];\npug_html = pug_html + \"\\u003Coption\" + (pug.attr(\"value\", item.id, true, true)) + \"\\u003E\" + (pug.escape(null == (pug_interp = item.name) ? \"\" : pug_interp)) + \"\\u003C\\u002Foption\\u003E\";\n    }\n  }\n}).call(this);\n\npug_html = pug_html + \"\\u003C\\u002Fselect\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"form-group\\\"\\u003E\\u003Clabel class=\\\"cloud-input-title\\\"\\u003E更新时间\\u003C\\u002Flabel\\u003E\\u003Cdiv class=\\\"cloud-input-content cloud-md\\\"\\u003E\\u003Cinput class=\\\"form-control input-sm\\\" id=\\\"form-date\\\" type=\\\"text\\\" readonly\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"form-group\\\"\\u003E\\u003Cbutton class=\\\"btn btn-primary btn-sm\\\" id=\\\"form-search-btn\\\" type=\\\"button\\\"\\u003E查询\\u003C\\u002Fbutton\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fform\\u003E\\u003Ctable class=\\\"table fixed-table\\\" id=\\\"edit-table\\\"\\u003E\\u003C\\u002Ftable\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"modal-footer\\\"\\u003E\\u003Cbutton class=\\\"btn btn-success\\\" id=\\\"edit-submit-btn\\\" type=\\\"button\\\"\\u003E保存\\u003C\\u002Fbutton\\u003E\\u003Cbutton class=\\\"btn btn-default\\\" type=\\\"button\\\" data-dismiss=\\\"modal\\\"\\u003E取消\\u003C\\u002Fbutton\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\";}.call(this,\"character\" in locals_for_with?locals_for_with.character:typeof character!==\"undefined\"?character:undefined,\"pushway\" in locals_for_with?locals_for_with.pushway:typeof pushway!==\"undefined\"?pushway:undefined));;return pug_html;};\nmodule.exports = template;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/corpus-relate/index.pug\n// module id = 293\n// module chunks = 10 11","import * as item from './index.pug';\r\nimport { Table, extendsData } from 'new-table';\r\nimport * as tables from 'tables';\r\nimport * as utils from 'utils';\r\nimport 'tree';\r\nimport 'daterangepicker';\r\nimport './index.less';\r\nexport class CorpusRelate {\r\n\tprivate select;\r\n\tprivate selectData;\r\n\tprivate eTable;\r\n\tconstructor(selectData) {\r\n\t\tthis.selectData = selectData;\r\n\t\t// 组件内部方法：模态框显示的时候，初始化表格\r\n\t\t$('body').append($(item({\r\n\t\t\tpushway: selectData.pushway,\r\n\t\t\tcharacter: selectData.character\r\n\t\t})));\r\n\t\tthis.initEditTable();\r\n\t}\r\n\t/**\r\n\t * 初始化语料编辑时选择知识点的表格\r\n\t */\r\n\tprivate initEditTable = () => {\r\n\t\tconst classify = new utils.ClassifyTree({\r\n\t\t\tel: $('#classify'),\r\n\t\t\tdata: utils.formatClassify(this.selectData.classify, true),\r\n\t\t\tmultiple: true,\r\n\t\t\tselected: true\r\n\t\t});\r\n\r\n\t\tconst eDate = new utils.CommonDate({\r\n\t\t\tel: $('#form-date')\r\n\t\t});\r\n\r\n\t\tthis.eTable = new Table({\r\n\t\t\tel: $('#edit-table'),\r\n\t\t\tcheckbox: {\r\n\t\t\t\tdata: 'pairId'\r\n\t\t\t},\r\n\t\t\toptions: {\r\n\t\t\t\tselect: {\r\n\t\t\t\t\tstyle: 'single'\r\n\t\t\t\t},\r\n\t\t\t\tpaging: true,\r\n\t\t\t\tserverSide: true,\r\n\t\t\t\tajax: {\r\n\t\t\t\t\turl: 'knowledge/corpusManage/corpus/list',\r\n\t\t\t\t\tdataSrc: data => data.rows,\r\n\t\t\t\t\tdata: (data: any) => {\r\n\t\t\t\t\t\treturn utils.cleanObject({\r\n\t\t\t\t\t\t\tquestionkeyword: $.trim($('#form-question').val()),\r\n\t\t\t\t\t\t\tanswerkeword: $.trim($('#form-answer').val()),\r\n\t\t\t\t\t\t\tclassifys: classify.selected.join(','),\r\n\t\t\t\t\t\t\tcharacter: $('#select-character').val(),\r\n\t\t\t\t\t\t\tpushway: $('#select-pushway').val(),\r\n\t\t\t\t\t\t\tbeginTime: eDate.getDate('start'),\r\n\t\t\t\t\t\t\tendTime: eDate.getDate('end'),\r\n\t\t\t\t\t\t\tcorpusStatus: 8,\r\n\t\t\t\t\t\t\tpage: Math.floor(data.start / data.length) + 1,\r\n\t\t\t\t\t\t\trows: 20\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tcolumns: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: 'question',\r\n\t\t\t\t\t\tdata: 'literal',\r\n\t\t\t\t\t\ttitle: '问题',\r\n\t\t\t\t\t\twidth: '50%',\r\n\t\t\t\t\t\tcreatedCell: tables.createAddTitle,\r\n\t\t\t\t\t\trender: this.renderQuestion\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: 'plainText',\r\n\t\t\t\t\t\tdata: 'digest',\r\n\t\t\t\t\t\ttitle: '回复',\r\n\t\t\t\t\t\twidth: '50%',\r\n\t\t\t\t\t\tcreatedCell: tables.createAddTitle\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tinitComplete: () => {\r\n\t\t\t\t\tthis.editInitComplete(this.eTable);\r\n\t\t\t\t},\r\n\t\t\t\tscrollY: '300px',\r\n\t\t\t\tscrollCollapse: true\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t}\r\n\tprivate editInitComplete(eTable: Table) {\r\n\t\tconst dt = eTable.dt;\r\n\t\t// 保存功能\r\n\t\t$('#edit-submit-btn').on('click', () => {\r\n\t\t\teTable.checkLength({\r\n\t\t\t\tname: '知识点',\r\n\t\t\t\taction: '添加到',\r\n\t\t\t\tcb: (data) => {\r\n\t\t\t\t\tconst select = this.select;\r\n\t\t\t\t\tif (!select || select.length < 1) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tfor (let v of select) {\r\n\t\t\t\t\t\t\tif (v.pairId === data.pairId) {\r\n\t\t\t\t\t\t\t\tutils.alertMessage('不能保存为相同语料');\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconst endLoading = utils.loadingBtn($('#edit-submit-btn'));\r\n\t\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\t\turl: 'knowledge/corpus/review/update',\r\n\t\t\t\t\t\t\ttype: 'POST',\r\n\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\tpairIds: select.map(v => v.pairId).join(','),\r\n\t\t\t\t\t\t\t\tpairId: data.pairId\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsuccess: (msg) => {\r\n\t\t\t\t\t\t\t\tutils.alertMessage(msg.msg, !msg.error);\r\n\t\t\t\t\t\t\t\tif (!msg.error) {\r\n\t\t\t\t\t\t\t\t\t$('#edit-modal').modal('hide');\r\n\t\t\t\t\t\t\t\t\t$('#table').DataTable().draw(false);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\t\t\tendLoading();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t$('#form-search-btn').on('click', () => {\r\n\t\t\teTable.reload(true);\r\n\t\t});\r\n\r\n\t\tutils.bindEnter($('#form-answer,#form-question'), () => eTable.reload(true));\r\n\t\t// 展开复述问法\r\n\t\t$('#edit-table').on('click', '.qmore', e => {\r\n\t\t\tconst el = $(e.target);\r\n\t\t\tconst tr = el.closest('tr');\r\n\t\t\tif (el.hasClass('open')) {\r\n\t\t\t\tthis.eTable.hideChildRows(tr, 'question');\r\n\t\t\t\tel.removeClass('open');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.hideAllChildRows();\r\n\t\t\tif (this.eTable.hasChild(tr, 'question')) {\r\n\t\t\t\tel.addClass('open');\r\n\t\t\t\tthis.eTable.showChildRows(tr, 'question');\r\n\t\t\t} else {\r\n\t\t\t\t$.ajax({\r\n\t\t\t\t\turl: 'knowledge/corpusManage/listSunQuestion',\r\n\t\t\t\t\ttype: 'GET',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tpairId: el.data('id')\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (!res.error) {\r\n\t\t\t\t\t\t\tlet data;\r\n\t\t\t\t\t\t\tif (res.data && res.data.length > 0) {\r\n\t\t\t\t\t\t\t\tdata = res.data.map(v => {\r\n\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\tquestion: v.literal,\r\n\t\t\t\t\t\t\t\t\t\tupdateTime: utils.renderSimpleTime(v.updateTime)\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tdata = [{ _all: '无数据' }];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.eTable.addChildRows(tr, data, 'question');\r\n\t\t\t\t\t\t\tel.addClass('open');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\tprivate renderQuestion = (text, status, rowData) => {\r\n\t\tconst classifyName = this.renderClassify(rowData.classifyId);\r\n\t\tlet numberEl = `<a class=\"qmore\" data-id=\"${rowData.pairId}\">${rowData.countSubQ}</a>`;\r\n\t\tif (rowData.countSubQ <= 0) {\r\n\t\t\tnumberEl = `<a class=\"zero\" data-id=\"${rowData.pairId}\">${rowData.countSubQ}</a>`;\r\n\t\t}\r\n\t\treturn `\r\n\t\t<p class=\"info ellipsis\" title=\"${text}\"><span>${text}<span></p>\r\n\t\t<p class=\"small info\"><span class=\"small-item big\">类型:${classifyName}</span><span class=\"small-item small repeat\">复述问法:${numberEl}</span></p>\r\n\t\t`;\r\n\t}\r\n\tprivate renderClassify = (id) => {\r\n\t\tfor (let i of this.selectData.classify) {\r\n\t\t\tif (i.id === id) {\r\n\t\t\t\treturn i.name;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn '';\r\n\t}\r\n\tprivate hideAllChildRows = () => {\r\n\t\tconst trs = this.eTable.table.find('.open').removeClass('open').closest('tr').toArray();\r\n\t\ttrs.forEach(v => {\r\n\t\t\tconst tr = $(v);\r\n\t\t\tif (this.eTable.isShownChild(tr, 'question')) {\r\n\t\t\t\tthis.eTable.hideChildRows(tr, 'question');\r\n\t\t\t} else if (this.eTable.isShownChild(tr, 'plainText')) {\r\n\t\t\t\tthis.eTable.hideChildRows(tr, 'plainText');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/* 对外提供一个显示模态框的方法 */\r\n\tpublic showModal = (data) => {\r\n\t\tthis.select = data;\r\n\t\tthis.eTable.reload({ start: 0 });\r\n\t\t$('#edit-modal').modal('show');\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/corpus-relate/index.ts","import { Table, extendsData } from 'new-table';\r\nimport * as tables from 'tables';\r\nimport * as utils from 'utils';\r\nimport 'tree';\r\nimport CorpusUpdateSideBar from 'corpusUpdateSideBar';\r\nimport 'daterangepicker';\r\nimport './index.less';\r\nimport { CorpusRelate } from 'corpus-relate';\r\nlet auditTable;\r\nlet request;\r\ndeclare const kbRestUrl;\r\ndeclare const appid;\r\nlet currentResourceData;\r\nnamespace KnowledgeReviewIndex {\r\n\tdeclare const fromData: {\r\n\t\tid: string;\r\n\t};\r\n\tdeclare const selectData;\r\n\tlet select;\r\n\tconst date = new utils.CommonDate({\r\n\t\tel: $('#date')\r\n\t});\r\n\r\n\tconst tree = new utils.Tree({\r\n\t\tel: $('#main-classify'),\r\n\t\tdata: utils.formatClassify(selectData.classify, true),\r\n\t\tmultiple: true,\r\n\t\tselected: true,\r\n\t\tinitComplete: initTable\r\n\t});\r\n\r\n\tconst sideBar = new CorpusUpdateSideBar({\r\n\t\thideFn: () => {\r\n\t\t\tauditTable.reload();\r\n\t\t}\r\n\t});\r\n\r\n\t// const sideBar = new utils.SideBar({\r\n\t// \tid: 'editasnew',\r\n\t// \ttitle: '编辑为新语料',\r\n\t// \tcontent: ''\r\n\t// });\r\n\r\n\tconst corpusRelate = new CorpusRelate(selectData);\r\n    /**\r\n     * 初始化表格\r\n     */\r\n\tfunction initTable() {\r\n\t\tlet initFrom = false;\r\n\r\n\t\tauditTable = new Table({\r\n\t\t\tel: $('#table'),\r\n\t\t\tcheckbox: {\r\n\t\t\t\tdata: 'id'\r\n\t\t\t},\r\n\t\t\toptions: {\r\n\t\t\t\tajax: {\r\n\t\t\t\t\turl: 'knowledge/corpus/review/list',\r\n\t\t\t\t\tdataSrc: data => data.rows,\r\n\t\t\t\t\tdata: (data) => {\r\n\t\t\t\t\t\tconst d = extendsData(data);\r\n\r\n\t\t\t\t\t\tif (fromData && !initFrom) {\r\n\t\t\t\t\t\t\tinitFrom = true;\r\n\t\t\t\t\t\t\tObject.assign(d, { questionId: fromData.id });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tObject.assign(d, getSearchData());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn utils.cleanObject(d);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tserverSide: true,\r\n\t\t\t\tpaging: true,\r\n\t\t\t\tinitComplete: () => {\r\n\t\t\t\t\tinitComplete(auditTable);\r\n\t\t\t\t},\r\n\t\t\t\tcolumns: [\r\n\t\t\t\t\t{ data: 'literal', title: '问题', render: renderQuestion },\r\n\t\t\t\t\t{ data: 'similarityLiteral', title: '相似句', createdCell: tables.createAddTitle },\r\n\t\t\t\t\t{ data: 'digest', title: '回复', render: renderAnswer },\r\n\t\t\t\t\t{ data: 'similarityDegree', title: '相似度', width: '60px', render: renderDegree },\r\n\t\t\t\t\t{ data: 'hits', title: '热度', width: '40px' },\r\n\t\t\t\t\t// { data: 'classifyID', title: '分类', width: '60px', render: tables.renderClassify },\r\n\t\t\t\t\t{ data: 'qupdateTime', title: '更新时间', width: '120px', render: utils.renderSimpleTime },\r\n\t\t\t\t\t{ data: 'pairId', title: '操作', width: '90px', render: () => '<button class=\"btn btn-sm btn-link edit-as-new-btn\">编辑为新语料</button>' }\r\n\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\tfunction renderAnswer(text, status, rowData) {\r\n\t\trowData.type = 6;\r\n\t\trowData.resourceId = '6273385313150697472';\r\n\t\tconst type = renderType(rowData.type);\r\n\t\tconst enType = getTypeName(rowData.type);\r\n\t\treturn `\r\n\t\t<p class=\"info\">\r\n\t\t<span class=\"small\">${type}:</span>\r\n\t\t<span class=\"ellipsis a-hover\" data-type=\"${enType}\" data-id=\"${rowData.resourceId}\" data-toggle=\"popover\" data-trigger=\"manual\">${utils.formatText(text)}</span>\r\n\t\t</p>\r\n\t\t`;\r\n\t}\r\n\tfunction getResourceItem(type, data) {\r\n\t\tswitch (type) {\r\n\t\t\tcase 'text':\r\n\t\t\t\treturn data.nonShared.content;\r\n\t\t\tcase 'link':\r\n\t\t\t\treturn `\r\n\t\t\t<a target=\"view_window\" href=\"${data.nonShared.linkUrl}\">${data.title}</a>\r\n\t\t\t<p>${data.desc}<p>\r\n\t\t\t`;\r\n\t\t\tcase 'image': return `\r\n\t\t\t<div class=\"image-wrap\"><img src=\"${data.nonShared.mediaUrl}\"/></div>\r\n\t\t\t<p class=\"tcenter\">${data.title}</p>\r\n\t\t\t`;\r\n\t\t\tcase 'music': return `\r\n\t\t\t<div><audio controls src=\"${data.nonShared.mediaUrl}\"></audio></div>\r\n\t\t\t<p class=\"tcenter\">${data.title}</p>\r\n\t\t\t`;\r\n\t\t\tcase 'voice': return `\r\n\t\t\t<div><audio controls src=\"${data.nonShared.mediaUrl}\"></audio></div>\r\n\t\t\t<p class=\"tcenter\">${data.title}</p>\r\n\t\t\t`;\r\n\t\t\tcase 'video': return `\r\n\t\t\t<p class=\"tcenter\">${data.title}</p>\r\n\t\t\t<div><video controls src=\"${data.nonShared.mediaUrl}\"></video></div>\r\n\t\t\t<p class=\"tcenter\">${data.desc}</p>\r\n\t\t\t`;\r\n\t\t\tcase 'news':\r\n\t\t\t\tconst cover = data.articles[0];\r\n\t\t\t\tlet children = '';\r\n\t\t\t\tdata.articles.forEach((v, i) => {\r\n\t\t\t\t\tif (i === 0) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tchildren += `<div class=\"child clearfix\"><span>${v.title}</span><img src=\"${v.picUrl}\"/></div>`;\r\n\t\t\t\t});\r\n\t\t\t\treturn `\r\n\t\t\t<div class=\"tcenter cover\" style=\"background-image:url(${cover.picUrl})\"><p class=\"big-title\">${cover.title}</p></div>\r\n\t\t\t${children}\r\n\t\t\t`;\r\n\t\t\tcase 'attach':\r\n\t\t\t\tconst src = getSrc(data);\r\n\t\t\t\treturn `\r\n\t\t\t<p class=\"file-wrap\"><img src=\"${src}\"/><a target=\"view_window\" href=\"http://localhost:8080/cloud/knowledge/corpusManage/attach/download?id=${data.id}\">${data.filename}</a></p>\r\n\t\t\t`;\r\n\t\t\tdefault:\r\n\t\t\t\treturn '无此类型';\r\n\t\t}\r\n\t}\r\n\r\n\tfunction getTypeName(id) {\r\n\t\tfor (let v of selectData.type) {\r\n\t\t\tif (id === v.id) {\r\n\t\t\t\treturn v.enname;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction getSrc(msg) {\r\n\t\tlet imgSrc = 'images/types/';\r\n\t\tswitch (msg.type) {\r\n\t\t\tcase 1:\r\n\t\t\t\tlet docImg;\r\n\t\t\t\tconst extension = msg.fileext.substring(1);\r\n\t\t\t\tif (extension === 'doc' || 'docm' || 'dotx' || 'dotm' || 'docx') {\r\n\t\t\t\t\tdocImg = imgSrc + 'doc.png';\r\n\t\t\t\t} else if (extension === 'xls' || 'xlsx' || 'xlsm' || 'xltx' || 'xltm' || 'xlsb' || 'xlam') {\r\n\t\t\t\t\tdocImg = imgSrc + 'xls.png';\r\n\t\t\t\t} else if (extension === 'ppt' || 'pptx' || 'pptm' || 'ppsm' || 'potx' || 'potm') {\r\n\t\t\t\t\tdocImg = imgSrc + 'ppt.png';\r\n\t\t\t\t} else if (extension === 'pdf') {\r\n\t\t\t\t\tdocImg = imgSrc + 'pdf.png';\r\n\t\t\t\t} else if (extension === 'txt') {\r\n\t\t\t\t\tdocImg = imgSrc + 'txt.png';\r\n\t\t\t\t}\r\n\t\t\t\treturn docImg;\r\n\t\t\tcase 2:\r\n\t\t\t\treturn imgSrc + 'audio.png';\r\n\t\t\tcase 3:\r\n\t\t\t\treturn imgSrc + 'video.png';\r\n\t\t\tcase 4:\r\n\t\t\t\treturn imgSrc + 'image.png';\r\n\t\t\tdefault:\r\n\t\t\t\treturn '';\r\n\t\t}\r\n\t}\r\n\r\n\tfunction renderType(type) {\r\n\t\tfor (let v of selectData.type) {\r\n\t\t\tif (v.id === type) {\r\n\t\t\t\treturn v.name;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn '未知';\r\n\t}\r\n\r\n\tfunction initComplete(table: Table) {\r\n\t\tconst dt = table.dt;\r\n\t\tlet lastHtml, targetHtml = '<tr><td>操作</td><td>';\r\n\t\t$('.btn-trigger').toArray().forEach(v => {\r\n\t\t\tconst el = $(v);\r\n\t\t\ttargetHtml += `<button type='button' class='btn btn-sm btn-link' data-target='#${el.prop('id')}'>${el.text()}</button>`;\r\n\t\t});\r\n\t\ttargetHtml += '</td></tr>';\r\n\r\n\t\t$('#table').on('click', '.cover', function () {\r\n\t\t\tconst detail = currentResourceData.articles[0];\r\n\t\t\tconst modalEl = $('#preview-modal');\r\n\t\t\tmodalEl.find('.title').text(detail.title);\r\n\t\t\tmodalEl.find('.image-wrap img').attr('src', detail.picUrl);\r\n\t\t\tmodalEl.find('.content').html(detail.content);\r\n\t\t\tmodalEl.find('.desc').text(detail.desc);\r\n\t\t\tmodalEl.modal('show');\r\n\t\t});\r\n\r\n\t\t$('#table').on('click', '.child', function () {\r\n\t\t\tconst modalEl = $('#preview-modal');\r\n\t\t\tconst index = $('.popover:visible').find('.cover,.child').index($(this));\r\n\t\t\tconst detail = currentResourceData.articles[index];\r\n\t\t\tmodalEl.find('.title').text(detail.title);\r\n\t\t\tmodalEl.find('.image-wrap img').attr('src', detail.picUrl);\r\n\t\t\tmodalEl.find('.content').html(detail.content);\r\n\t\t\tmodalEl.find('.desc').text(detail.desc);\r\n\t\t\tmodalEl.modal('show');\r\n\t\t\t$('#preview-modal').modal('show');\r\n\t\t});\r\n\r\n\t\t$('#table').on('mouseenter', '.a-hover', (e) => {\r\n\t\t\tconst el = $(e.currentTarget);\r\n\t\t\tconst data = el.data();\r\n\t\t\tif (data['bs.popover']) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst type = data.type;\r\n\t\t\tconst id = data.id;\r\n\t\t\tconst config = {\r\n\t\t\t\thtml: true,\r\n\t\t\t\tcontainer: el,\r\n\t\t\t\ttrigger: 'hover',\r\n\t\t\t\tplacement: 'top',\r\n\t\t\t\tdelay: { 'show': 300, 'hide': 300 }\r\n\t\t\t} as any;\r\n\r\n\r\n\t\t\tconst show = () => {\r\n\t\t\t\tif (el.is(':hover')) {\r\n\t\t\t\t\tel.popover('show');\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tif (type === 'html' || type === 'text' || type === 'intent') {\r\n\t\t\t\tconst rowData = (table.dt.row(el.closest('tr')).data() as any);\r\n\t\t\t\tconst text = rowData ? rowData.digest : el.data().digest;\r\n\t\t\t\tel.popover({\r\n\t\t\t\t\t...config,\r\n\t\t\t\t\ttemplate: '<div class=\"popover\" role=\"tooltip\"><div class=\"arrow\"></div><div class=\"popover-content\"></div></div>',\r\n\t\t\t\t\tcontent: `<div class=\"resource-content\">${text}</div>`\r\n\t\t\t\t});\r\n\t\t\t\tshow();\r\n\t\t\t}\r\n\t\t\telse if (type === 'attach') {\r\n\t\t\t\trequest = $.ajax({\r\n\t\t\t\t\turl: `${kbRestUrl}/attachment/detail/${id}`,\r\n\t\t\t\t\tmethod: 'GET'\r\n\t\t\t\t}).done((msg) => {\r\n\t\t\t\t\tconst resourceItem = getResourceItem(el.data().type, msg);\r\n\t\t\t\t\tel.popover({\r\n\t\t\t\t\t\t...config,\r\n\t\t\t\t\t\ttemplate: '<div class=\"popover\" role=\"tooltip\"><div class=\"arrow\"></div><div class=\"popover-content\"></div></div>',\r\n\t\t\t\t\t\tcontent: `<div class=\"resource-content\">${resourceItem}</div>`\r\n\t\t\t\t\t});\r\n\t\t\t\t\tshow();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\trequest = $.ajax({\r\n\t\t\t\t\turl: `${kbRestUrl}/resource/detail`,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tappid: appid,\r\n\t\t\t\t\t\ttype,\r\n\t\t\t\t\t\tmaterialId: id\r\n\t\t\t\t\t}\r\n\t\t\t\t}).done((msg) => {\r\n\t\t\t\t\tcurrentResourceData = msg;\r\n\t\t\t\t\tconst resourceItem = getResourceItem(el.data().type, msg);\r\n\t\t\t\t\tel.popover({\r\n\t\t\t\t\t\t...config,\r\n\t\t\t\t\t\ttemplate: '<div class=\"popover\" role=\"tooltip\"><div class=\"arrow\"></div><div class=\"popover-content\"></div></div>',\r\n\t\t\t\t\t\tcontent: `<div class=\"resource-content\">${resourceItem}</div>`\r\n\t\t\t\t\t});\r\n\t\t\t\t\tshow();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$('#del-btn').on('click', () => {\r\n\t\t\tconst selected = table.selected;\r\n\t\t\tif (selected.length <= 0) {\r\n\t\t\t\tutils.alertMessage('请选择要删除的语料');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tutils.confirmModal({\r\n\t\t\t\tmsg: '确认删除选中的语料吗？',\r\n\t\t\t\tcb: (modal, btn) => {\r\n\t\t\t\t\tconst end = utils.loadingBtn(btn);\r\n\t\t\t\t\t$.ajax(`knowledge/corpus/review/delete?pairIds=${selected.map(v => v.pairId)}`, {\r\n\t\t\t\t\t\tmethod: 'DELETE'\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\t.always(() => { end(); })\r\n\t\t\t\t\t\t.done(res => {\r\n\t\t\t\t\t\t\tif (!res.error) {\r\n\t\t\t\t\t\t\t\tmodal.modal('hide');\r\n\t\t\t\t\t\t\t\ttable.reload();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tutils.alertMessage(res.msg, !res.error);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\t// tables.delBtnClick({\r\n\t\t// \ttype: 'DELETE',\r\n\t\t// \tname: '语料',\r\n\t\t// \turl: 'knowledge/corpus/review/delete',\r\n\t\t// \ttable: dt,\r\n\t\t// \tparam: 'pairIds',\r\n\t\t// \tdataParam: 'pairId',\r\n\t\t// \tel: $('#del-btn')\r\n\t\t// });\r\n\r\n\t\t$('#edit-btn').on('click', () => {\r\n\t\t\ttable.checkLength({\r\n\t\t\t\taction: '编辑',\r\n\t\t\t\tname: '语料',\r\n\t\t\t\tsingle: false,\r\n\t\t\t\tcb: (data) => {\r\n\t\t\t\t\t/* $('#edit-modal').modal('show');\r\n\t\t\t\t\tselect = data; */\r\n\t\t\t\t\tcorpusRelate.showModal(data);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t// $('#save-new-btn').on('click', () => {\r\n\t\t// \ttable.checkLength({\r\n\t\t// \t\tname: '语料',\r\n\t\t// \t\taction: '保存',\r\n\t\t// \t\tcb: (data) => {\r\n\r\n\t\t// location.assign(`${ctx}/knowledge/corpusManage/update?pairId=${data.pairId}`);\r\n\t\t// \t\t}\r\n\t\t// \t});\r\n\t\t// });\r\n\r\n\t\t$('#check-btn').on('click', () => {\r\n\t\t\ttable.checkLength({\r\n\t\t\t\taction: '审核',\r\n\t\t\t\tname: '语料',\r\n\t\t\t\tsingle: false,\r\n\t\t\t\tcb: (data) => {\r\n\t\t\t\t\tconst ids: number[] = [];\r\n\t\t\t\t\tfor (let v of data) {\r\n\t\t\t\t\t\tif (v.similarityQid !== null) {\r\n\t\t\t\t\t\t\tids.push(v.pairId);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (ids.length < 1) {\r\n\t\t\t\t\t\tutils.alertMessage('只能审核含有相似句的语料');\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst endLoading = utils.loadingBtn($('#check-btn'));\r\n\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\t// url: \"knowledge/review/accept\",\r\n\t\t\t\t\t\turl: 'knowledge/corpus/review/verify',\r\n\t\t\t\t\t\ttype: 'POST',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tpairIds: ids.join(',')\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: (msg) => {\r\n\t\t\t\t\t\t\tutils.alertMessage(msg.msg, !msg.error);\r\n\t\t\t\t\t\t\tif (!msg.error) {\r\n\t\t\t\t\t\t\t\ttable.reload();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\t\tendLoading();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t$('#show-detial-btn').on('click', () => {\r\n\t\t\ttable.checkLength({\r\n\t\t\t\tsingle: true,\r\n\t\t\t\taction: '查看',\r\n\t\t\t\tname: '语料',\r\n\t\t\t\tcb: (data, rows) => {\r\n\t\t\t\t\tconst modal = $('#detial-modal'),\r\n\t\t\t\t\t\trowIndex = rows.index();\r\n\t\t\t\t\tlet html = '';\r\n\t\t\t\t\tArray.prototype.forEach.call(dt.columns().header(), (v, i) => {\r\n\t\t\t\t\t\tconst title = $(v).html(),\r\n\t\t\t\t\t\t\tcontent = (dt.cell(rowIndex, i) as any).render('display');\r\n\t\t\t\t\t\thtml += `<tr><td>${title}</td><td>${content}</td></tr>`;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\thtml += targetHtml;\r\n\t\t\t\t\tmodal.modal('show');\r\n\t\t\t\t\tif (lastHtml === undefined || lastHtml !== html) {\r\n\t\t\t\t\t\t$('#detial-content').html(html);\r\n\t\t\t\t\t\tlastHtml = html;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t$('#detial-content').on('click', '.btn-link', (e) => {\r\n\t\t\t$('#detial-modal').hide().modal('hide');\r\n\t\t\t$($(e.currentTarget).data('target')).trigger('click');\r\n\r\n\t\t});\r\n\r\n\t\t$('#search-btn').on('click', () => {\r\n\t\t\ttable.reload(true);\r\n\t\t});\r\n\t\t// 导出语料\r\n\r\n\t\t$('#export-btn').on('click', () => {\r\n\t\t\tutils.alertMessage('正在生成文件！', 'success');\r\n\t\t\tconst data = utils.cleanObject(getSearchData());\r\n\r\n\t\t\tlocation.href = `${ctx}/knowledge/corpus/review/exportTestExcel?${$.param(data)}`;\r\n\t\t});\r\n\t\tutils.bindEnter($('#similar,#question,#answer'), () => { table.reload(true); });\r\n\t\ttables.bindPageChange(dt, $('#page-change'));\r\n\r\n\t\t// $('#edit-modal').one('shown.bs.modal', initEditTable);\r\n\r\n\r\n\t\ttable.table.on('click', '.edit-as-new-btn', (e) => {\r\n\t\t\tconst data: any = dt.row($(e.currentTarget).closest('tr')).data();\r\n\t\t\tif (!data) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tsideBar.open(data.pairId, '添加语料');\r\n\t\t\t// const content = sideBar.elements.content.empty();\r\n\t\t\t// const end = utils.addLoadingBg(content);\r\n\t\t\t// const iframe = document.createElement('iframe');\r\n\t\t\t// iframe.onload = () => {\r\n\t\t\t// \tend();\r\n\t\t\t// };\r\n\r\n\t\t\t// iframe.src = `knowledge/corpusManage/update?pairId=${data.pairId}`;\r\n\r\n\t\t\t// content.append(iframe);\r\n\r\n\t\t\t// sideBar.show();\r\n\r\n\t\t});\r\n\t}\r\n\r\n\tfunction renderQuestion(q, type, row) {\r\n\t\treturn `<p class=\"question\" title=\"${q}\">${q}</p>\r\n\t\t\t<p class=\"cloud-td-info\">类别:${tables.renderClassify(row.similarityClassifyId)}</p>\r\n\t\t`;\r\n\t}\r\n    /**\r\n     * 初始化语料编辑时选择知识点的表格\r\n     */\r\n\t/* function initEditTable() {\r\n\t\tconst classify = new utils.ClassifyTree({\r\n\t\t\tel: $('#classify'),\r\n\t\t\tdata: utils.formatClassify(selectData.classify, true),\r\n\t\t\tmultiple: true,\r\n\t\t\tselected: true\r\n\t\t});\r\n\r\n\t\tconst eDate = new utils.CommonDate({\r\n\t\t\tel: $('#form-date')\r\n\t\t});\r\n\r\n\t\tconst eTable = new Table({\r\n\t\t\tel: $('#edit-table'),\r\n\t\t\tcheckbox: {\r\n\t\t\t\tdata: 'pairId'\r\n\t\t\t},\r\n\t\t\toptions: {\r\n\t\t\t\tselect: {\r\n\t\t\t\t\tstyle: 'single'\r\n\t\t\t\t},\r\n\t\t\t\tpaging: true,\r\n\t\t\t\tserverSide: true,\r\n\t\t\t\tajax: {\r\n\t\t\t\t\turl: 'knowledge/corpus/review/update/list',\r\n\t\t\t\t\tdataSrc: data => data.rows,\r\n\t\t\t\t\tdata: (data) => {\r\n\t\t\t\t\t\treturn utils.cleanObject(extendsData(data, {\r\n\t\t\t\t\t\t\tquestionkeyword: $.trim($('#form-question').val()),\r\n\t\t\t\t\t\t\tanswerkeword: $.trim($('#form-answer').val()),\r\n\t\t\t\t\t\t\tclassifys: classify.selected.join(','),\r\n\t\t\t\t\t\t\tcharacter: $('#select-character').val(),\r\n\t\t\t\t\t\t\tpushway: $('#select-pushway').val(),\r\n\t\t\t\t\t\t\tbeginTime: eDate.getDate('start'),\r\n\t\t\t\t\t\t\tendTime: eDate.getDate('end'),\r\n\t\t\t\t\t\t\tcorpusStatus: 8\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tcolumns: [\r\n\t\t\t\t\t{ data: 'literal', title: '问题', width: '50%', createdCell: tables.createAddTitle },\r\n\t\t\t\t\t{ data: 'digest', title: '回复', width: '50%', createdCell: tables.createAddTitle }\r\n\t\t\t\t],\r\n\t\t\t\tinitComplete: () => {\r\n\t\t\t\t\teditInitComplete(eTable);\r\n\t\t\t\t},\r\n\t\t\t\tscrollY: '300px',\r\n\t\t\t\tscrollCollapse: true\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t}\r\n\tfunction editInitComplete(eTable: Table) {\r\n\t\tconst dt = eTable.dt;\r\n\t\t$('#edit-submit-btn').on('click', () => {\r\n\t\t\teTable.checkLength({\r\n\t\t\t\tname: '知识点',\r\n\t\t\t\taction: '添加到',\r\n\t\t\t\tcb: (data) => {\r\n\t\t\t\t\tif (!select || select.length < 1) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tfor (let v of select) {\r\n\t\t\t\t\t\t\tif (v.pairId === data.pairId) {\r\n\t\t\t\t\t\t\t\tutils.alertMessage('不能保存为相同语料');\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconst endLoading = utils.loadingBtn($('#edit-submit-btn'));\r\n\t\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\t\turl: 'knowledge/corpus/review/update',\r\n\t\t\t\t\t\t\ttype: 'POST',\r\n\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\tpairIds: select.map(v => v.pairId).join(','),\r\n\t\t\t\t\t\t\t\tpairId: data.pairId\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsuccess: (msg) => {\r\n\t\t\t\t\t\t\t\tutils.alertMessage(msg.msg, !msg.error);\r\n\t\t\t\t\t\t\t\tif (!msg.error) {\r\n\t\t\t\t\t\t\t\t\t$('#edit-modal').modal('hide');\r\n\t\t\t\t\t\t\t\t\t$('#table').DataTable().draw(false);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\t\t\tendLoading();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t$('#form-search-btn').on('click', () => {\r\n\t\t\teTable.reload(true);\r\n\t\t});\r\n\r\n\t\tutils.bindEnter($('#form-answer,#form-question'), () => eTable.reload(true));\r\n\t} */\r\n\r\n\tfunction renderDegree(num: number): string {\r\n\t\treturn (num * 1000 / 10) + '%';\r\n\t}\r\n\r\n\r\n\tfunction getSearchData() {\r\n\t\tconst similar = $('#select-similar').val().split('-');\r\n\t\treturn {\r\n\t\t\tquestionkeyword: $.trim($('#question').val()),\r\n\t\t\tsimilarQuestionkeyword: $.trim($('#similar').val()),\r\n\t\t\tanswerkeyword: $.trim($('#answer').val()),\r\n\t\t\tclassifys: tree.selected.join(','),\r\n\t\t\tbeginDegree: similar[0],\r\n\t\t\tendDegree: similar[1],\r\n\t\t\tbeginTime: date.getDate('start'),\r\n\t\t\tendTime: date.getDate('end')\r\n\t\t};\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./pages/knowledge/corpus/review/index/index.ts","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./pages/knowledge/corpus/review/index/index.less\n// module id = 915\n// module chunks = 10"],"sourceRoot":""}