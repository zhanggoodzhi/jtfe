{"version":3,"sources":["webpack:///./components/word/index.less","webpack:///./components/word/index.ts","webpack:///./pages/stopword/index/index.ts"],"names":[],"mappings":"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","file":"28.js","sourcesContent":["// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/word/index.less\n// module id = 289\n// module chunks = 28 29","import { alertMessage, loadingBtn, renderCommonTime, cleanObject, bindEnter } from 'utils';\r\nimport 'new-table';\r\nimport { getPage, commonConfig, bindPageChange, delBtnClick, VARIABLES, Table } from 'tables';\r\nimport 'time';\r\nimport './index.less';\r\nimport { DelayUpload } from 'upload';\r\ninterface IWord {\r\n\twordName: string;\r\n\tlistParam: string;\r\n\taddParam: string;\r\n\tpath: string;\r\n\tdelType: string;\r\n}\r\n\r\nclass Word {\r\n\tprivate props: IWord;\r\n\tconstructor(props: IWord) {\r\n\t\tthis.props = props;\r\n\t\tthis.init();\r\n\t}\r\n\tinit() {\r\n\t\tconst tname = this.props.wordName;\r\n\t\t$('#key-table').DataTable(\r\n\t\t\tObject.assign(\r\n\t\t\t\tcommonConfig(),\r\n\t\t\t\t{\r\n\t\t\t\t\tajax: {\r\n\t\t\t\t\t\ttype: 'POST',\r\n\t\t\t\t\t\turl: this.props.path + '/list',\r\n\t\t\t\t\t\tdataSrc: data => { return data.rows; },\r\n\t\t\t\t\t\tdata: (d: any) => {\r\n\t\t\t\t\t\t\tlet data = {\r\n\t\t\t\t\t\t\t\tpage: getPage(d),\r\n                                rows: d.length,\r\n                                source: $('#source').val()\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tdata[this.props.listParam] = $('#keyword').val();\r\n\t\t\t\t\t\t\treturn cleanObject(data);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t{ data: 'word', title: tname },\r\n\t\t\t\t\t\t{ data: 'createTime', title: '创建时间', render: renderCommonTime, width: VARIABLES.width.commonTime },\r\n\t\t\t\t\t\t{ data: 'updateTime', title: '修改时间', render: renderCommonTime, width: VARIABLES.width.commonTime }\r\n\t\t\t\t\t],\r\n\t\t\t\t\tinitComplete: this.initComplete\r\n\t\t\t\t}\r\n\t\t\t));\r\n\t}\r\n\r\n\tinitComplete = () => {\r\n\t\tconst table = $('#key-table').DataTable();\r\n\t\tconst t = new Table(table);\r\n\t\tconst name = this.props.wordName;\r\n\t\tdelBtnClick({\r\n\t\t\ttable: table,\r\n\t\t\turl: this.props.path + '/delete',\r\n\t\t\tname: name,\r\n\t\t\ttype: this.props.delType,\r\n\t\t\tel: $('#del-btn')\r\n\t\t});\r\n\r\n\t\tconst uploadBtn = $('#upload-submit-btn');\r\n\t\tconst upload = new DelayUpload({\r\n\t\t\taccept: '.xls,xlsx',\r\n\t\t\turl: this.props.path + '/batchupload',\r\n\t\t\tname: 'uploadedFile',\r\n\t\t\tsaveBtn: $('#upload-wrap'),\r\n\t\t\tsubmitBtn: uploadBtn,\r\n\t\t\tsave: (id, fileName) => {\r\n\t\t\t\t$('#info-wrap').show();\r\n\t\t\t\t$('#info-name').text(fileName);\r\n\t\t\t},\r\n\t\t\tsuccess: (msg) => {\r\n\t\t\t\tif (!msg.error) {\r\n\t\t\t\t\talertMessage(msg.msg, msg.code, false);\r\n\t\t\t\t\t$('#upload').modal('hide');\r\n\t\t\t\t\tt.refresh();\r\n\t\t\t\t\t$('#info-wrap').hide();\r\n\t\t\t\t\t$('#info-name').text('');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcancel: () => {\r\n\t\t\t\t$('#info-wrap').hide();\r\n\t\t\t\t$('#info-name').text('');\r\n\t\t\t}\r\n\t\t});\r\n\t\t$('#upload').on('hide.bs.modal', () => {\r\n\t\t\tupload.cancel();\r\n\t\t});\r\n\t\t// const upload = new Upload({\r\n\t\t//     url: this.props.path + '/batchupload',\r\n\t\t//     name: 'uploadedFile',\r\n\t\t//     accept: '.xlsx,.xls',\r\n\t\t//     bindChangeEvent: false,\r\n\t\t//     success: (msg) => {\r\n\t\t//         alertMessage(msg.msg, msg.code, false);\r\n\t\t//         if (!msg.error) {\r\n\t\t//             $('#upload').modal('hide');\r\n\t\t//             // table.draw();\r\n\t\t//             t.refresh();\r\n\t\t//         }\r\n\t\t//     },\r\n\t\t//     onChange: (files) => {\r\n\t\t//         if (files) {\r\n\t\t//             $('#info-wrap').show();\r\n\t\t//             $('#info-name').text(files[0].name);\r\n\t\t//         }\r\n\t\t//     },\r\n\t\t//     clearCallback: () => {\r\n\t\t//         $('#info-wrap').hide();\r\n\t\t//         $('#info-name').text('');\r\n\t\t//     },\r\n\t\t//     complete: () => {\r\n\t\t//         endLoadingBtn(uploadBtn, '确定');\r\n\t\t//     }\r\n\t\t// });\r\n\t\t// $('#upload').on('hide.bs.modal', () => {\r\n\t\t//     upload.clear();\r\n\t\t// });\r\n\t\t// $('#upload-wrap').on('click', () => {\r\n\t\t//     upload.select();\r\n\t\t// });\r\n\t\t// uploadBtn.on('click', () => {\r\n\t\t//     if (!upload.getFiles()) {\r\n\t\t//         alertMessage('请选择要上传的文件');\r\n\t\t//         return;\r\n\t\t//     }\r\n\t\t//     loadingBtn(uploadBtn);\r\n\t\t//     upload.upload();\r\n\t\t// });\r\n\t\t$('#batch-upload-btn').on('click', () => {\r\n\t\t\t$('#upload').modal('show');\r\n\t\t});\r\n\r\n\t\t$('#add-btn').on('click', () => {\r\n\t\t\t$('#add-modal').modal('show');\r\n\t\t\t$('#add-word').val('');\r\n\t\t});\r\n\r\n\t\t$('#add-modal').on('shown.bs.modal', () => {\r\n\t\t\t$('#add-word').focus();\r\n\t\t});\r\n\r\n\t\t$('#add-submit').on('click', () => {\r\n\t\t\tconst val = $.trim($('#add-word').val());\r\n\t\t\tif (val === '') {\r\n\t\t\t\talertMessage(`${name}不能为空`);\r\n\t\t\t}\r\n            /*else if (val.length > 255) {\r\n                alertMessage('' + name + '长度不能超过255个字符！');\r\n            } */else {\r\n\t\t\t\tconst loading = loadingBtn($('#add-submit'));\r\n\t\t\t\tlet data = {};\r\n\t\t\t\tdata[this.props.addParam] = $('#add-word').val();\r\n\t\t\t\t$.ajax({\r\n\t\t\t\t\ttype: 'POST',\r\n\t\t\t\t\turl: this.props.path + '/add',\r\n\t\t\t\t\tdata: data,\r\n\t\t\t\t\tsuccess: (msg) => {\r\n\t\t\t\t\t\tif (!msg.error) {\r\n\t\t\t\t\t\t\t$('#add-modal').modal('hide');\r\n\t\t\t\t\t\t\t// table.draw();\r\n\t\t\t\t\t\t\tt.refresh(true);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\talertMessage(msg.msg, !msg.error);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\tloading();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$('#edit-btn').on('click', () => {\r\n\t\t\tconst data = table.rows({ selected: true }).data();\r\n\t\t\tif (data.length < 1) {\r\n\t\t\t\talertMessage(`请选择要编辑的${name}`);\r\n\t\t\t}\r\n\t\t\telse if (data.length > 1) {\r\n\t\t\t\talertMessage(`只能编辑一个${name}`);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tconst currentData = data[0];\r\n\t\t\t\t$('#edit-modal').modal('show');\r\n\t\t\t\t$('#edit-modal-content').html(\r\n\t\t\t\t\t`<div class='form-group'>\r\n                        <label>原${name}</label>\r\n                        <p class='form-control-static' title='${currentData.word}'>${currentData.word}</p>\r\n                    </div>\r\n                    <div class='form-group'>\r\n                        <label>修改为</label>\r\n                        <input type='text' class='form-control' data-id='${currentData.id}' value='${currentData.word}' data-old='${currentData.word}' maxlength='50'>\r\n                    </div>`);\r\n\t\t\t\t$('#edit-modal-content input:first').select();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$('#edit-submit').on('click', () => {\r\n\t\t\tlet data = [];\r\n\t\t\tArray.prototype.forEach.call($('#edit-modal-content input'), v => {\r\n\t\t\t\tconst el = $(v),\r\n\t\t\t\t\tval = $.trim(el.val());\r\n\t\t\t\tif (val === el.attr('data-old')) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tdata.push({\r\n\t\t\t\t\tid: el.data('id'),\r\n\t\t\t\t\tname: val\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tif (data.length < 1) {\r\n\t\t\t\talertMessage(`未修改${name}或所有${name}为空`);\r\n\t\t\t}\r\n\t\t\telse if (data[0].name.length > 255) {\r\n\t\t\t\talertMessage(`${name}长度不能超过255个字符`);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tconst loading = loadingBtn($('#edit-submit'));\r\n\t\t\t\t$.ajax({\r\n\t\t\t\t\turl: this.props.path + '/update',\r\n\t\t\t\t\ttype: 'POST',\r\n\t\t\t\t\tdata: JSON.stringify({ 'data': data }),\r\n\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\tcontentType: 'application/json; charset=utf-8',\r\n\t\t\t\t\tsuccess: (msg) => {\r\n\t\t\t\t\t\tif (!msg.error) {\r\n\t\t\t\t\t\t\t$('#edit-modal').modal('hide');\r\n\t\t\t\t\t\t\t// table.draw(false);\r\n\t\t\t\t\t\t\tt.refresh();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\talertMessage(msg.msg, !msg.error);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\tloading();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$('#search-btn').on('click', () => {\r\n\t\t\t// table.draw();\r\n\t\t\tt.refresh(true);\r\n\t\t});\r\n\r\n\r\n\t\tbindEnter($('#keyword'), () => {\r\n\t\t\t// table.draw();\r\n\t\t\tt.refresh(true);\r\n\t\t});\r\n\r\n\t\tbindEnter($('#edit-modal'), () => {\r\n\t\t\t$('#edit-submit').click();\r\n\t\t}, 'input');\r\n\r\n\t\tbindEnter($('#add-modal'), () => {\r\n\t\t\t$('#add-submit').click();\r\n\t\t}, 'input');\r\n\r\n\r\n\t\tbindPageChange(table, $('#page-change'));\r\n\r\n\t\t// $('#keyword').focus();\r\n\r\n\t}\r\n}\r\n\r\nexport default Word;\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/word/index.ts","import Word from \"word\";\r\n$(() => {\r\n    new Word({\r\n        path: \"stopword\",\r\n        listParam: \"stopword\",\r\n        wordName: \"停用词\",\r\n        addParam: \"stopword\",\r\n        delType: \"GET\"\r\n    });\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./pages/stopword/index/index.ts"],"sourceRoot":""}